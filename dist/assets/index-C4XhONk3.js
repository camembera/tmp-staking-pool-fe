(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();/**
* @vue/shared v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function oc(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Oe={},Ps=[],Qt=()=>{},ld=()=>!1,Zo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ac=e=>e.startsWith("onUpdate:"),ct=Object.assign,ic=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},op=Object.prototype.hasOwnProperty,_e=(e,t)=>op.call(e,t),Pe=Array.isArray,As=e=>Yo(e)==="[object Map]",dd=e=>Yo(e)==="[object Set]",Ee=e=>typeof e=="function",Ke=e=>typeof e=="string",An=e=>typeof e=="symbol",Ue=e=>e!==null&&typeof e=="object",fd=e=>(Ue(e)||Ee(e))&&Ee(e.then)&&Ee(e.catch),hd=Object.prototype.toString,Yo=e=>hd.call(e),ap=e=>Yo(e).slice(8,-1),pd=e=>Yo(e)==="[object Object]",cc=e=>Ke(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,lr=oc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Jo=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},ip=/-\w/g,Ft=Jo(e=>e.replace(ip,t=>t.slice(1).toUpperCase())),cp=/\B([A-Z])/g,Ln=Jo(e=>e.replace(cp,"-$1").toLowerCase()),Xo=Jo(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ba=Jo(e=>e?`on${Xo(e)}`:""),Rn=(e,t)=>!Object.is(e,t),Po=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},bd=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},uc=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ku;const Qo=()=>ku||(ku=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Wn(e){if(Pe(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=Ke(s)?fp(s):Wn(s);if(r)for(const o in r)t[o]=r[o]}return t}else if(Ke(e)||Ue(e))return e}const up=/;(?![^(]*\))/g,lp=/:([^]+)/,dp=/\/\*[^]*?\*\//g;function fp(e){const t={};return e.replace(dp,"").split(up).forEach(n=>{if(n){const s=n.split(lp);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function qe(e){let t="";if(Ke(e))t=e;else if(Pe(e))for(let n=0;n<e.length;n++){const s=qe(e[n]);s&&(t+=s+" ")}else if(Ue(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const hp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",pp=oc(hp);function md(e){return!!e||e===""}const yd=e=>!!(e&&e.__v_isRef===!0),q=e=>Ke(e)?e:e==null?"":Pe(e)||Ue(e)&&(e.toString===hd||!Ee(e.toString))?yd(e)?q(e.value):JSON.stringify(e,gd,2):String(e),gd=(e,t)=>yd(t)?gd(e,t.value):As(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],o)=>(n[Ia(s,o)+" =>"]=r,n),{})}:dd(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Ia(n))}:An(t)?Ia(t):Ue(t)&&!Pe(t)&&!pd(t)?String(t):t,Ia=(e,t="")=>{var n;return An(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let mt;class bp{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=mt,!t&&mt&&(this.index=(mt.scopes||(mt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=mt;try{return mt=this,t()}finally{mt=n}}}on(){++this._on===1&&(this.prevScope=mt,mt=this)}off(){this._on>0&&--this._on===0&&(mt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function mp(){return mt}let De;const Ca=new WeakSet;class vd{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,mt&&mt.active&&mt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ca.has(this)&&(Ca.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Bu(this),Ed(this);const t=De,n=Lt;De=this,Lt=!0;try{return this.fn()}finally{Pd(this),De=t,Lt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)fc(t);this.deps=this.depsTail=void 0,Bu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ca.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){di(this)&&this.run()}get dirty(){return di(this)}}let wd=0,dr,fr;function xd(e,t=!1){if(e.flags|=8,t){e.next=fr,fr=e;return}e.next=dr,dr=e}function lc(){wd++}function dc(){if(--wd>0)return;if(fr){let t=fr;for(fr=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;dr;){let t=dr;for(dr=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function Ed(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Pd(e){let t,n=e.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),fc(s),yp(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}e.deps=t,e.depsTail=n}function di(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ad(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ad(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===gr)||(e.globalVersion=gr,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!di(e))))return;e.flags|=2;const t=e.dep,n=De,s=Lt;De=e,Lt=!0;try{Ed(e);const r=e.fn(e._value);(t.version===0||Rn(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{De=n,Lt=s,Pd(e),e.flags&=-3}}function fc(e,t=!1){const{dep:n,prevSub:s,nextSub:r}=e;if(s&&(s.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)fc(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function yp(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Lt=!0;const Sd=[];function mn(){Sd.push(Lt),Lt=!1}function yn(){const e=Sd.pop();Lt=e===void 0?!0:e}function Bu(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=De;De=void 0;try{t()}finally{De=n}}}let gr=0;class gp{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class hc{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!De||!Lt||De===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==De)n=this.activeLink=new gp(De,this),De.deps?(n.prevDep=De.depsTail,De.depsTail.nextDep=n,De.depsTail=n):De.deps=De.depsTail=n,$d(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=De.depsTail,n.nextDep=void 0,De.depsTail.nextDep=n,De.depsTail=n,De.deps===n&&(De.deps=s)}return n}trigger(t){this.version++,gr++,this.notify(t)}notify(t){lc();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{dc()}}}function $d(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)$d(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const fi=new WeakMap,Yn=Symbol(""),hi=Symbol(""),vr=Symbol("");function ot(e,t,n){if(Lt&&De){let s=fi.get(e);s||fi.set(e,s=new Map);let r=s.get(n);r||(s.set(n,r=new hc),r.map=s,r.key=n),r.track()}}function dn(e,t,n,s,r,o){const a=fi.get(e);if(!a){gr++;return}const i=c=>{c&&c.trigger()};if(lc(),t==="clear")a.forEach(i);else{const c=Pe(e),l=c&&cc(n);if(c&&n==="length"){const u=Number(s);a.forEach((d,f)=>{(f==="length"||f===vr||!An(f)&&f>=u)&&i(d)})}else switch((n!==void 0||a.has(void 0))&&i(a.get(n)),l&&i(a.get(vr)),t){case"add":c?l&&i(a.get("length")):(i(a.get(Yn)),As(e)&&i(a.get(hi)));break;case"delete":c||(i(a.get(Yn)),As(e)&&i(a.get(hi)));break;case"set":As(e)&&i(a.get(Yn));break}}dc()}function fs(e){const t=Te(e);return t===e?t:(ot(t,"iterate",vr),Rt(e)?t:t.map(Dt))}function ea(e){return ot(e=Te(e),"iterate",vr),e}function Cn(e,t){return gn(e)?Rs(Jn(e)?Dt(t):t):Dt(t)}const vp={__proto__:null,[Symbol.iterator](){return Ta(this,Symbol.iterator,e=>Cn(this,e))},concat(...e){return fs(this).concat(...e.map(t=>Pe(t)?fs(t):t))},entries(){return Ta(this,"entries",e=>(e[1]=Cn(this,e[1]),e))},every(e,t){return rn(this,"every",e,t,void 0,arguments)},filter(e,t){return rn(this,"filter",e,t,n=>n.map(s=>Cn(this,s)),arguments)},find(e,t){return rn(this,"find",e,t,n=>Cn(this,n),arguments)},findIndex(e,t){return rn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return rn(this,"findLast",e,t,n=>Cn(this,n),arguments)},findLastIndex(e,t){return rn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return rn(this,"forEach",e,t,void 0,arguments)},includes(...e){return _a(this,"includes",e)},indexOf(...e){return _a(this,"indexOf",e)},join(e){return fs(this).join(e)},lastIndexOf(...e){return _a(this,"lastIndexOf",e)},map(e,t){return rn(this,"map",e,t,void 0,arguments)},pop(){return tr(this,"pop")},push(...e){return tr(this,"push",e)},reduce(e,...t){return Iu(this,"reduce",e,t)},reduceRight(e,...t){return Iu(this,"reduceRight",e,t)},shift(){return tr(this,"shift")},some(e,t){return rn(this,"some",e,t,void 0,arguments)},splice(...e){return tr(this,"splice",e)},toReversed(){return fs(this).toReversed()},toSorted(e){return fs(this).toSorted(e)},toSpliced(...e){return fs(this).toSpliced(...e)},unshift(...e){return tr(this,"unshift",e)},values(){return Ta(this,"values",e=>Cn(this,e))}};function Ta(e,t,n){const s=ea(e),r=s[t]();return s!==e&&!Rt(e)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.done||(o.value=n(o.value)),o}),r}const wp=Array.prototype;function rn(e,t,n,s,r,o){const a=ea(e),i=a!==e&&!Rt(e),c=a[t];if(c!==wp[t]){const d=c.apply(e,o);return i?Dt(d):d}let l=n;a!==e&&(i?l=function(d,f){return n.call(this,Cn(e,d),f,e)}:n.length>2&&(l=function(d,f){return n.call(this,d,f,e)}));const u=c.call(a,l,s);return i&&r?r(u):u}function Iu(e,t,n,s){const r=ea(e);let o=n;return r!==e&&(Rt(e)?n.length>3&&(o=function(a,i,c){return n.call(this,a,i,c,e)}):o=function(a,i,c){return n.call(this,a,Cn(e,i),c,e)}),r[t](o,...s)}function _a(e,t,n){const s=Te(e);ot(s,"iterate",vr);const r=s[t](...n);return(r===-1||r===!1)&&yc(n[0])?(n[0]=Te(n[0]),s[t](...n)):r}function tr(e,t,n=[]){mn(),lc();const s=Te(e)[t].apply(e,n);return dc(),yn(),s}const xp=oc("__proto__,__v_isRef,__isVue"),kd=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(An));function Ep(e){An(e)||(e=String(e));const t=Te(this);return ot(t,"has",e),t.hasOwnProperty(e)}class Bd{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(r?o?_p:_d:o?Td:Cd).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const a=Pe(t);if(!r){let c;if(a&&(c=vp[n]))return c;if(n==="hasOwnProperty")return Ep}const i=Reflect.get(t,n,it(t)?t:s);if((An(n)?kd.has(n):xp(n))||(r||ot(t,"get",n),o))return i;if(it(i)){const c=a&&cc(n)?i:i.value;return r&&Ue(c)?bi(c):c}return Ue(i)?r?bi(i):bc(i):i}}class Id extends Bd{constructor(t=!1){super(!1,t)}set(t,n,s,r){let o=t[n];const a=Pe(t)&&cc(n);if(!this._isShallow){const l=gn(o);if(!Rt(s)&&!gn(s)&&(o=Te(o),s=Te(s)),!a&&it(o)&&!it(s))return l||(o.value=s),!0}const i=a?Number(n)<t.length:_e(t,n),c=Reflect.set(t,n,s,it(t)?t:r);return t===Te(r)&&(i?Rn(s,o)&&dn(t,"set",n,s):dn(t,"add",n,s)),c}deleteProperty(t,n){const s=_e(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&dn(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!An(n)||!kd.has(n))&&ot(t,"has",n),s}ownKeys(t){return ot(t,"iterate",Pe(t)?"length":Yn),Reflect.ownKeys(t)}}class Pp extends Bd{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Ap=new Id,Sp=new Pp,$p=new Id(!0);const pi=e=>e,io=e=>Reflect.getPrototypeOf(e);function kp(e,t,n){return function(...s){const r=this.__v_raw,o=Te(r),a=As(o),i=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,l=r[e](...s),u=n?pi:t?Rs:Dt;return!t&&ot(o,"iterate",c?hi:Yn),ct(Object.create(l),{next(){const{value:d,done:f}=l.next();return f?{value:d,done:f}:{value:i?[u(d[0]),u(d[1])]:u(d),done:f}}})}}function co(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Bp(e,t){const n={get(r){const o=this.__v_raw,a=Te(o),i=Te(r);e||(Rn(r,i)&&ot(a,"get",r),ot(a,"get",i));const{has:c}=io(a),l=t?pi:e?Rs:Dt;if(c.call(a,r))return l(o.get(r));if(c.call(a,i))return l(o.get(i));o!==a&&o.get(r)},get size(){const r=this.__v_raw;return!e&&ot(Te(r),"iterate",Yn),r.size},has(r){const o=this.__v_raw,a=Te(o),i=Te(r);return e||(Rn(r,i)&&ot(a,"has",r),ot(a,"has",i)),r===i?o.has(r):o.has(r)||o.has(i)},forEach(r,o){const a=this,i=a.__v_raw,c=Te(i),l=t?pi:e?Rs:Dt;return!e&&ot(c,"iterate",Yn),i.forEach((u,d)=>r.call(o,l(u),l(d),a))}};return ct(n,e?{add:co("add"),set:co("set"),delete:co("delete"),clear:co("clear")}:{add(r){!t&&!Rt(r)&&!gn(r)&&(r=Te(r));const o=Te(this);return io(o).has.call(o,r)||(o.add(r),dn(o,"add",r,r)),this},set(r,o){!t&&!Rt(o)&&!gn(o)&&(o=Te(o));const a=Te(this),{has:i,get:c}=io(a);let l=i.call(a,r);l||(r=Te(r),l=i.call(a,r));const u=c.call(a,r);return a.set(r,o),l?Rn(o,u)&&dn(a,"set",r,o):dn(a,"add",r,o),this},delete(r){const o=Te(this),{has:a,get:i}=io(o);let c=a.call(o,r);c||(r=Te(r),c=a.call(o,r)),i&&i.call(o,r);const l=o.delete(r);return c&&dn(o,"delete",r,void 0),l},clear(){const r=Te(this),o=r.size!==0,a=r.clear();return o&&dn(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=kp(r,e,t)}),n}function pc(e,t){const n=Bp(e,t);return(s,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(_e(n,r)&&r in s?n:s,r,o)}const Ip={get:pc(!1,!1)},Cp={get:pc(!1,!0)},Tp={get:pc(!0,!1)};const Cd=new WeakMap,Td=new WeakMap,_d=new WeakMap,_p=new WeakMap;function Rp(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Np(e){return e.__v_skip||!Object.isExtensible(e)?0:Rp(ap(e))}function bc(e){return gn(e)?e:mc(e,!1,Ap,Ip,Cd)}function Fp(e){return mc(e,!1,$p,Cp,Td)}function bi(e){return mc(e,!0,Sp,Tp,_d)}function mc(e,t,n,s,r){if(!Ue(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=Np(e);if(o===0)return e;const a=r.get(e);if(a)return a;const i=new Proxy(e,o===2?s:n);return r.set(e,i),i}function Jn(e){return gn(e)?Jn(e.__v_raw):!!(e&&e.__v_isReactive)}function gn(e){return!!(e&&e.__v_isReadonly)}function Rt(e){return!!(e&&e.__v_isShallow)}function yc(e){return e?!!e.__v_raw:!1}function Te(e){const t=e&&e.__v_raw;return t?Te(t):e}function Op(e){return!_e(e,"__v_skip")&&Object.isExtensible(e)&&bd(e,"__v_skip",!0),e}const Dt=e=>Ue(e)?bc(e):e,Rs=e=>Ue(e)?bi(e):e;function it(e){return e?e.__v_isRef===!0:!1}function Q(e){return Mp(e,!1)}function Mp(e,t){return it(e)?e:new Lp(e,t)}class Lp{constructor(t,n){this.dep=new hc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Te(t),this._value=n?t:Dt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Rt(t)||gn(t);t=s?t:Te(t),Rn(t,n)&&(this._rawValue=t,this._value=s?t:Dt(t),this.dep.trigger())}}function ne(e){return it(e)?e.value:e}function Be(e){return Ee(e)?e():ne(e)}const Dp={get:(e,t,n)=>t==="__v_raw"?e:ne(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return it(r)&&!it(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function Rd(e){return Jn(e)?e:new Proxy(e,Dp)}class zp{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new hc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=gr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&De!==this)return xd(this,!0),!0}get value(){const t=this.dep.track();return Ad(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Up(e,t,n=!1){let s,r;return Ee(e)?s=e:(s=e.get,r=e.set),new zp(s,r,n)}const uo={},To=new WeakMap;let Vn;function jp(e,t=!1,n=Vn){if(n){let s=To.get(n);s||To.set(n,s=[]),s.push(e)}}function qp(e,t,n=Oe){const{immediate:s,deep:r,once:o,scheduler:a,augmentJob:i,call:c}=n,l=y=>r?y:Rt(y)||r===!1||r===0?fn(y,1):fn(y);let u,d,f,h,p=!1,b=!1;if(it(e)?(d=()=>e.value,p=Rt(e)):Jn(e)?(d=()=>l(e),p=!0):Pe(e)?(b=!0,p=e.some(y=>Jn(y)||Rt(y)),d=()=>e.map(y=>{if(it(y))return y.value;if(Jn(y))return l(y);if(Ee(y))return c?c(y,2):y()})):Ee(e)?t?d=c?()=>c(e,2):e:d=()=>{if(f){mn();try{f()}finally{yn()}}const y=Vn;Vn=u;try{return c?c(e,3,[h]):e(h)}finally{Vn=y}}:d=Qt,t&&r){const y=d,S=r===!0?1/0:r;d=()=>fn(y(),S)}const B=mp(),E=()=>{u.stop(),B&&B.active&&ic(B.effects,u)};if(o&&t){const y=t;t=(...S)=>{y(...S),E()}}let v=b?new Array(e.length).fill(uo):uo;const m=y=>{if(!(!(u.flags&1)||!u.dirty&&!y))if(t){const S=u.run();if(r||p||(b?S.some(($,I)=>Rn($,v[I])):Rn(S,v))){f&&f();const $=Vn;Vn=u;try{const I=[S,v===uo?void 0:b&&v[0]===uo?[]:v,h];v=S,c?c(t,3,I):t(...I)}finally{Vn=$}}}else u.run()};return i&&i(m),u=new vd(d),u.scheduler=a?()=>a(m,!1):m,h=y=>jp(y,!1,u),f=u.onStop=()=>{const y=To.get(u);if(y){if(c)c(y,4);else for(const S of y)S();To.delete(u)}},t?s?m(!0):v=u.run():a?a(m.bind(null,!0),!0):u.run(),E.pause=u.pause.bind(u),E.resume=u.resume.bind(u),E.stop=E,E}function fn(e,t=1/0,n){if(t<=0||!Ue(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,it(e))fn(e.value,t,n);else if(Pe(e))for(let s=0;s<e.length;s++)fn(e[s],t,n);else if(dd(e)||As(e))e.forEach(s=>{fn(s,t,n)});else if(pd(e)){for(const s in e)fn(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&fn(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Wr(e,t,n,s){try{return s?e(...s):e()}catch(r){ta(r,t,n)}}function tn(e,t,n,s){if(Ee(e)){const r=Wr(e,t,n,s);return r&&fd(r)&&r.catch(o=>{ta(o,t,n)}),r}if(Pe(e)){const r=[];for(let o=0;o<e.length;o++)r.push(tn(e[o],t,n,s));return r}}function ta(e,t,n,s=!0){const r=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Oe;if(t){let i=t.parent;const c=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const u=i.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,c,l)===!1)return}i=i.parent}if(o){mn(),Wr(o,null,10,[e,c,l]),yn();return}}Hp(e,n,r,s,a)}function Hp(e,t,n,s=!0,r=!1){if(r)throw e;console.error(e)}const ht=[];let Zt=-1;const Ss=[];let Tn=null,bs=0;const Nd=Promise.resolve();let _o=null;function Vp(e){const t=_o||Nd;return e?t.then(this?e.bind(this):e):t}function Gp(e){let t=Zt+1,n=ht.length;for(;t<n;){const s=t+n>>>1,r=ht[s],o=wr(r);o<e||o===e&&r.flags&2?t=s+1:n=s}return t}function gc(e){if(!(e.flags&1)){const t=wr(e),n=ht[ht.length-1];!n||!(e.flags&2)&&t>=wr(n)?ht.push(e):ht.splice(Gp(t),0,e),e.flags|=1,Fd()}}function Fd(){_o||(_o=Nd.then(Md))}function Wp(e){Pe(e)?Ss.push(...e):Tn&&e.id===-1?Tn.splice(bs+1,0,e):e.flags&1||(Ss.push(e),e.flags|=1),Fd()}function Cu(e,t,n=Zt+1){for(;n<ht.length;n++){const s=ht[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;ht.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Od(e){if(Ss.length){const t=[...new Set(Ss)].sort((n,s)=>wr(n)-wr(s));if(Ss.length=0,Tn){Tn.push(...t);return}for(Tn=t,bs=0;bs<Tn.length;bs++){const n=Tn[bs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Tn=null,bs=0}}const wr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Md(e){try{for(Zt=0;Zt<ht.length;Zt++){const t=ht[Zt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Wr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Zt<ht.length;Zt++){const t=ht[Zt];t&&(t.flags&=-2)}Zt=-1,ht.length=0,Od(),_o=null,(ht.length||Ss.length)&&Md()}}let et=null,Ld=null;function Ro(e){const t=et;return et=e,Ld=e&&e.type.__scopeId||null,t}function We(e,t=et,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&Uu(-1);const o=Ro(t);let a;try{a=e(...r)}finally{Ro(o),s._d&&Uu(1)}return a};return s._n=!0,s._c=!0,s._d=!0,s}function Dd(e,t){if(et===null)return e;const n=oa(et),s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,a,i,c=Oe]=t[r];o&&(Ee(o)&&(o={mounted:o,updated:o}),o.deep&&fn(a),s.push({dir:o,instance:n,value:a,oldValue:void 0,arg:i,modifiers:c}))}return e}function jn(e,t,n,s){const r=e.dirs,o=t&&t.dirs;for(let a=0;a<r.length;a++){const i=r[a];o&&(i.oldValue=o[a].value);let c=i.dir[s];c&&(mn(),tn(c,n,8,[e.el,i,e,t]),yn())}}function Kp(e,t){if(at){let n=at.provides;const s=at.parent&&at.parent.provides;s===n&&(n=at.provides=Object.create(s)),n[e]=t}}function Ao(e,t,n=!1){const s=Zb();if(s||ks){let r=ks?ks._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Ee(t)?t.call(s&&s.proxy):t}}const Zp=Symbol.for("v-scx"),Yp=()=>Ao(Zp);function Nt(e,t,n){return zd(e,t,n)}function zd(e,t,n=Oe){const{immediate:s,deep:r,flush:o,once:a}=n,i=ct({},n),c=t&&s||!t&&o!=="post";let l;if(Er){if(o==="sync"){const h=Yp();l=h.__watcherHandles||(h.__watcherHandles=[])}else if(!c){const h=()=>{};return h.stop=Qt,h.resume=Qt,h.pause=Qt,h}}const u=at;i.call=(h,p,b)=>tn(h,u,p,b);let d=!1;o==="post"?i.scheduler=h=>{Pt(h,u&&u.suspense)}:o!=="sync"&&(d=!0,i.scheduler=(h,p)=>{p?h():gc(h)}),i.augmentJob=h=>{t&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=qp(e,t,i);return Er&&(l?l.push(f):c&&f()),f}function Jp(e,t,n){const s=this.proxy,r=Ke(e)?e.includes(".")?Ud(s,e):()=>s[e]:e.bind(s,s);let o;Ee(t)?o=t:(o=t.handler,n=t);const a=Kr(this),i=zd(r,o.bind(s),n);return a(),i}function Ud(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const Xp=Symbol("_vte"),Qp=e=>e.__isTeleport,eb=Symbol("_leaveCb");function vc(e,t){e.shapeFlag&6&&e.component?(e.transition=t,vc(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function jd(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const No=new WeakMap;function hr(e,t,n,s,r=!1){if(Pe(e)){e.forEach((p,b)=>hr(p,t&&(Pe(t)?t[b]:t),n,s,r));return}if($s(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&hr(e,t,n,s.component.subTree);return}const o=s.shapeFlag&4?oa(s.component):s.el,a=r?null:o,{i,r:c}=e,l=t&&t.r,u=i.refs===Oe?i.refs={}:i.refs,d=i.setupState,f=Te(d),h=d===Oe?ld:p=>_e(f,p);if(l!=null&&l!==c){if(Tu(t),Ke(l))u[l]=null,h(l)&&(d[l]=null);else if(it(l)){l.value=null;const p=t;p.k&&(u[p.k]=null)}}if(Ee(c))Wr(c,i,12,[a,u]);else{const p=Ke(c),b=it(c);if(p||b){const B=()=>{if(e.f){const E=p?h(c)?d[c]:u[c]:c.value;if(r)Pe(E)&&ic(E,o);else if(Pe(E))E.includes(o)||E.push(o);else if(p)u[c]=[o],h(c)&&(d[c]=u[c]);else{const v=[o];c.value=v,e.k&&(u[e.k]=v)}}else p?(u[c]=a,h(c)&&(d[c]=a)):b&&(c.value=a,e.k&&(u[e.k]=a))};if(a){const E=()=>{B(),No.delete(e)};E.id=-1,No.set(e,E),Pt(E,n)}else Tu(e),B()}}}function Tu(e){const t=No.get(e);t&&(t.flags|=8,No.delete(e))}Qo().requestIdleCallback;Qo().cancelIdleCallback;const $s=e=>!!e.type.__asyncLoader,qd=e=>e.type.__isKeepAlive;function tb(e,t){Hd(e,"a",t)}function nb(e,t){Hd(e,"da",t)}function Hd(e,t,n=at){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(na(t,s,n),n){let r=n.parent;for(;r&&r.parent;)qd(r.parent.vnode)&&sb(s,t,n,r),r=r.parent}}function sb(e,t,n,s){const r=na(t,e,s,!0);cs(()=>{ic(s[t],r)},n)}function na(e,t,n=at,s=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...a)=>{mn();const i=Kr(n),c=tn(t,n,e,a);return i(),yn(),c});return s?r.unshift(o):r.push(o),o}}const Sn=e=>(t,n=at)=>{(!Er||e==="sp")&&na(e,(...s)=>t(...s),n)},rb=Sn("bm"),wc=Sn("m"),ob=Sn("bu"),ab=Sn("u"),ib=Sn("bum"),cs=Sn("um"),cb=Sn("sp"),ub=Sn("rtg"),lb=Sn("rtc");function db(e,t=at){na("ec",e,t)}const fb="components",Vd=Symbol.for("v-ndc");function hb(e){return Ke(e)?pb(fb,e,!1)||e:e||Vd}function pb(e,t,n=!0,s=!1){const r=et||at;if(r){const o=r.type;{const i=em(o,!1);if(i&&(i===t||i===Ft(t)||i===Xo(Ft(t))))return o}const a=_u(r[e]||o[e],t)||_u(r.appContext[e],t);return!a&&s?o:a}}function _u(e,t){return e&&(e[t]||e[Ft(t)]||e[Xo(Ft(t))])}function _t(e,t,n,s){let r;const o=n,a=Pe(e);if(a||Ke(e)){const i=a&&Jn(e);let c=!1,l=!1;i&&(c=!Rt(e),l=gn(e),e=ea(e)),r=new Array(e.length);for(let u=0,d=e.length;u<d;u++)r[u]=t(c?l?Rs(Dt(e[u])):Dt(e[u]):e[u],u,void 0,o)}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,o)}else if(Ue(e))if(e[Symbol.iterator])r=Array.from(e,(i,c)=>t(i,c,void 0,o));else{const i=Object.keys(e);r=new Array(i.length);for(let c=0,l=i.length;c<l;c++){const u=i[c];r[c]=t(e[u],u,c,o)}}else r=[];return r}function So(e,t,n={},s,r){if(et.ce||et.parent&&$s(et.parent)&&et.parent.ce){const l=Object.keys(n).length>0;return t!=="default"&&(n.name=t),O(),Xt(Re,null,[Ce("slot",n,s)],l?-2:64)}let o=e[t];o&&o._c&&(o._d=!1),O();const a=o&&Gd(o(n)),i=n.key||a&&a.key,c=Xt(Re,{key:(i&&!An(i)?i:`_${t}`)+(!a&&s?"_fb":"")},a||[],a&&e._===1?64:-2);return o&&o._c&&(o._d=!0),c}function Gd(e){return e.some(t=>Pc(t)?!(t.type===vn||t.type===Re&&!Gd(t.children)):!0)?e:null}const mi=e=>e?ff(e)?oa(e):mi(e.parent):null,pr=ct(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>mi(e.parent),$root:e=>mi(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Kd(e),$forceUpdate:e=>e.f||(e.f=()=>{gc(e.update)}),$nextTick:e=>e.n||(e.n=Vp.bind(e.proxy)),$watch:e=>Jp.bind(e)}),Ra=(e,t)=>e!==Oe&&!e.__isScriptSetup&&_e(e,t),bb={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:o,accessCache:a,type:i,appContext:c}=e;if(t[0]!=="$"){const f=a[t];if(f!==void 0)switch(f){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(Ra(s,t))return a[t]=1,s[t];if(r!==Oe&&_e(r,t))return a[t]=2,r[t];if(_e(o,t))return a[t]=3,o[t];if(n!==Oe&&_e(n,t))return a[t]=4,n[t];yi&&(a[t]=0)}}const l=pr[t];let u,d;if(l)return t==="$attrs"&&ot(e.attrs,"get",""),l(e);if((u=i.__cssModules)&&(u=u[t]))return u;if(n!==Oe&&_e(n,t))return a[t]=4,n[t];if(d=c.config.globalProperties,_e(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:o}=e;return Ra(r,t)?(r[t]=n,!0):s!==Oe&&_e(s,t)?(s[t]=n,!0):_e(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,props:o,type:a}},i){let c;return!!(n[i]||e!==Oe&&i[0]!=="$"&&_e(e,i)||Ra(t,i)||_e(o,i)||_e(s,i)||_e(pr,i)||_e(r.config.globalProperties,i)||(c=a.__cssModules)&&c[i])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:_e(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ru(e){return Pe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let yi=!0;function mb(e){const t=Kd(e),n=e.proxy,s=e.ctx;yi=!1,t.beforeCreate&&Nu(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:a,watch:i,provide:c,inject:l,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:b,deactivated:B,beforeDestroy:E,beforeUnmount:v,destroyed:m,unmounted:y,render:S,renderTracked:$,renderTriggered:I,errorCaptured:T,serverPrefetch:_,expose:L,inheritAttrs:N,components:U,directives:j,filters:X}=t;if(l&&yb(l,s,null),a)for(const F in a){const R=a[F];Ee(R)&&(s[F]=R.bind(n))}if(r){const F=r.call(n,n);Ue(F)&&(e.data=bc(F))}if(yi=!0,o)for(const F in o){const R=o[F],H=Ee(R)?R.bind(n,n):Ee(R.get)?R.get.bind(n,n):Qt,Y=!Ee(R)&&Ee(R.set)?R.set.bind(n):Qt,oe=ce({get:H,set:Y});Object.defineProperty(s,F,{enumerable:!0,configurable:!0,get:()=>oe.value,set:ue=>oe.value=ue})}if(i)for(const F in i)Wd(i[F],s,n,F);if(c){const F=Ee(c)?c.call(n):c;Reflect.ownKeys(F).forEach(R=>{Kp(R,F[R])})}u&&Nu(u,e,"c");function C(F,R){Pe(R)?R.forEach(H=>F(H.bind(n))):R&&F(R.bind(n))}if(C(rb,d),C(wc,f),C(ob,h),C(ab,p),C(tb,b),C(nb,B),C(db,T),C(lb,$),C(ub,I),C(ib,v),C(cs,y),C(cb,_),Pe(L))if(L.length){const F=e.exposed||(e.exposed={});L.forEach(R=>{Object.defineProperty(F,R,{get:()=>n[R],set:H=>n[R]=H,enumerable:!0})})}else e.exposed||(e.exposed={});S&&e.render===Qt&&(e.render=S),N!=null&&(e.inheritAttrs=N),U&&(e.components=U),j&&(e.directives=j),_&&jd(e)}function yb(e,t,n=Qt){Pe(e)&&(e=gi(e));for(const s in e){const r=e[s];let o;Ue(r)?"default"in r?o=Ao(r.from||s,r.default,!0):o=Ao(r.from||s):o=Ao(r),it(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[s]=o}}function Nu(e,t,n){tn(Pe(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Wd(e,t,n,s){let r=s.includes(".")?Ud(n,s):()=>n[s];if(Ke(e)){const o=t[e];Ee(o)&&Nt(r,o)}else if(Ee(e))Nt(r,e.bind(n));else if(Ue(e))if(Pe(e))e.forEach(o=>Wd(o,t,n,s));else{const o=Ee(e.handler)?e.handler.bind(n):t[e.handler];Ee(o)&&Nt(r,o,e)}}function Kd(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,i=o.get(t);let c;return i?c=i:!r.length&&!n&&!s?c=t:(c={},r.length&&r.forEach(l=>Fo(c,l,a,!0)),Fo(c,t,a)),Ue(t)&&o.set(t,c),c}function Fo(e,t,n,s=!1){const{mixins:r,extends:o}=t;o&&Fo(e,o,n,!0),r&&r.forEach(a=>Fo(e,a,n,!0));for(const a in t)if(!(s&&a==="expose")){const i=gb[a]||n&&n[a];e[a]=i?i(e[a],t[a]):t[a]}return e}const gb={data:Fu,props:Ou,emits:Ou,methods:ur,computed:ur,beforeCreate:dt,created:dt,beforeMount:dt,mounted:dt,beforeUpdate:dt,updated:dt,beforeDestroy:dt,beforeUnmount:dt,destroyed:dt,unmounted:dt,activated:dt,deactivated:dt,errorCaptured:dt,serverPrefetch:dt,components:ur,directives:ur,watch:wb,provide:Fu,inject:vb};function Fu(e,t){return t?e?function(){return ct(Ee(e)?e.call(this,this):e,Ee(t)?t.call(this,this):t)}:t:e}function vb(e,t){return ur(gi(e),gi(t))}function gi(e){if(Pe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function dt(e,t){return e?[...new Set([].concat(e,t))]:t}function ur(e,t){return e?ct(Object.create(null),e,t):t}function Ou(e,t){return e?Pe(e)&&Pe(t)?[...new Set([...e,...t])]:ct(Object.create(null),Ru(e),Ru(t??{})):t}function wb(e,t){if(!e)return t;if(!t)return e;const n=ct(Object.create(null),e);for(const s in t)n[s]=dt(e[s],t[s]);return n}function Zd(){return{app:null,config:{isNativeTag:ld,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xb=0;function Eb(e,t){return function(s,r=null){Ee(s)||(s=ct({},s)),r!=null&&!Ue(r)&&(r=null);const o=Zd(),a=new WeakSet,i=[];let c=!1;const l=o.app={_uid:xb++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:nm,get config(){return o.config},set config(u){},use(u,...d){return a.has(u)||(u&&Ee(u.install)?(a.add(u),u.install(l,...d)):Ee(u)&&(a.add(u),u(l,...d))),l},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),l},component(u,d){return d?(o.components[u]=d,l):o.components[u]},directive(u,d){return d?(o.directives[u]=d,l):o.directives[u]},mount(u,d,f){if(!c){const h=l._ceVNode||Ce(s,r);return h.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),e(h,u,f),c=!0,l._container=u,u.__vue_app__=l,oa(h.component)}},onUnmount(u){i.push(u)},unmount(){c&&(tn(i,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide(u,d){return o.provides[u]=d,l},runWithContext(u){const d=ks;ks=l;try{return u()}finally{ks=d}}};return l}}let ks=null;const Pb=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ft(t)}Modifiers`]||e[`${Ln(t)}Modifiers`];function Ab(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Oe;let r=n;const o=t.startsWith("update:"),a=o&&Pb(s,t.slice(7));a&&(a.trim&&(r=n.map(u=>Ke(u)?u.trim():u)),a.number&&(r=n.map(uc)));let i,c=s[i=Ba(t)]||s[i=Ba(Ft(t))];!c&&o&&(c=s[i=Ba(Ln(t))]),c&&tn(c,e,6,r);const l=s[i+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,tn(l,e,6,r)}}const Sb=new WeakMap;function Yd(e,t,n=!1){const s=n?Sb:t.emitsCache,r=s.get(e);if(r!==void 0)return r;const o=e.emits;let a={},i=!1;if(!Ee(e)){const c=l=>{const u=Yd(l,t,!0);u&&(i=!0,ct(a,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!i?(Ue(e)&&s.set(e,null),null):(Pe(o)?o.forEach(c=>a[c]=null):ct(a,o),Ue(e)&&s.set(e,a),a)}function sa(e,t){return!e||!Zo(t)?!1:(t=t.slice(2).replace(/Once$/,""),_e(e,t[0].toLowerCase()+t.slice(1))||_e(e,Ln(t))||_e(e,t))}function Mu(e){const{type:t,vnode:n,proxy:s,withProxy:r,propsOptions:[o],slots:a,attrs:i,emit:c,render:l,renderCache:u,props:d,data:f,setupState:h,ctx:p,inheritAttrs:b}=e,B=Ro(e);let E,v;try{if(n.shapeFlag&4){const y=r||s,S=y;E=Yt(l.call(S,y,u,d,h,f,p)),v=i}else{const y=t;E=Yt(y.length>1?y(d,{attrs:i,slots:a,emit:c}):y(d,null)),v=t.props?i:$b(i)}}catch(y){br.length=0,ta(y,e,1),E=Ce(vn)}let m=E;if(v&&b!==!1){const y=Object.keys(v),{shapeFlag:S}=m;y.length&&S&7&&(o&&y.some(ac)&&(v=kb(v,o)),m=Ns(m,v,!1,!0))}return n.dirs&&(m=Ns(m,null,!1,!0),m.dirs=m.dirs?m.dirs.concat(n.dirs):n.dirs),n.transition&&vc(m,n.transition),E=m,Ro(B),E}const $b=e=>{let t;for(const n in e)(n==="class"||n==="style"||Zo(n))&&((t||(t={}))[n]=e[n]);return t},kb=(e,t)=>{const n={};for(const s in e)(!ac(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Bb(e,t,n){const{props:s,children:r,component:o}=e,{props:a,children:i,patchFlag:c}=t,l=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Lu(s,a,l):!!a;if(c&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(a[f]!==s[f]&&!sa(l,f))return!0}}}else return(r||i)&&(!i||!i.$stable)?!0:s===a?!1:s?a?Lu(s,a,l):!0:!!a;return!1}function Lu(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(t[o]!==e[o]&&!sa(n,o))return!0}return!1}function Ib({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Jd={},Xd=()=>Object.create(Jd),Qd=e=>Object.getPrototypeOf(e)===Jd;function Cb(e,t,n,s=!1){const r={},o=Xd();e.propsDefaults=Object.create(null),ef(e,t,r,o);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);n?e.props=s?r:Fp(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function Tb(e,t,n,s){const{props:r,attrs:o,vnode:{patchFlag:a}}=e,i=Te(r),[c]=e.propsOptions;let l=!1;if((s||a>0)&&!(a&16)){if(a&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(sa(e.emitsOptions,f))continue;const h=t[f];if(c)if(_e(o,f))h!==o[f]&&(o[f]=h,l=!0);else{const p=Ft(f);r[p]=vi(c,i,p,h,e,!1)}else h!==o[f]&&(o[f]=h,l=!0)}}}else{ef(e,t,r,o)&&(l=!0);let u;for(const d in i)(!t||!_e(t,d)&&((u=Ln(d))===d||!_e(t,u)))&&(c?n&&(n[d]!==void 0||n[u]!==void 0)&&(r[d]=vi(c,i,d,void 0,e,!0)):delete r[d]);if(o!==i)for(const d in o)(!t||!_e(t,d))&&(delete o[d],l=!0)}l&&dn(e.attrs,"set","")}function ef(e,t,n,s){const[r,o]=e.propsOptions;let a=!1,i;if(t)for(let c in t){if(lr(c))continue;const l=t[c];let u;r&&_e(r,u=Ft(c))?!o||!o.includes(u)?n[u]=l:(i||(i={}))[u]=l:sa(e.emitsOptions,c)||(!(c in s)||l!==s[c])&&(s[c]=l,a=!0)}if(o){const c=Te(n),l=i||Oe;for(let u=0;u<o.length;u++){const d=o[u];n[d]=vi(r,c,d,l[d],e,!_e(l,d))}}return a}function vi(e,t,n,s,r,o){const a=e[n];if(a!=null){const i=_e(a,"default");if(i&&s===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&Ee(c)){const{propsDefaults:l}=r;if(n in l)s=l[n];else{const u=Kr(r);s=l[n]=c.call(null,t),u()}}else s=c;r.ce&&r.ce._setProp(n,s)}a[0]&&(o&&!i?s=!1:a[1]&&(s===""||s===Ln(n))&&(s=!0))}return s}const _b=new WeakMap;function tf(e,t,n=!1){const s=n?_b:t.propsCache,r=s.get(e);if(r)return r;const o=e.props,a={},i=[];let c=!1;if(!Ee(e)){const u=d=>{c=!0;const[f,h]=tf(d,t,!0);ct(a,f),h&&i.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!c)return Ue(e)&&s.set(e,Ps),Ps;if(Pe(o))for(let u=0;u<o.length;u++){const d=Ft(o[u]);Du(d)&&(a[d]=Oe)}else if(o)for(const u in o){const d=Ft(u);if(Du(d)){const f=o[u],h=a[d]=Pe(f)||Ee(f)?{type:f}:ct({},f),p=h.type;let b=!1,B=!0;if(Pe(p))for(let E=0;E<p.length;++E){const v=p[E],m=Ee(v)&&v.name;if(m==="Boolean"){b=!0;break}else m==="String"&&(B=!1)}else b=Ee(p)&&p.name==="Boolean";h[0]=b,h[1]=B,(b||_e(h,"default"))&&i.push(d)}}const l=[a,i];return Ue(e)&&s.set(e,l),l}function Du(e){return e[0]!=="$"&&!lr(e)}const xc=e=>e==="_"||e==="_ctx"||e==="$stable",Ec=e=>Pe(e)?e.map(Yt):[Yt(e)],Rb=(e,t,n)=>{if(t._n)return t;const s=We((...r)=>Ec(t(...r)),n);return s._c=!1,s},nf=(e,t,n)=>{const s=e._ctx;for(const r in e){if(xc(r))continue;const o=e[r];if(Ee(o))t[r]=Rb(r,o,s);else if(o!=null){const a=Ec(o);t[r]=()=>a}}},sf=(e,t)=>{const n=Ec(t);e.slots.default=()=>n},rf=(e,t,n)=>{for(const s in t)(n||!xc(s))&&(e[s]=t[s])},Nb=(e,t,n)=>{const s=e.slots=Xd();if(e.vnode.shapeFlag&32){const r=t._;r?(rf(s,t,n),n&&bd(s,"_",r,!0)):nf(t,s)}else t&&sf(e,t)},Fb=(e,t,n)=>{const{vnode:s,slots:r}=e;let o=!0,a=Oe;if(s.shapeFlag&32){const i=t._;i?n&&i===1?o=!1:rf(r,t,n):(o=!t.$stable,nf(t,r)),a=t}else t&&(sf(e,t),a={default:1});if(o)for(const i in r)!xc(i)&&a[i]==null&&delete r[i]},Pt=zb;function Ob(e){return Mb(e)}function Mb(e,t){const n=Qo();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:a,createText:i,createComment:c,setText:l,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=Qt,insertStaticContent:p}=e,b=(w,k,M,K=null,V=null,W=null,se=void 0,G=null,ee=!!k.dynamicChildren)=>{if(w===k)return;w&&!nr(w,k)&&(K=x(w),ue(w,V,W,!0),w=null),k.patchFlag===-2&&(ee=!1,k.dynamicChildren=null);const{type:J,ref:de,shapeFlag:ae}=k;switch(J){case ra:B(w,k,M,K);break;case vn:E(w,k,M,K);break;case $o:w==null&&v(k,M,K,se);break;case Re:U(w,k,M,K,V,W,se,G,ee);break;default:ae&1?S(w,k,M,K,V,W,se,G,ee):ae&6?j(w,k,M,K,V,W,se,G,ee):(ae&64||ae&128)&&J.process(w,k,M,K,V,W,se,G,ee,te)}de!=null&&V?hr(de,w&&w.ref,W,k||w,!k):de==null&&w&&w.ref!=null&&hr(w.ref,null,W,w,!0)},B=(w,k,M,K)=>{if(w==null)s(k.el=i(k.children),M,K);else{const V=k.el=w.el;k.children!==w.children&&l(V,k.children)}},E=(w,k,M,K)=>{w==null?s(k.el=c(k.children||""),M,K):k.el=w.el},v=(w,k,M,K)=>{[w.el,w.anchor]=p(w.children,k,M,K,w.el,w.anchor)},m=({el:w,anchor:k},M,K)=>{let V;for(;w&&w!==k;)V=f(w),s(w,M,K),w=V;s(k,M,K)},y=({el:w,anchor:k})=>{let M;for(;w&&w!==k;)M=f(w),r(w),w=M;r(k)},S=(w,k,M,K,V,W,se,G,ee)=>{if(k.type==="svg"?se="svg":k.type==="math"&&(se="mathml"),w==null)$(k,M,K,V,W,se,G,ee);else{const J=w.el&&w.el._isVueCE?w.el:null;try{J&&J._beginPatch(),_(w,k,V,W,se,G,ee)}finally{J&&J._endPatch()}}},$=(w,k,M,K,V,W,se,G)=>{let ee,J;const{props:de,shapeFlag:ae,transition:ie,dirs:fe}=w;if(ee=w.el=a(w.type,W,de&&de.is,de),ae&8?u(ee,w.children):ae&16&&T(w.children,ee,null,K,V,Na(w,W),se,G),fe&&jn(w,null,K,"created"),I(ee,w,w.scopeId,se,K),de){for(const $e in de)$e!=="value"&&!lr($e)&&o(ee,$e,null,de[$e],W,K);"value"in de&&o(ee,"value",null,de.value,W),(J=de.onVnodeBeforeMount)&&Gt(J,K,w)}fe&&jn(w,null,K,"beforeMount");const we=Lb(V,ie);we&&ie.beforeEnter(ee),s(ee,k,M),((J=de&&de.onVnodeMounted)||we||fe)&&Pt(()=>{J&&Gt(J,K,w),we&&ie.enter(ee),fe&&jn(w,null,K,"mounted")},V)},I=(w,k,M,K,V)=>{if(M&&h(w,M),K)for(let W=0;W<K.length;W++)h(w,K[W]);if(V){let W=V.subTree;if(k===W||uf(W.type)&&(W.ssContent===k||W.ssFallback===k)){const se=V.vnode;I(w,se,se.scopeId,se.slotScopeIds,V.parent)}}},T=(w,k,M,K,V,W,se,G,ee=0)=>{for(let J=ee;J<w.length;J++){const de=w[J]=G?_n(w[J]):Yt(w[J]);b(null,de,k,M,K,V,W,se,G)}},_=(w,k,M,K,V,W,se)=>{const G=k.el=w.el;let{patchFlag:ee,dynamicChildren:J,dirs:de}=k;ee|=w.patchFlag&16;const ae=w.props||Oe,ie=k.props||Oe;let fe;if(M&&qn(M,!1),(fe=ie.onVnodeBeforeUpdate)&&Gt(fe,M,k,w),de&&jn(k,w,M,"beforeUpdate"),M&&qn(M,!0),(ae.innerHTML&&ie.innerHTML==null||ae.textContent&&ie.textContent==null)&&u(G,""),J?L(w.dynamicChildren,J,G,M,K,Na(k,V),W):se||R(w,k,G,null,M,K,Na(k,V),W,!1),ee>0){if(ee&16)N(G,ae,ie,M,V);else if(ee&2&&ae.class!==ie.class&&o(G,"class",null,ie.class,V),ee&4&&o(G,"style",ae.style,ie.style,V),ee&8){const we=k.dynamicProps;for(let $e=0;$e<we.length;$e++){const Ae=we[$e],Se=ae[Ae],ke=ie[Ae];(ke!==Se||Ae==="value")&&o(G,Ae,Se,ke,V,M)}}ee&1&&w.children!==k.children&&u(G,k.children)}else!se&&J==null&&N(G,ae,ie,M,V);((fe=ie.onVnodeUpdated)||de)&&Pt(()=>{fe&&Gt(fe,M,k,w),de&&jn(k,w,M,"updated")},K)},L=(w,k,M,K,V,W,se)=>{for(let G=0;G<k.length;G++){const ee=w[G],J=k[G],de=ee.el&&(ee.type===Re||!nr(ee,J)||ee.shapeFlag&198)?d(ee.el):M;b(ee,J,de,null,K,V,W,se,!0)}},N=(w,k,M,K,V)=>{if(k!==M){if(k!==Oe)for(const W in k)!lr(W)&&!(W in M)&&o(w,W,k[W],null,V,K);for(const W in M){if(lr(W))continue;const se=M[W],G=k[W];se!==G&&W!=="value"&&o(w,W,G,se,V,K)}"value"in M&&o(w,"value",k.value,M.value,V)}},U=(w,k,M,K,V,W,se,G,ee)=>{const J=k.el=w?w.el:i(""),de=k.anchor=w?w.anchor:i("");let{patchFlag:ae,dynamicChildren:ie,slotScopeIds:fe}=k;fe&&(G=G?G.concat(fe):fe),w==null?(s(J,M,K),s(de,M,K),T(k.children||[],M,de,V,W,se,G,ee)):ae>0&&ae&64&&ie&&w.dynamicChildren&&w.dynamicChildren.length===ie.length?(L(w.dynamicChildren,ie,M,V,W,se,G),(k.key!=null||V&&k===V.subTree)&&of(w,k,!0)):R(w,k,M,de,V,W,se,G,ee)},j=(w,k,M,K,V,W,se,G,ee)=>{k.slotScopeIds=G,w==null?k.shapeFlag&512?V.ctx.activate(k,M,K,se,ee):X(k,M,K,V,W,se,ee):A(w,k,ee)},X=(w,k,M,K,V,W,se)=>{const G=w.component=Kb(w,K,V);if(qd(w)&&(G.ctx.renderer=te),Yb(G,!1,se),G.asyncDep){if(V&&V.registerDep(G,C,se),!w.el){const ee=G.subTree=Ce(vn);E(null,ee,k,M),w.placeholder=ee.el}}else C(G,w,k,M,V,W,se)},A=(w,k,M)=>{const K=k.component=w.component;if(Bb(w,k,M))if(K.asyncDep&&!K.asyncResolved){F(K,k,M);return}else K.next=k,K.update();else k.el=w.el,K.vnode=k},C=(w,k,M,K,V,W,se)=>{const G=()=>{if(w.isMounted){let{next:ae,bu:ie,u:fe,parent:we,vnode:$e}=w;{const Ge=af(w);if(Ge){ae&&(ae.el=$e.el,F(w,ae,se)),Ge.asyncDep.then(()=>{w.isUnmounted||G()});return}}let Ae=ae,Se;qn(w,!1),ae?(ae.el=$e.el,F(w,ae,se)):ae=$e,ie&&Po(ie),(Se=ae.props&&ae.props.onVnodeBeforeUpdate)&&Gt(Se,we,ae,$e),qn(w,!0);const ke=Mu(w),Ze=w.subTree;w.subTree=ke,b(Ze,ke,d(Ze.el),x(Ze),w,V,W),ae.el=ke.el,Ae===null&&Ib(w,ke.el),fe&&Pt(fe,V),(Se=ae.props&&ae.props.onVnodeUpdated)&&Pt(()=>Gt(Se,we,ae,$e),V)}else{let ae;const{el:ie,props:fe}=k,{bm:we,m:$e,parent:Ae,root:Se,type:ke}=w,Ze=$s(k);qn(w,!1),we&&Po(we),!Ze&&(ae=fe&&fe.onVnodeBeforeMount)&&Gt(ae,Ae,k),qn(w,!0);{Se.ce&&Se.ce._def.shadowRoot!==!1&&Se.ce._injectChildStyle(ke);const Ge=w.subTree=Mu(w);b(null,Ge,M,K,w,V,W),k.el=Ge.el}if($e&&Pt($e,V),!Ze&&(ae=fe&&fe.onVnodeMounted)){const Ge=k;Pt(()=>Gt(ae,Ae,Ge),V)}(k.shapeFlag&256||Ae&&$s(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&w.a&&Pt(w.a,V),w.isMounted=!0,k=M=K=null}};w.scope.on();const ee=w.effect=new vd(G);w.scope.off();const J=w.update=ee.run.bind(ee),de=w.job=ee.runIfDirty.bind(ee);de.i=w,de.id=w.uid,ee.scheduler=()=>gc(de),qn(w,!0),J()},F=(w,k,M)=>{k.component=w;const K=w.vnode.props;w.vnode=k,w.next=null,Tb(w,k.props,K,M),Fb(w,k.children,M),mn(),Cu(w),yn()},R=(w,k,M,K,V,W,se,G,ee=!1)=>{const J=w&&w.children,de=w?w.shapeFlag:0,ae=k.children,{patchFlag:ie,shapeFlag:fe}=k;if(ie>0){if(ie&128){Y(J,ae,M,K,V,W,se,G,ee);return}else if(ie&256){H(J,ae,M,K,V,W,se,G,ee);return}}fe&8?(de&16&&ve(J,V,W),ae!==J&&u(M,ae)):de&16?fe&16?Y(J,ae,M,K,V,W,se,G,ee):ve(J,V,W,!0):(de&8&&u(M,""),fe&16&&T(ae,M,K,V,W,se,G,ee))},H=(w,k,M,K,V,W,se,G,ee)=>{w=w||Ps,k=k||Ps;const J=w.length,de=k.length,ae=Math.min(J,de);let ie;for(ie=0;ie<ae;ie++){const fe=k[ie]=ee?_n(k[ie]):Yt(k[ie]);b(w[ie],fe,M,null,V,W,se,G,ee)}J>de?ve(w,V,W,!0,!1,ae):T(k,M,K,V,W,se,G,ee,ae)},Y=(w,k,M,K,V,W,se,G,ee)=>{let J=0;const de=k.length;let ae=w.length-1,ie=de-1;for(;J<=ae&&J<=ie;){const fe=w[J],we=k[J]=ee?_n(k[J]):Yt(k[J]);if(nr(fe,we))b(fe,we,M,null,V,W,se,G,ee);else break;J++}for(;J<=ae&&J<=ie;){const fe=w[ae],we=k[ie]=ee?_n(k[ie]):Yt(k[ie]);if(nr(fe,we))b(fe,we,M,null,V,W,se,G,ee);else break;ae--,ie--}if(J>ae){if(J<=ie){const fe=ie+1,we=fe<de?k[fe].el:K;for(;J<=ie;)b(null,k[J]=ee?_n(k[J]):Yt(k[J]),M,we,V,W,se,G,ee),J++}}else if(J>ie)for(;J<=ae;)ue(w[J],V,W,!0),J++;else{const fe=J,we=J,$e=new Map;for(J=we;J<=ie;J++){const Fe=k[J]=ee?_n(k[J]):Yt(k[J]);Fe.key!=null&&$e.set(Fe.key,J)}let Ae,Se=0;const ke=ie-we+1;let Ze=!1,Ge=0;const nt=new Array(ke);for(J=0;J<ke;J++)nt[J]=0;for(J=fe;J<=ae;J++){const Fe=w[J];if(Se>=ke){ue(Fe,V,W,!0);continue}let st;if(Fe.key!=null)st=$e.get(Fe.key);else for(Ae=we;Ae<=ie;Ae++)if(nt[Ae-we]===0&&nr(Fe,k[Ae])){st=Ae;break}st===void 0?ue(Fe,V,W,!0):(nt[st-we]=J+1,st>=Ge?Ge=st:Ze=!0,b(Fe,k[st],M,null,V,W,se,G,ee),Se++)}const ze=Ze?Db(nt):Ps;for(Ae=ze.length-1,J=ke-1;J>=0;J--){const Fe=we+J,st=k[Fe],Qs=k[Fe+1],er=Fe+1<de?Qs.el||cf(Qs):K;nt[J]===0?b(null,st,M,er,V,W,se,G,ee):Ze&&(Ae<0||J!==ze[Ae]?oe(st,M,er,2):Ae--)}}},oe=(w,k,M,K,V=null)=>{const{el:W,type:se,transition:G,children:ee,shapeFlag:J}=w;if(J&6){oe(w.component.subTree,k,M,K);return}if(J&128){w.suspense.move(k,M,K);return}if(J&64){se.move(w,k,M,te);return}if(se===Re){s(W,k,M);for(let ae=0;ae<ee.length;ae++)oe(ee[ae],k,M,K);s(w.anchor,k,M);return}if(se===$o){m(w,k,M);return}if(K!==2&&J&1&&G)if(K===0)G.beforeEnter(W),s(W,k,M),Pt(()=>G.enter(W),V);else{const{leave:ae,delayLeave:ie,afterLeave:fe}=G,we=()=>{w.ctx.isUnmounted?r(W):s(W,k,M)},$e=()=>{W._isLeaving&&W[eb](!0),ae(W,()=>{we(),fe&&fe()})};ie?ie(W,we,$e):$e()}else s(W,k,M)},ue=(w,k,M,K=!1,V=!1)=>{const{type:W,props:se,ref:G,children:ee,dynamicChildren:J,shapeFlag:de,patchFlag:ae,dirs:ie,cacheIndex:fe}=w;if(ae===-2&&(V=!1),G!=null&&(mn(),hr(G,null,M,w,!0),yn()),fe!=null&&(k.renderCache[fe]=void 0),de&256){k.ctx.deactivate(w);return}const we=de&1&&ie,$e=!$s(w);let Ae;if($e&&(Ae=se&&se.onVnodeBeforeUnmount)&&Gt(Ae,k,w),de&6)pe(w.component,M,K);else{if(de&128){w.suspense.unmount(M,K);return}we&&jn(w,null,k,"beforeUnmount"),de&64?w.type.remove(w,k,M,te,K):J&&!J.hasOnce&&(W!==Re||ae>0&&ae&64)?ve(J,k,M,!1,!0):(W===Re&&ae&384||!V&&de&16)&&ve(ee,k,M),K&&ye(w)}($e&&(Ae=se&&se.onVnodeUnmounted)||we)&&Pt(()=>{Ae&&Gt(Ae,k,w),we&&jn(w,null,k,"unmounted")},M)},ye=w=>{const{type:k,el:M,anchor:K,transition:V}=w;if(k===Re){re(M,K);return}if(k===$o){y(w);return}const W=()=>{r(M),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(w.shapeFlag&1&&V&&!V.persisted){const{leave:se,delayLeave:G}=V,ee=()=>se(M,W);G?G(w.el,W,ee):ee()}else W()},re=(w,k)=>{let M;for(;w!==k;)M=f(w),r(w),w=M;r(k)},pe=(w,k,M)=>{const{bum:K,scope:V,job:W,subTree:se,um:G,m:ee,a:J}=w;zu(ee),zu(J),K&&Po(K),V.stop(),W&&(W.flags|=8,ue(se,w,k,M)),G&&Pt(G,k),Pt(()=>{w.isUnmounted=!0},k)},ve=(w,k,M,K=!1,V=!1,W=0)=>{for(let se=W;se<w.length;se++)ue(w[se],k,M,K,V)},x=w=>{if(w.shapeFlag&6)return x(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const k=f(w.anchor||w.el),M=k&&k[Xp];return M?f(M):k};let P=!1;const z=(w,k,M)=>{let K;w==null?k._vnode&&(ue(k._vnode,null,null,!0),K=k._vnode.component):b(k._vnode||null,w,k,null,null,null,M),k._vnode=w,P||(P=!0,Cu(K),Od(),P=!1)},te={p:b,um:ue,m:oe,r:ye,mt:X,mc:T,pc:R,pbc:L,n:x,o:e};return{render:z,hydrate:void 0,createApp:Eb(z)}}function Na({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function qn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Lb(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function of(e,t,n=!1){const s=e.children,r=t.children;if(Pe(s)&&Pe(r))for(let o=0;o<s.length;o++){const a=s[o];let i=r[o];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=r[o]=_n(r[o]),i.el=a.el),!n&&i.patchFlag!==-2&&of(a,i)),i.type===ra&&(i.patchFlag!==-1?i.el=a.el:i.__elIndex=o+(e.type===Re?1:0)),i.type===vn&&!i.el&&(i.el=a.el)}}function Db(e){const t=e.slice(),n=[0];let s,r,o,a,i;const c=e.length;for(s=0;s<c;s++){const l=e[s];if(l!==0){if(r=n[n.length-1],e[r]<l){t[s]=r,n.push(s);continue}for(o=0,a=n.length-1;o<a;)i=o+a>>1,e[n[i]]<l?o=i+1:a=i;l<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=t[a];return n}function af(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:af(t)}function zu(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function cf(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?cf(t.subTree):null}const uf=e=>e.__isSuspense;function zb(e,t){t&&t.pendingBranch?Pe(e)?t.effects.push(...e):t.effects.push(e):Wp(e)}const Re=Symbol.for("v-fgt"),ra=Symbol.for("v-txt"),vn=Symbol.for("v-cmt"),$o=Symbol.for("v-stc"),br=[];let St=null;function O(e=!1){br.push(St=e?null:[])}function Ub(){br.pop(),St=br[br.length-1]||null}let xr=1;function Uu(e,t=!1){xr+=e,e<0&&St&&t&&(St.hasOnce=!0)}function lf(e){return e.dynamicChildren=xr>0?St||Ps:null,Ub(),xr>0&&St&&St.push(e),e}function D(e,t,n,s,r,o){return lf(g(e,t,n,s,r,o,!0))}function Xt(e,t,n,s,r){return lf(Ce(e,t,n,s,r,!0))}function Pc(e){return e?e.__v_isVNode===!0:!1}function nr(e,t){return e.type===t.type&&e.key===t.key}const df=({key:e})=>e??null,ko=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ke(e)||it(e)||Ee(e)?{i:et,r:e,k:t,f:!!n}:e:null);function g(e,t=null,n=null,s=0,r=null,o=e===Re?0:1,a=!1,i=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&df(t),ref:t&&ko(t),scopeId:Ld,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:et};return i?(Ac(c,n),o&128&&e.normalize(c)):n&&(c.shapeFlag|=Ke(n)?8:16),xr>0&&!a&&St&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&St.push(c),c}const Ce=jb;function jb(e,t=null,n=null,s=0,r=null,o=!1){if((!e||e===Vd)&&(e=vn),Pc(e)){const i=Ns(e,t,!0);return n&&Ac(i,n),xr>0&&!o&&St&&(i.shapeFlag&6?St[St.indexOf(e)]=i:St.push(i)),i.patchFlag=-2,i}if(tm(e)&&(e=e.__vccOpts),t){t=qb(t);let{class:i,style:c}=t;i&&!Ke(i)&&(t.class=qe(i)),Ue(c)&&(yc(c)&&!Pe(c)&&(c=ct({},c)),t.style=Wn(c))}const a=Ke(e)?1:uf(e)?128:Qp(e)?64:Ue(e)?4:Ee(e)?2:0;return g(e,t,n,s,r,a,o,!0)}function qb(e){return e?yc(e)||Qd(e)?ct({},e):e:null}function Ns(e,t,n=!1,s=!1){const{props:r,ref:o,patchFlag:a,children:i,transition:c}=e,l=t?Vb(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&df(l),ref:t&&t.ref?n&&o?Pe(o)?o.concat(ko(t)):[o,ko(t)]:ko(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Re?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ns(e.ssContent),ssFallback:e.ssFallback&&Ns(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&s&&vc(u,c.clone(u)),u}function Xe(e=" ",t=0){return Ce(ra,null,e,t)}function Hb(e,t){const n=Ce($o,null,e);return n.staticCount=t,n}function be(e="",t=!1){return t?(O(),Xt(vn,null,e)):Ce(vn,null,e)}function Yt(e){return e==null||typeof e=="boolean"?Ce(vn):Pe(e)?Ce(Re,null,e.slice()):Pc(e)?_n(e):Ce(ra,null,String(e))}function _n(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ns(e)}function Ac(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Pe(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),Ac(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!Qd(t)?t._ctx=et:r===3&&et&&(et.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ee(t)?(t={default:t,_ctx:et},n=32):(t=String(t),s&64?(n=16,t=[Xe(t)]):n=8);e.children=t,e.shapeFlag|=n}function Vb(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=qe([t.class,s.class]));else if(r==="style")t.style=Wn([t.style,s.style]);else if(Zo(r)){const o=t[r],a=s[r];a&&o!==a&&!(Pe(o)&&o.includes(a))&&(t[r]=o?[].concat(o,a):a)}else r!==""&&(t[r]=s[r])}return t}function Gt(e,t,n,s=null){tn(e,t,7,[n,s])}const Gb=Zd();let Wb=0;function Kb(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||Gb,o={uid:Wb++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new bp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tf(s,r),emitsOptions:Yd(s,r),emit:null,emitted:null,propsDefaults:Oe,inheritAttrs:s.inheritAttrs,ctx:Oe,data:Oe,props:Oe,attrs:Oe,slots:Oe,refs:Oe,setupState:Oe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Ab.bind(null,o),e.ce&&e.ce(o),o}let at=null;const Zb=()=>at||et;let Oo,wi;{const e=Qo(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),o=>{r.length>1?r.forEach(a=>a(o)):r[0](o)}};Oo=t("__VUE_INSTANCE_SETTERS__",n=>at=n),wi=t("__VUE_SSR_SETTERS__",n=>Er=n)}const Kr=e=>{const t=at;return Oo(e),e.scope.on(),()=>{e.scope.off(),Oo(t)}},ju=()=>{at&&at.scope.off(),Oo(null)};function ff(e){return e.vnode.shapeFlag&4}let Er=!1;function Yb(e,t=!1,n=!1){t&&wi(t);const{props:s,children:r}=e.vnode,o=ff(e);Cb(e,s,o,t),Nb(e,r,n||t);const a=o?Jb(e,t):void 0;return t&&wi(!1),a}function Jb(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,bb);const{setup:s}=n;if(s){mn();const r=e.setupContext=s.length>1?Qb(e):null,o=Kr(e),a=Wr(s,e,0,[e.props,r]),i=fd(a);if(yn(),o(),(i||e.sp)&&!$s(e)&&jd(e),i){if(a.then(ju,ju),t)return a.then(c=>{qu(e,c)}).catch(c=>{ta(c,e,0)});e.asyncDep=a}else qu(e,a)}else hf(e)}function qu(e,t,n){Ee(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ue(t)&&(e.setupState=Rd(t)),hf(e)}function hf(e,t,n){const s=e.type;e.render||(e.render=s.render||Qt);{const r=Kr(e);mn();try{mb(e)}finally{yn(),r()}}}const Xb={get(e,t){return ot(e,"get",""),e[t]}};function Qb(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Xb),slots:e.slots,emit:e.emit,expose:t}}function oa(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Rd(Op(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in pr)return pr[n](e)},has(t,n){return n in t||n in pr}})):e.proxy}function em(e,t=!0){return Ee(e)?e.displayName||e.name:e.name||t&&e.__name}function tm(e){return Ee(e)&&"__vccOpts"in e}const ce=(e,t)=>Up(e,t,Er),nm="3.5.27";/**
* @vue/runtime-dom v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xi;const Hu=typeof window<"u"&&window.trustedTypes;if(Hu)try{xi=Hu.createPolicy("vue",{createHTML:e=>e})}catch{}const pf=xi?e=>xi.createHTML(e):e=>e,sm="http://www.w3.org/2000/svg",rm="http://www.w3.org/1998/Math/MathML",un=typeof document<"u"?document:null,Vu=un&&un.createElement("template"),om={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?un.createElementNS(sm,e):t==="mathml"?un.createElementNS(rm,e):n?un.createElement(e,{is:n}):un.createElement(e);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>un.createTextNode(e),createComment:e=>un.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>un.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,o){const a=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{Vu.innerHTML=pf(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const i=Vu.content;if(s==="svg"||s==="mathml"){const c=i.firstChild;for(;c.firstChild;)i.appendChild(c.firstChild);i.removeChild(c)}t.insertBefore(i,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},am=Symbol("_vtc");function im(e,t,n){const s=e[am];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Gu=Symbol("_vod"),cm=Symbol("_vsh"),um=Symbol(""),lm=/(?:^|;)\s*display\s*:/;function dm(e,t,n){const s=e.style,r=Ke(n);let o=!1;if(n&&!r){if(t)if(Ke(t))for(const a of t.split(";")){const i=a.slice(0,a.indexOf(":")).trim();n[i]==null&&Bo(s,i,"")}else for(const a in t)n[a]==null&&Bo(s,a,"");for(const a in n)a==="display"&&(o=!0),Bo(s,a,n[a])}else if(r){if(t!==n){const a=s[um];a&&(n+=";"+a),s.cssText=n,o=lm.test(n)}}else t&&e.removeAttribute("style");Gu in e&&(e[Gu]=o?s.display:"",e[cm]&&(s.display="none"))}const Wu=/\s*!important$/;function Bo(e,t,n){if(Pe(n))n.forEach(s=>Bo(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=fm(e,t);Wu.test(n)?e.setProperty(Ln(s),n.replace(Wu,""),"important"):e[s]=n}}const Ku=["Webkit","Moz","ms"],Fa={};function fm(e,t){const n=Fa[t];if(n)return n;let s=Ft(t);if(s!=="filter"&&s in e)return Fa[t]=s;s=Xo(s);for(let r=0;r<Ku.length;r++){const o=Ku[r]+s;if(o in e)return Fa[t]=o}return t}const Zu="http://www.w3.org/1999/xlink";function Yu(e,t,n,s,r,o=pp(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Zu,t.slice(6,t.length)):e.setAttributeNS(Zu,t,n):n==null||o&&!md(n)?e.removeAttribute(t):e.setAttribute(t,o?"":An(n)?String(n):n)}function Ju(e,t,n,s,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?pf(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const i=o==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(i!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const i=typeof e[t];i==="boolean"?n=md(n):n==null&&i==="string"?(n="",a=!0):i==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(r||t)}function ms(e,t,n,s){e.addEventListener(t,n,s)}function hm(e,t,n,s){e.removeEventListener(t,n,s)}const Xu=Symbol("_vei");function pm(e,t,n,s,r=null){const o=e[Xu]||(e[Xu]={}),a=o[t];if(s&&a)a.value=s;else{const[i,c]=bm(t);if(s){const l=o[t]=gm(s,r);ms(e,i,l,c)}else a&&(hm(e,i,a,c),o[t]=void 0)}}const Qu=/(?:Once|Passive|Capture)$/;function bm(e){let t;if(Qu.test(e)){t={};let s;for(;s=e.match(Qu);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ln(e.slice(2)),t]}let Oa=0;const mm=Promise.resolve(),ym=()=>Oa||(mm.then(()=>Oa=0),Oa=Date.now());function gm(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;tn(vm(s,n.value),t,5,[s])};return n.value=e,n.attached=ym(),n}function vm(e,t){if(Pe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const el=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,wm=(e,t,n,s,r,o)=>{const a=r==="svg";t==="class"?im(e,s,a):t==="style"?dm(e,n,s):Zo(t)?ac(t)||pm(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):xm(e,t,s,a))?(Ju(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Yu(e,t,s,a,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ke(s))?Ju(e,Ft(t),s,o,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Yu(e,t,s,a))};function xm(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&el(t)&&Ee(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return el(t)&&Ke(n)?!1:t in e}const tl=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Pe(t)?n=>Po(t,n):t};function Em(e){e.target.composing=!0}function nl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ma=Symbol("_assign");function sl(e,t,n){return t&&(e=e.trim()),n&&(e=uc(e)),e}const bf={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[Ma]=tl(r);const o=s||r.props&&r.props.type==="number";ms(e,t?"change":"input",a=>{a.target.composing||e[Ma](sl(e.value,n,o))}),(n||o)&&ms(e,"change",()=>{e.value=sl(e.value,n,o)}),t||(ms(e,"compositionstart",Em),ms(e,"compositionend",nl),ms(e,"change",nl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:r,number:o}},a){if(e[Ma]=tl(a),e.composing)return;const i=(o||e.type==="number")&&!/^0\d/.test(e.value)?uc(e.value):e.value,c=t??"";i!==c&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||r&&e.value.trim()===c)||(e.value=c))}},Pm=["ctrl","shift","alt","meta"],Am={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Pm.some(n=>e[`${n}Key`]&&!t.includes(n))},rl=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=((r,...o)=>{for(let a=0;a<t.length;a++){const i=Am[t[a]];if(i&&i(r,t))return}return e(r,...o)}))},Sm={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ys=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=(r=>{if(!("key"in r))return;const o=Ln(r.key);if(t.some(a=>a===o||Sm[a]===o))return e(r)}))},$m=ct({patchProp:wm},om);let ol;function km(){return ol||(ol=Ob($m))}const Bm=((...e)=>{const t=km().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=Cm(s);if(!r)return;const o=t._component;!Ee(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=n(r,!1,Im(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t});function Im(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Cm(e){return Ke(e)?document.querySelector(e):e}const Tm="1.2.3";let xt=class Ei extends Error{constructor(t,n={}){var a;const s=n.cause instanceof Ei?n.cause.details:(a=n.cause)!=null&&a.message?n.cause.message:n.details,r=n.cause instanceof Ei&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...r?[`Docs: https://abitype.dev${r}`]:[],...s?[`Details: ${s}`]:[],`Version: abitype@${Tm}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=s,this.docsPath=r,this.metaMessages=n.metaMessages,this.shortMessage=t}};function $n(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const mf=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,yf=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,gf=/^\(.+?\).*?$/,al=/^tuple(?<array>(\[(\d*)\])*)$/;function Pi(e){let t=e.type;if(al.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let r=0;r<n;r++){const o=e.components[r];t+=Pi(o),r<n-1&&(t+=", ")}const s=$n(al,e.type);return t+=`)${(s==null?void 0:s.array)||""}`,Pi({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function gs(e){let t="";const n=e.length;for(let s=0;s<n;s++){const r=e[s];t+=Pi(r),s!==n-1&&(t+=", ")}return t}function Mo(e){var t;return e.type==="function"?`function ${e.name}(${gs(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${gs(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${gs(e.inputs)})`:e.type==="error"?`error ${e.name}(${gs(e.inputs)})`:e.type==="constructor"?`constructor(${gs(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const vf=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function _m(e){return vf.test(e)}function Rm(e){return $n(vf,e)}const wf=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Nm(e){return wf.test(e)}function Fm(e){return $n(wf,e)}const xf=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Om(e){return xf.test(e)}function Mm(e){return $n(xf,e)}const Ef=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function aa(e){return Ef.test(e)}function Lm(e){return $n(Ef,e)}const Pf=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Dm(e){return Pf.test(e)}function zm(e){return $n(Pf,e)}const Af=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Um(e){return Af.test(e)}function jm(e){return $n(Af,e)}const qm=/^receive\(\) external payable$/;function Hm(e){return qm.test(e)}const il=new Set(["memory","indexed","storage","calldata"]),Vm=new Set(["indexed"]),Ai=new Set(["calldata","memory","storage"]);class Gm extends xt{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Wm extends xt{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Km extends xt{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Zm extends xt{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Ym extends xt{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Jm extends xt{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Xm extends xt{constructor({param:t,type:n,modifier:s}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${s}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Qm extends xt{constructor({param:t,type:n,modifier:s}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${s}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${s}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class e1 extends xt{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Hs extends xt{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class t1 extends xt{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class n1 extends xt{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class s1 extends xt{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class r1 extends xt{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function o1(e,t,n){let s="";if(n)for(const r of Object.entries(n)){if(!r)continue;let o="";for(const a of r[1])o+=`[${a.type}${a.name?`:${a.name}`:""}]`;s+=`(${r[0]}{${o}})`}return t?`${t}:${e}${s}`:`${e}${s}`}const La=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Si(e,t={}){if(Om(e))return a1(e,t);if(Nm(e))return i1(e,t);if(_m(e))return c1(e,t);if(Dm(e))return u1(e,t);if(Um(e))return l1(e);if(Hm(e))return{type:"receive",stateMutability:"payable"};throw new t1({signature:e})}function a1(e,t={}){const n=Mm(e);if(!n)throw new Hs({signature:e,type:"function"});const s=At(n.parameters),r=[],o=s.length;for(let i=0;i<o;i++)r.push(wn(s[i],{modifiers:Ai,structs:t,type:"function"}));const a=[];if(n.returns){const i=At(n.returns),c=i.length;for(let l=0;l<c;l++)a.push(wn(i[l],{modifiers:Ai,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:r,outputs:a}}function i1(e,t={}){const n=Fm(e);if(!n)throw new Hs({signature:e,type:"event"});const s=At(n.parameters),r=[],o=s.length;for(let a=0;a<o;a++)r.push(wn(s[a],{modifiers:Vm,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:r}}function c1(e,t={}){const n=Rm(e);if(!n)throw new Hs({signature:e,type:"error"});const s=At(n.parameters),r=[],o=s.length;for(let a=0;a<o;a++)r.push(wn(s[a],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:r}}function u1(e,t={}){const n=zm(e);if(!n)throw new Hs({signature:e,type:"constructor"});const s=At(n.parameters),r=[],o=s.length;for(let a=0;a<o;a++)r.push(wn(s[a],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:r}}function l1(e){const t=jm(e);if(!t)throw new Hs({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const d1=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,f1=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,h1=/^u?int$/;function wn(e,t){var d,f;const n=o1(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(La.has(n))return La.get(n);const s=gf.test(e),r=$n(s?f1:d1,e);if(!r)throw new Ym({param:e});if(r.name&&b1(r.name))throw new Jm({param:e,name:r.name});const o=r.name?{name:r.name}:{},a=r.modifier==="indexed"?{indexed:!0}:{},i=(t==null?void 0:t.structs)??{};let c,l={};if(s){c="tuple";const h=At(r.type),p=[],b=h.length;for(let B=0;B<b;B++)p.push(wn(h[B],{structs:i}));l={components:p}}else if(r.type in i)c="tuple",l={components:i[r.type]};else if(h1.test(r.type))c=`${r.type}256`;else if(r.type==="address payable")c="address";else if(c=r.type,(t==null?void 0:t.type)!=="struct"&&!Sf(c))throw new Km({type:c});if(r.modifier){if(!((f=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&f.call(d,r.modifier)))throw new Xm({param:e,type:t==null?void 0:t.type,modifier:r.modifier});if(Ai.has(r.modifier)&&!m1(c,!!r.array))throw new Qm({param:e,type:t==null?void 0:t.type,modifier:r.modifier})}const u={type:`${c}${r.array??""}`,...o,...a,...l};return La.set(n,u),u}function At(e,t=[],n="",s=0){const r=e.trim().length;for(let o=0;o<r;o++){const a=e[o],i=e.slice(o+1);switch(a){case",":return s===0?At(i,[...t,n.trim()]):At(i,t,`${n}${a}`,s);case"(":return At(i,t,`${n}${a}`,s+1);case")":return At(i,t,`${n}${a}`,s-1);default:return At(i,t,`${n}${a}`,s)}}if(n==="")return t;if(s!==0)throw new r1({current:n,depth:s});return t.push(n.trim()),t}function Sf(e){return e==="address"||e==="bool"||e==="function"||e==="string"||mf.test(e)||yf.test(e)}const p1=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function b1(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||mf.test(e)||yf.test(e)||p1.test(e)}function m1(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Sc(e){const t={},n=e.length;for(let a=0;a<n;a++){const i=e[a];if(!aa(i))continue;const c=Lm(i);if(!c)throw new Hs({signature:i,type:"struct"});const l=c.properties.split(";"),u=[],d=l.length;for(let f=0;f<d;f++){const p=l[f].trim();if(!p)continue;const b=wn(p,{type:"struct"});u.push(b)}if(!u.length)throw new n1({signature:i});t[c.name]=u}const s={},r=Object.entries(t),o=r.length;for(let a=0;a<o;a++){const[i,c]=r[a];s[i]=$f(c,t)}return s}const y1=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function $f(e=[],t={},n=new Set){const s=[],r=e.length;for(let o=0;o<r;o++){const a=e[o];if(gf.test(a.type))s.push(a);else{const c=$n(y1,a.type);if(!(c!=null&&c.type))throw new e1({abiParameter:a});const{array:l,type:u}=c;if(u in t){if(n.has(u))throw new s1({type:u});s.push({...a,type:`tuple${l??""}`,components:$f(t[u],t,new Set([...n,u]))})}else if(Sf(u))s.push(a);else throw new Wm({type:u})}}return s}function kf(e){const t=Sc(e),n=[],s=e.length;for(let r=0;r<s;r++){const o=e[r];aa(o)||n.push(Si(o,t))}return n}function cl(e){let t;if(typeof e=="string")t=Si(e);else{const n=Sc(e),s=e.length;for(let r=0;r<s;r++){const o=e[r];if(!aa(o)){t=Si(o,n);break}}}if(!t)throw new Gm({signature:e});return t}function ul(e){const t=[];if(typeof e=="string"){const n=At(e),s=n.length;for(let r=0;r<s;r++)t.push(wn(n[r],{modifiers:il}))}else{const n=Sc(e),s=e.length;for(let r=0;r<s;r++){const o=e[r];if(aa(o))continue;const a=At(o),i=a.length;for(let c=0;c<i;c++)t.push(wn(a[c],{modifiers:il,structs:n}))}}if(t.length===0)throw new Zm({params:e});return t}function le(e,t,n){const s=e[t.name];if(typeof s=="function")return s;const r=e[n];return typeof r=="function"?r:o=>t(e,o)}function zt(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new T1(e.type);return`${e.name}(${ia(e.inputs,{includeName:t})})`}function ia(e,{includeName:t=!1}={}){return e?e.map(n=>g1(n,{includeName:t})).join(t?", ":","):""}function g1(e,{includeName:t}){return e.type.startsWith("tuple")?`(${ia(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function nn(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function Ve(e){return nn(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Bf="2.45.0";let sr={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${Bf}`},Z=class $i extends Error{constructor(t,n={}){var i;const s=(()=>{var c;return n.cause instanceof $i?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),r=n.cause instanceof $i&&n.cause.docsPath||n.docsPath,o=(i=sr.getDocsUrl)==null?void 0:i.call(sr,{...n,docsPath:r}),a=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...s?[`Details: ${s}`]:[],...sr.version?[`Version: ${sr.version}`]:[]].join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=s,this.docsPath=r,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=Bf}walk(t){return If(this,t)}};function If(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?If(e.cause,t):t?null:e}class v1 extends Z{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class ll extends Z{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class Cf extends Z{constructor({data:t,params:n,size:s}){super([`Data size of ${s} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${ia(n,{includeName:!0})})`,`Data:   ${t} (${s} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=s}}class Zr extends Z{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class w1 extends Z{constructor({expectedLength:t,givenLength:n,type:s}){super([`ABI encoding array length mismatch for type ${s}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class x1 extends Z{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Ve(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class E1 extends Z{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class P1 extends Z{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class dl extends Z{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Tf extends Z{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class A1 extends Z{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class S1 extends Z{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class fl extends Z{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Fs extends Z{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class _f extends Z{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class $1 extends Z{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class k1 extends Z{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${zt(t.abiItem)}\`, and`,`\`${n.type}\` in \`${zt(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let B1=class extends Z{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Lo extends Z{constructor({abiItem:t,data:n,params:s,size:r}){super([`Data size of ${r} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${ia(s,{includeName:!0})})`,`Data:   ${n} (${r} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=s,this.size=r}}class $c extends Z{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${zt(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class I1 extends Z{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class C1 extends Z{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Rf=class extends Z{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class T1 extends Z{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class _1 extends Z{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let Nf=class extends Z{constructor({offset:t,position:n,size:s}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${s}).`,{name:"SliceOffsetOutOfBoundsError"})}},Ff=class extends Z{constructor({size:t,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class hl extends Z{constructor({size:t,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} is expected to be ${n} ${s} long, but is ${t} ${s} long.`,{name:"InvalidBytesLengthError"})}}function Vs(e,{dir:t,size:n=32}={}){return typeof e=="string"?Nn(e,{dir:t,size:n}):R1(e,{dir:t,size:n})}function Nn(e,{dir:t,size:n=32}={}){if(n===null)return e;const s=e.replace("0x","");if(s.length>n*2)throw new Ff({size:Math.ceil(s.length/2),targetSize:n,type:"hex"});return`0x${s[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function R1(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Ff({size:e.length,targetSize:n,type:"bytes"});const s=new Uint8Array(n);for(let r=0;r<n;r++){const o=t==="right";s[o?r:n-r-1]=e[o?r:e.length-r-1]}return s}let kc=class extends Z{constructor({max:t,min:n,signed:s,size:r,value:o}){super(`Number "${o}" is not in safe ${r?`${r*8}-bit ${s?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},N1=class extends Z{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class F1 extends Z{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let O1=class extends Z{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function Fn(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,s=0;for(let r=0;r<n.length-1&&n[t==="left"?r:n.length-r-1].toString()==="0";r++)s++;return n=t==="left"?n.slice(s):n.slice(0,n.length-s),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Vt(e,{size:t}){if(Ve(e)>t)throw new O1({givenSize:Ve(e),maxSize:t})}function $t(e,t={}){const{signed:n}=t;t.size&&Vt(e,{size:t.size});const s=BigInt(e);if(!n)return s;const r=(e.length-2)/2,o=(1n<<BigInt(r)*8n-1n)-1n;return s<=o?s:s-BigInt(`0x${"f".padStart(r*2,"f")}`)-1n}function M1(e,t={}){let n=e;if(t.size&&(Vt(n,{size:t.size}),n=Fn(n)),Fn(n)==="0x00")return!1;if(Fn(n)==="0x01")return!0;throw new F1(n)}function Ut(e,t={}){const n=$t(e,t),s=Number(n);if(!Number.isSafeInteger(s))throw new kc({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:t.signed,size:t.size,value:`${n}n`});return s}const L1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function xn(e,t={}){return typeof e=="number"||typeof e=="bigint"?he(e,t):typeof e=="string"?Os(e,t):typeof e=="boolean"?Of(e,t):Je(e,t)}function Of(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Vt(n,{size:t.size}),Vs(n,{size:t.size})):n}function Je(e,t={}){let n="";for(let r=0;r<e.length;r++)n+=L1[e[r]];const s=`0x${n}`;return typeof t.size=="number"?(Vt(s,{size:t.size}),Vs(s,{dir:"right",size:t.size})):s}function he(e,t={}){const{signed:n,size:s}=t,r=BigInt(e);let o;s?n?o=(1n<<BigInt(s)*8n-1n)-1n:o=2n**(BigInt(s)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof o=="bigint"&&n?-o-1n:0;if(o&&r>o||r<a){const c=typeof e=="bigint"?"n":"";throw new kc({max:o?`${o}${c}`:void 0,min:`${a}${c}`,signed:n,size:s,value:`${e}${c}`})}const i=`0x${(n&&r<0?(1n<<BigInt(s*8))+BigInt(r):r).toString(16)}`;return s?Vs(i,{size:s}):i}const D1=new TextEncoder;function Os(e,t={}){const n=D1.encode(e);return Je(n,t)}const z1=new TextEncoder;function Gs(e,t={}){return typeof e=="number"||typeof e=="bigint"?j1(e,t):typeof e=="boolean"?U1(e,t):nn(e)?sn(e,t):Xn(e,t)}function U1(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Vt(n,{size:t.size}),Vs(n,{size:t.size})):n}const on={zero:48,nine:57,A:65,F:70,a:97,f:102};function pl(e){if(e>=on.zero&&e<=on.nine)return e-on.zero;if(e>=on.A&&e<=on.F)return e-(on.A-10);if(e>=on.a&&e<=on.f)return e-(on.a-10)}function sn(e,t={}){let n=e;t.size&&(Vt(n,{size:t.size}),n=Vs(n,{dir:"right",size:t.size}));let s=n.slice(2);s.length%2&&(s=`0${s}`);const r=s.length/2,o=new Uint8Array(r);for(let a=0,i=0;a<r;a++){const c=pl(s.charCodeAt(i++)),l=pl(s.charCodeAt(i++));if(c===void 0||l===void 0)throw new Z(`Invalid byte sequence ("${s[i-2]}${s[i-1]}" in "${s}").`);o[a]=c*16+l}return o}function j1(e,t){const n=he(e,t);return sn(n)}function Xn(e,t={}){const n=z1.encode(e);return typeof t.size=="number"?(Vt(n,{size:t.size}),Vs(n,{dir:"right",size:t.size})):n}const lo=BigInt(2**32-1),bl=BigInt(32);function q1(e,t=!1){return t?{h:Number(e&lo),l:Number(e>>bl&lo)}:{h:Number(e>>bl&lo)|0,l:Number(e&lo)|0}}function H1(e,t=!1){const n=e.length;let s=new Uint32Array(n),r=new Uint32Array(n);for(let o=0;o<n;o++){const{h:a,l:i}=q1(e[o],t);[s[o],r[o]]=[a,i]}return[s,r]}const V1=(e,t,n)=>e<<n|t>>>32-n,G1=(e,t,n)=>t<<n|e>>>32-n,W1=(e,t,n)=>t<<n-32|e>>>64-n,K1=(e,t,n)=>e<<n-32|t>>>64-n,hs=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Z1(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Pr(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function ns(e,...t){if(!Z1(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Y1(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Pr(e.outputLen),Pr(e.blockLen)}function Ms(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Mf(e,t){ns(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function J1(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Ls(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Da(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Wt(e,t){return e<<32-t|e>>>t}const X1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Q1(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function ey(e){for(let t=0;t<e.length;t++)e[t]=Q1(e[t]);return e}const ml=X1?e=>e:ey;function ty(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function ca(e){return typeof e=="string"&&(e=ty(e)),ns(e),e}function ny(...e){let t=0;for(let s=0;s<e.length;s++){const r=e[s];ns(r),t+=r.length}const n=new Uint8Array(t);for(let s=0,r=0;s<e.length;s++){const o=e[s];n.set(o,r),r+=o.length}return n}class Bc{}function Lf(e){const t=s=>e().update(ca(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function sy(e=32){if(hs&&typeof hs.getRandomValues=="function")return hs.getRandomValues(new Uint8Array(e));if(hs&&typeof hs.randomBytes=="function")return Uint8Array.from(hs.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const ry=BigInt(0),rr=BigInt(1),oy=BigInt(2),ay=BigInt(7),iy=BigInt(256),cy=BigInt(113),Df=[],zf=[],Uf=[];for(let e=0,t=rr,n=1,s=0;e<24;e++){[n,s]=[s,(2*n+3*s)%5],Df.push(2*(5*s+n)),zf.push((e+1)*(e+2)/2%64);let r=ry;for(let o=0;o<7;o++)t=(t<<rr^(t>>ay)*cy)%iy,t&oy&&(r^=rr<<(rr<<BigInt(o))-rr);Uf.push(r)}const jf=H1(Uf,!0),uy=jf[0],ly=jf[1],yl=(e,t,n)=>n>32?W1(e,t,n):V1(e,t,n),gl=(e,t,n)=>n>32?K1(e,t,n):G1(e,t,n);function dy(e,t=24){const n=new Uint32Array(10);for(let s=24-t;s<24;s++){for(let a=0;a<10;a++)n[a]=e[a]^e[a+10]^e[a+20]^e[a+30]^e[a+40];for(let a=0;a<10;a+=2){const i=(a+8)%10,c=(a+2)%10,l=n[c],u=n[c+1],d=yl(l,u,1)^n[i],f=gl(l,u,1)^n[i+1];for(let h=0;h<50;h+=10)e[a+h]^=d,e[a+h+1]^=f}let r=e[2],o=e[3];for(let a=0;a<24;a++){const i=zf[a],c=yl(r,o,i),l=gl(r,o,i),u=Df[a];r=e[u],o=e[u+1],e[u]=c,e[u+1]=l}for(let a=0;a<50;a+=10){for(let i=0;i<10;i++)n[i]=e[a+i];for(let i=0;i<10;i++)e[a+i]^=~n[(i+2)%10]&n[(i+4)%10]}e[0]^=uy[s],e[1]^=ly[s]}Ls(n)}class Ic extends Bc{constructor(t,n,s,r=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=s,this.enableXOF=r,this.rounds=o,Pr(s),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=J1(this.state)}clone(){return this._cloneInto()}keccak(){ml(this.state32),dy(this.state32,this.rounds),ml(this.state32),this.posOut=0,this.pos=0}update(t){Ms(this),t=ca(t),ns(t);const{blockLen:n,state:s}=this,r=t.length;for(let o=0;o<r;){const a=Math.min(n-this.pos,r-o);for(let i=0;i<a;i++)s[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:s,blockLen:r}=this;t[s]^=n,(n&128)!==0&&s===r-1&&this.keccak(),t[r-1]^=128,this.keccak()}writeInto(t){Ms(this,!1),ns(t),this.finish();const n=this.state,{blockLen:s}=this;for(let r=0,o=t.length;r<o;){this.posOut>=s&&this.keccak();const a=Math.min(s-this.posOut,o-r);t.set(n.subarray(this.posOut,this.posOut+a),r),this.posOut+=a,r+=a}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Pr(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Mf(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ls(this.state)}_cloneInto(t){const{blockLen:n,suffix:s,outputLen:r,rounds:o,enableXOF:a}=this;return t||(t=new Ic(n,s,r,a,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=s,t.outputLen=r,t.enableXOF=a,t.destroyed=this.destroyed,t}}const fy=(e,t,n)=>Lf(()=>new Ic(t,e,n)),qf=fy(1,136,256/8);function tt(e,t){const n=t||"hex",s=qf(nn(e,{strict:!1})?Gs(e):e);return n==="bytes"?s:xn(s)}const hy=e=>tt(Gs(e));function py(e){return hy(e)}function by(e){let t=!0,n="",s=0,r="",o=!1;for(let a=0;a<e.length;a++){const i=e[a];if(["(",")",","].includes(i)&&(t=!0),i==="("&&s++,i===")"&&s--,!!t){if(s===0){if(i===" "&&["event","function",""].includes(r))r="";else if(r+=i,i===")"){o=!0;break}continue}if(i===" "){e[a-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}r+=i,n+=i}}if(!o)throw new Z("Unable to normalize signature.");return r}const my=e=>{const t=typeof e=="string"?e:Mo(e);return by(t)};function Cc(e){return py(my(e))}const ua=Cc;let On=class extends Z{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Ws=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}};const za=new Ws(8192);function Yr(e,t){if(za.has(`${e}.${t}`))return za.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),s=tt(Xn(n),"bytes"),r=n.split("");for(let a=0;a<40;a+=2)s[a>>1]>>4>=8&&r[a]&&(r[a]=r[a].toUpperCase()),(s[a>>1]&15)>=8&&r[a+1]&&(r[a+1]=r[a+1].toUpperCase());const o=`0x${r.join("")}`;return za.set(`${e}.${t}`,o),o}function Tc(e,t){if(!Ot(e,{strict:!1}))throw new On({address:e});return Yr(e,t)}const yy=/^0x[a-fA-F0-9]{40}$/,Ua=new Ws(8192);function Ot(e,t){const{strict:n=!0}=t??{},s=`${e}.${n}`;if(Ua.has(s))return Ua.get(s);const r=yy.test(e)?e.toLowerCase()===e?!0:n?Yr(e)===e:!0:!1;return Ua.set(s,r),r}function ut(e){return typeof e[0]=="string"?Ks(e):gy(e)}function gy(e){let t=0;for(const r of e)t+=r.length;const n=new Uint8Array(t);let s=0;for(const r of e)n.set(r,s),s+=r.length;return n}function Ks(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Ds(e,t,n,{strict:s}={}){return nn(e,{strict:!1})?ki(e,t,n,{strict:s}):Gf(e,t,n,{strict:s})}function Hf(e,t){if(typeof t=="number"&&t>0&&t>Ve(e)-1)throw new Nf({offset:t,position:"start",size:Ve(e)})}function Vf(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Ve(e)!==n-t)throw new Nf({offset:n,position:"end",size:Ve(e)})}function Gf(e,t,n,{strict:s}={}){Hf(e,t);const r=e.slice(t,n);return s&&Vf(r,t,n),r}function ki(e,t,n,{strict:s}={}){Hf(e,t);const r=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&Vf(r,t,n),r}const vy=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Wf=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function us(e,t){if(e.length!==t.length)throw new E1({expectedLength:e.length,givenLength:t.length});const n=wy({params:e,values:t}),s=Rc(n);return s.length===0?"0x":s}function wy({params:e,values:t}){const n=[];for(let s=0;s<e.length;s++)n.push(_c({param:e[s],value:t[s]}));return n}function _c({param:e,value:t}){const n=Nc(e.type);if(n){const[s,r]=n;return Ey(t,{length:s,param:{...e,type:r}})}if(e.type==="tuple")return ky(t,{param:e});if(e.type==="address")return xy(t);if(e.type==="bool")return Ay(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const s=e.type.startsWith("int"),[,,r="256"]=Wf.exec(e.type)??[];return Sy(t,{signed:s,size:Number(r)})}if(e.type.startsWith("bytes"))return Py(t,{param:e});if(e.type==="string")return $y(t);throw new I1(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Rc(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?t+=32:t+=Ve(i)}const n=[],s=[];let r=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?(n.push(he(t+r,{size:32})),s.push(i),r+=Ve(i)):n.push(i)}return ut([...n,...s])}function xy(e){if(!Ot(e))throw new On({address:e});return{dynamic:!1,encoded:Nn(e.toLowerCase())}}function Ey(e,{length:t,param:n}){const s=t===null;if(!Array.isArray(e))throw new Rf(e);if(!s&&e.length!==t)throw new w1({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let r=!1;const o=[];for(let a=0;a<e.length;a++){const i=_c({param:n,value:e[a]});i.dynamic&&(r=!0),o.push(i)}if(s||r){const a=Rc(o);if(s){const i=he(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?ut([i,a]):i}}if(r)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:ut(o.map(({encoded:a})=>a))}}function Py(e,{param:t}){const[,n]=t.type.split("bytes"),s=Ve(e);if(!n){let r=e;return s%32!==0&&(r=Nn(r,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:ut([Nn(he(s,{size:32})),r])}}if(s!==Number.parseInt(n,10))throw new x1({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Nn(e,{dir:"right"})}}function Ay(e){if(typeof e!="boolean")throw new Z(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Nn(Of(e))}}function Sy(e,{signed:t,size:n=256}){if(typeof n=="number"){const s=2n**(BigInt(n)-(t?1n:0n))-1n,r=t?-s-1n:0n;if(e>s||e<r)throw new kc({max:s.toString(),min:r.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:he(e,{size:32,signed:t})}}function $y(e){const t=Os(e),n=Math.ceil(Ve(t)/32),s=[];for(let r=0;r<n;r++)s.push(Nn(Ds(t,r*32,(r+1)*32),{dir:"right"}));return{dynamic:!0,encoded:ut([Nn(he(Ve(t),{size:32})),...s])}}function ky(e,{param:t}){let n=!1;const s=[];for(let r=0;r<t.components.length;r++){const o=t.components[r],a=Array.isArray(e)?r:o.name,i=_c({param:o,value:e[a]});s.push(i),i.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Rc(s):ut(s.map(({encoded:r})=>r))}}function Nc(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Zs=e=>Ds(Cc(e),0,4);function ls(e){const{abi:t,args:n=[],name:s}=e,r=nn(s,{strict:!1}),o=t.filter(i=>r?i.type==="function"?Zs(i)===s:i.type==="event"?ua(i)===s:!1:"name"in i&&i.name===s);if(o.length===0)return;if(o.length===1)return o[0];let a;for(const i of o){if(!("inputs"in i))continue;if(!n||n.length===0){if(!i.inputs||i.inputs.length===0)return i;continue}if(!i.inputs||i.inputs.length===0||i.inputs.length!==n.length)continue;if(n.every((l,u)=>{const d="inputs"in i&&i.inputs[u];return d?Bi(l,d):!1})){if(a&&"inputs"in a&&a.inputs){const l=Kf(i.inputs,a.inputs,n);if(l)throw new k1({abiItem:i,type:l[0]},{abiItem:a,type:l[1]})}a=i}}return a||o[0]}function Bi(e,t){const n=typeof e,s=t.type;switch(s){case"address":return Ot(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return s==="tuple"&&"components"in t?Object.values(t.components).every((r,o)=>n==="object"&&Bi(Object.values(e)[o],r)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(s)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(s)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(s)?Array.isArray(e)&&e.every(r=>Bi(r,{...t,type:s.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Kf(e,t,n){for(const s in e){const r=e[s],o=t[s];if(r.type==="tuple"&&o.type==="tuple"&&"components"in r&&"components"in o)return Kf(r.components,o.components,n[s]);const a=[r.type,o.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?Ot(n[s],{strict:!1}):a.includes("address")&&a.includes("bytes")?Ot(n[s],{strict:!1}):!1)return a}}const vl="/docs/contract/encodeEventTopics";function Jr(e){var c;const{abi:t,eventName:n,args:s}=e;let r=t[0];if(n){const l=ls({abi:t,name:n});if(!l)throw new fl(n,{docsPath:vl});r=l}if(r.type!=="event")throw new fl(void 0,{docsPath:vl});const o=zt(r),a=ua(o);let i=[];if(s&&"inputs"in r){const l=(c=r.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),u=Array.isArray(s)?s:Object.values(s).length>0?(l==null?void 0:l.map(d=>s[d.name]))??[]:[];u.length>0&&(i=(l==null?void 0:l.map((d,f)=>Array.isArray(u[f])?u[f].map((h,p)=>wl({param:d,value:u[f][p]})):typeof u[f]<"u"&&u[f]!==null?wl({param:d,value:u[f]}):null))??[])}return[a,...i]}function wl({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return tt(Gs(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new _1(e.type);return us([e],[t])}function la(e,{method:t}){var s,r;const n={};return e.transport.type==="fallback"&&((r=(s=e.transport).onResponse)==null||r.call(s,({method:o,response:a,status:i,transport:c})=>{i==="success"&&t===o&&(n[a]=c.request)})),(o=>n[o]||e.request)}async function Zf(e,t){const{address:n,abi:s,args:r,eventName:o,fromBlock:a,strict:i,toBlock:c}=t,l=la(e,{method:"eth_newFilter"}),u=o?Jr({abi:s,args:r,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof a=="bigint"?he(a):a,toBlock:typeof c=="bigint"?he(c):c,topics:u}]});return{abi:s,args:r,eventName:o,id:d,request:l(d),strict:!!i,type:"event"}}function je(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const xl="/docs/contract/encodeFunctionData";function By(e){const{abi:t,args:n,functionName:s}=e;let r=t[0];if(s){const o=ls({abi:t,args:n,name:s});if(!o)throw new Fs(s,{docsPath:xl});r=o}if(r.type!=="function")throw new Fs(void 0,{docsPath:xl});return{abi:[r],functionName:Zs(zt(r))}}function Bt(e){const{args:t}=e,{abi:n,functionName:s}=(()=>{var i;return e.abi.length===1&&((i=e.functionName)!=null&&i.startsWith("0x"))?e:By(e)})(),r=n[0],o=s,a="inputs"in r&&r.inputs?us(r.inputs,t??[]):void 0;return Ks([o,a??"0x"])}const Iy={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Yf={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Cy={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let El=class extends Z{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Jf=class extends Z{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},Ty=class extends Z{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const _y={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Ty({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Jf({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new El({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new El({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Fc(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(_y);return n.bytes=e,n.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Ry(e,t={}){typeof t.size<"u"&&Vt(e,{size:t.size});const n=Je(e,t);return $t(n,t)}function Ny(e,t={}){let n=e;if(typeof t.size<"u"&&(Vt(n,{size:t.size}),n=Fn(n)),n.length>1||n[0]>1)throw new N1(n);return!!n[0]}function pn(e,t={}){typeof t.size<"u"&&Vt(e,{size:t.size});const n=Je(e,t);return Ut(n,t)}function Fy(e,t={}){let n=e;return typeof t.size<"u"&&(Vt(n,{size:t.size}),n=Fn(n,{dir:"right"})),new TextDecoder().decode(n)}function Xr(e,t){const n=typeof t=="string"?sn(t):t,s=Fc(n);if(Ve(n)===0&&e.length>0)throw new Zr;if(Ve(t)&&Ve(t)<32)throw new Cf({data:typeof t=="string"?t:Je(t),params:e,size:Ve(t)});let r=0;const o=[];for(let a=0;a<e.length;++a){const i=e[a];s.setPosition(r);const[c,l]=Bs(s,i,{staticPosition:0});r+=l,o.push(c)}return o}function Bs(e,t,{staticPosition:n}){const s=Nc(t.type);if(s){const[r,o]=s;return My(e,{...t,type:o},{length:r,staticPosition:n})}if(t.type==="tuple")return Uy(e,t,{staticPosition:n});if(t.type==="address")return Oy(e);if(t.type==="bool")return Ly(e);if(t.type.startsWith("bytes"))return Dy(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return zy(e,t);if(t.type==="string")return jy(e,{staticPosition:n});throw new C1(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Pl=32,Ii=32;function Oy(e){const t=e.readBytes(32);return[Yr(Je(Gf(t,-20))),32]}function My(e,t,{length:n,staticPosition:s}){if(!n){const a=pn(e.readBytes(Ii)),i=s+a,c=i+Pl;e.setPosition(i);const l=pn(e.readBytes(Pl)),u=Ar(t);let d=0;const f=[];for(let h=0;h<l;++h){e.setPosition(c+(u?h*32:d));const[p,b]=Bs(e,t,{staticPosition:c});d+=b,f.push(p)}return e.setPosition(s+32),[f,32]}if(Ar(t)){const a=pn(e.readBytes(Ii)),i=s+a,c=[];for(let l=0;l<n;++l){e.setPosition(i+l*32);const[u]=Bs(e,t,{staticPosition:i});c.push(u)}return e.setPosition(s+32),[c,32]}let r=0;const o=[];for(let a=0;a<n;++a){const[i,c]=Bs(e,t,{staticPosition:s+r});r+=c,o.push(i)}return[o,r]}function Ly(e){return[Ny(e.readBytes(32),{size:32}),32]}function Dy(e,t,{staticPosition:n}){const[s,r]=t.type.split("bytes");if(!r){const a=pn(e.readBytes(32));e.setPosition(n+a);const i=pn(e.readBytes(32));if(i===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(i);return e.setPosition(n+32),[Je(c),32]}return[Je(e.readBytes(Number.parseInt(r,10),32)),32]}function zy(e,t){const n=t.type.startsWith("int"),s=Number.parseInt(t.type.split("int")[1]||"256",10),r=e.readBytes(32);return[s>48?Ry(r,{signed:n}):pn(r,{signed:n}),32]}function Uy(e,t,{staticPosition:n}){const s=t.components.length===0||t.components.some(({name:a})=>!a),r=s?[]:{};let o=0;if(Ar(t)){const a=pn(e.readBytes(Ii)),i=n+a;for(let c=0;c<t.components.length;++c){const l=t.components[c];e.setPosition(i+o);const[u,d]=Bs(e,l,{staticPosition:i});o+=d,r[s?c:l==null?void 0:l.name]=u}return e.setPosition(n+32),[r,32]}for(let a=0;a<t.components.length;++a){const i=t.components[a],[c,l]=Bs(e,i,{staticPosition:n});r[s?a:i==null?void 0:i.name]=c,o+=l}return[r,o]}function jy(e,{staticPosition:t}){const n=pn(e.readBytes(32)),s=t+n;e.setPosition(s);const r=pn(e.readBytes(32));if(r===0)return e.setPosition(t+32),["",32];const o=e.readBytes(r,32),a=Fy(Fn(o));return e.setPosition(t+32),[a,32]}function Ar(e){var s;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(s=e.components)==null?void 0:s.some(Ar);const n=Nc(e.type);return!!(n&&Ar({...e,type:n[1]}))}function qy(e){const{abi:t,data:n}=e,s=Ds(n,0,4);if(s==="0x")throw new Zr;const o=[...t||[],Yf,Cy].find(a=>a.type==="error"&&s===Zs(zt(a)));if(!o)throw new Tf(s,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Xr(o.inputs,Ds(n,4)):void 0,errorName:o.name}}const Ye=(e,t,n)=>JSON.stringify(e,(s,r)=>typeof r=="bigint"?r.toString():r,n);function Xf({abiItem:e,args:t,includeFunctionName:n=!0,includeName:s=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((r,o)=>`${s&&r.name?`${r.name}: `:""}${typeof t[o]=="object"?Ye(t[o]):t[o]}`).join(", ")})`}const Qf={gwei:9,wei:18},Hy={ether:-9,wei:9};function e0(e,t){let n=e.toString();const s=n.startsWith("-");s&&(n=n.slice(1)),n=n.padStart(t,"0");let[r,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${s?"-":""}${r||"0"}${o?`.${o}`:""}`}function He(e,t="wei"){return e0(e,Qf[t])}function wt(e,t="wei"){return e0(e,Hy[t])}class Vy extends Z{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Gy extends Z{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Al(e){return e.reduce((t,{slot:n,value:s})=>`${t}        ${n}: ${s}
`,"")}function Wy(e){return e.reduce((t,{address:n,...s})=>{let r=`${t}    ${n}:
`;return s.nonce&&(r+=`      nonce: ${s.nonce}
`),s.balance&&(r+=`      balance: ${s.balance}
`),s.code&&(r+=`      code: ${s.code}
`),s.state&&(r+=`      state:
`,r+=Al(s.state)),s.stateDiff&&(r+=`      stateDiff:
`,r+=Al(s.stateDiff)),r},`  State Override:
`).slice(0,-1)}function Qr(e){const t=Object.entries(e).map(([s,r])=>r===void 0||r===!1?null:[s,r]).filter(Boolean),n=t.reduce((s,[r])=>Math.max(s,r.length),0);return t.map(([s,r])=>`  ${`${s}:`.padEnd(n+1)}  ${r}`).join(`
`)}class Ky extends Z{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Qr(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Zy extends Z{constructor(t,{account:n,docsPath:s,chain:r,data:o,gas:a,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:f}){var p;const h=Qr({chain:r&&`${r==null?void 0:r.name} (id: ${r==null?void 0:r.id})`,from:n==null?void 0:n.address,to:d,value:typeof f<"u"&&`${He(f)} ${((p=r==null?void 0:r.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof i<"u"&&`${wt(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${wt(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${wt(l)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class t0 extends Z{constructor({blockHash:t,blockNumber:n,blockTag:s,hash:r,index:o}){let a="Transaction";s&&o!==void 0&&(a=`Transaction at block time "${s}" at index "${o}"`),t&&o!==void 0&&(a=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(a=`Transaction at block number "${n}" at index "${o}"`),r&&(a=`Transaction with hash "${r}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class n0 extends Z{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class s0 extends Z{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class Yy extends Z{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Jy=e=>e,Oc=e=>e;class r0 extends Z{constructor(t,{account:n,docsPath:s,chain:r,data:o,gas:a,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:f,stateOverride:h}){var B;const p=n?je(n):void 0;let b=Qr({from:p==null?void 0:p.address,to:d,value:typeof f<"u"&&`${He(f)} ${((B=r==null?void 0:r.nativeCurrency)==null?void 0:B.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof i<"u"&&`${wt(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${wt(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${wt(l)} gwei`,nonce:u});h&&(b+=`
${Wy(h)}`),super(t.shortMessage,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class o0 extends Z{constructor(t,{abi:n,args:s,contractAddress:r,docsPath:o,functionName:a,sender:i}){const c=ls({abi:n,args:s,name:a}),l=c?Xf({abiItem:c,args:s,includeFunctionName:!1,includeName:!1}):void 0,u=c?zt(c,{includeName:!0}):void 0,d=Qr({address:r&&Jy(r),function:u,args:l&&l!=="()"&&`${[...Array((a==null?void 0:a.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:i});super(t.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=s,this.cause=t,this.contractAddress=r,this.functionName=a,this.sender=i}}class Ci extends Z{constructor({abi:t,data:n,functionName:s,message:r}){let o,a,i,c;if(n&&n!=="0x")try{a=qy({abi:t,data:n});const{abiItem:u,errorName:d,args:f}=a;if(d==="Error")c=f[0];else if(d==="Panic"){const[h]=f;c=Iy[h]}else{const h=u?zt(u,{includeName:!0}):void 0,p=u&&f?Xf({abiItem:u,args:f,includeFunctionName:!1,includeName:!1}):void 0;i=[h?`Error: ${h}`:"",p&&p!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(u){o=u}else r&&(c=r);let l;o instanceof Tf&&(l=o.signature,i=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${s}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${s}" reverted.`,{cause:o,metaMessages:i,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=n,this.reason=c,this.signature=l}}class Xy extends Z{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Qy extends Z{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class da extends Z{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class mr extends Z{constructor({body:t,cause:n,details:s,headers:r,status:o,url:a}){super("HTTP request failed.",{cause:n,details:s,metaMessages:[o&&`Status: ${o}`,`URL: ${Oc(a)}`,t&&`Request body: ${Ye(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=o,this.url=a}}class Mc extends Z{constructor({body:t,error:n,url:s}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Oc(s)}`,`Request body: ${Ye(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=s}}class Sl extends Z{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Oc(n)}`,`Request body: ${Ye(t)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const eg=-1;class Et extends Z{constructor(t,{code:n,docsPath:s,metaMessages:r,name:o,shortMessage:a}){super(a,{cause:t,docsPath:s,metaMessages:r||(t==null?void 0:t.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof Mc?t.code:n??eg}}class It extends Et{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Sr extends Et{constructor(t){super(t,{code:Sr.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Sr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class $r extends Et{constructor(t){super(t,{code:$r.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty($r,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class kr extends Et{constructor(t,{method:n}={}){super(t,{code:kr.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(kr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Br extends Et{constructor(t){super(t,{code:Br.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Br,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class ss extends Et{constructor(t){super(t,{code:ss.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(ss,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Mn extends Et{constructor(t){super(t,{code:Mn.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Mn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Ir extends Et{constructor(t){super(t,{code:Ir.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Ir,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Cr extends Et{constructor(t){super(t,{code:Cr.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Cr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Tr extends Et{constructor(t){super(t,{code:Tr.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Tr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Kn extends Et{constructor(t,{method:n}={}){super(t,{code:Kn.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Kn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class zs extends Et{constructor(t){super(t,{code:zs.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(zs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class _r extends Et{constructor(t){super(t,{code:_r.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(_r,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Is extends It{constructor(t){super(t,{code:Is.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Is,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Rr extends It{constructor(t){super(t,{code:Rr.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Rr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Nr extends It{constructor(t,{method:n}={}){super(t,{code:Nr.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Nr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Fr extends It{constructor(t){super(t,{code:Fr.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Fr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Or extends It{constructor(t){super(t,{code:Or.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Or,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Mr extends It{constructor(t){super(t,{code:Mr.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Mr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Us extends It{constructor(t){super(t,{code:Us.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Us,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Lr extends It{constructor(t){super(t,{code:Lr.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Lr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Dr extends It{constructor(t){super(t,{code:Dr.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Dr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class zr extends It{constructor(t){super(t,{code:zr.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(zr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Ur extends It{constructor(t){super(t,{code:Ur.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Ur,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class jr extends It{constructor(t){super(t,{code:jr.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(jr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class js extends It{constructor(t){super(t,{code:js.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(js,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class tg extends Et{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const ng=3;function rs(e,{abi:t,address:n,args:s,docsPath:r,functionName:o,sender:a}){const i=e instanceof da?e:e instanceof Z?e.walk(p=>"data"in p)||e.walk():{},{code:c,data:l,details:u,message:d,shortMessage:f}=i,h=e instanceof Zr?new Xy({functionName:o}):[ng,ss.code].includes(c)&&(l||u||d||f)||c===Mn.code&&u==="execution reverted"&&l?new Ci({abi:t,data:typeof l=="object"?l.data:l,functionName:o,message:i instanceof Mc?u:f??d}):e;return new o0(h,{abi:t,args:s,contractAddress:n,docsPath:r,functionName:o,sender:a})}function sg(e){const t=tt(`0x${e.substring(4)}`).substring(26);return Yr(`0x${t}`)}const rg="modulepreload",og=function(e){return"/"+e},$l={},a0=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){let a=function(l){return Promise.all(l.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=a(n.map(l=>{if(l=og(l),l in $l)return;$l[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":rg,u||(f.as="script"),f.crossOrigin="",f.href=l,c&&f.setAttribute("nonce",c),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return r.then(a=>{for(const i of a||[])i.status==="rejected"&&o(i.reason);return t().catch(o)})};async function ag({hash:e,signature:t}){const n=nn(e)?e:xn(e),{secp256k1:s}=await a0(async()=>{const{secp256k1:a}=await Promise.resolve().then(()=>Fw);return{secp256k1:a}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:l,s:u,v:d,yParity:f}=t,h=Number(f??d),p=kl(h);return new s.Signature($t(l),$t(u)).addRecoveryBit(p)}const a=nn(t)?t:xn(t);if(Ve(a)!==65)throw new Error("invalid signature length");const i=Ut(`0x${a.slice(130)}`),c=kl(i);return s.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function kl(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function i0({hash:e,signature:t}){return sg(await ag({hash:e,signature:t}))}function ig(e,t="hex"){const n=c0(e),s=Fc(new Uint8Array(n.length));return n.encode(s),t==="hex"?Je(s.bytes):s.bytes}function c0(e){return Array.isArray(e)?cg(e.map(t=>c0(t))):ug(e)}function cg(e){const t=e.reduce((r,o)=>r+o.length,0),n=u0(t);return{length:t<=55?1+t:1+n+t,encode(r){t<=55?r.pushByte(192+t):(r.pushByte(247+n),n===1?r.pushUint8(t):n===2?r.pushUint16(t):n===3?r.pushUint24(t):r.pushUint32(t));for(const{encode:o}of e)o(r)}}}function ug(e){const t=typeof e=="string"?sn(e):e,n=u0(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(r){t.length===1&&t[0]<128?r.pushBytes(t):t.length<=55?(r.pushByte(128+t.length),r.pushBytes(t)):(r.pushByte(183+n),n===1?r.pushUint8(t.length):n===2?r.pushUint16(t.length):n===3?r.pushUint24(t.length):r.pushUint32(t.length),r.pushBytes(t))}}}function u0(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new Z("Length is too large.")}function lg(e){const{chainId:t,nonce:n,to:s}=e,r=e.contractAddress??e.address,o=tt(Ks(["0x05",ig([t?he(t):"0x",r,n?he(n):"0x"])]));return s==="bytes"?sn(o):o}async function fa(e){const{authorization:t,signature:n}=e;return i0({hash:lg(t),signature:n??t})}class dg extends Z{constructor(t,{account:n,docsPath:s,chain:r,data:o,gas:a,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:f}){var p;const h=Qr({from:n==null?void 0:n.address,to:d,value:typeof f<"u"&&`${He(f)} ${((p=r==null?void 0:r.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof i<"u"&&`${wt(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${wt(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${wt(l)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class vs extends Z{constructor({cause:t,message:n}={}){var r;const s=(r=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:r.replace("execution reverted","");super(`Execution reverted ${s?`with reason: ${s}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(vs,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(vs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class Do extends Z{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${wt(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(Do,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Ti extends Z{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${wt(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Ti,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class _i extends Z{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(_i,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Ri extends Z{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Ri,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Ni extends Z{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Ni,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Fi extends Z{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Fi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Oi extends Z{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Oi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Mi extends Z{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Mi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Li extends Z{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Li,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class zo extends Z{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:s}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${wt(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${s?` = ${wt(s)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(zo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class eo extends Z{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function ha(e,t){const n=(e.details||"").toLowerCase(),s=e instanceof Z?e.walk(r=>(r==null?void 0:r.code)===vs.code):e;return s instanceof Z?new vs({cause:e,message:s.details}):vs.nodeMessage.test(n)?new vs({cause:e,message:e.details}):Do.nodeMessage.test(n)?new Do({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Ti.nodeMessage.test(n)?new Ti({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):_i.nodeMessage.test(n)?new _i({cause:e,nonce:t==null?void 0:t.nonce}):Ri.nodeMessage.test(n)?new Ri({cause:e,nonce:t==null?void 0:t.nonce}):Ni.nodeMessage.test(n)?new Ni({cause:e,nonce:t==null?void 0:t.nonce}):Fi.nodeMessage.test(n)?new Fi({cause:e}):Oi.nodeMessage.test(n)?new Oi({cause:e,gas:t==null?void 0:t.gas}):Mi.nodeMessage.test(n)?new Mi({cause:e,gas:t==null?void 0:t.gas}):Li.nodeMessage.test(n)?new Li({cause:e}):zo.nodeMessage.test(n)?new zo({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new eo({cause:e})}function fg(e,{docsPath:t,...n}){const s=(()=>{const r=ha(e,n);return r instanceof eo?e:r})();return new dg(s,{docsPath:t,...n})}function Ys(e,{format:t}){if(!t)return{};const n={};function s(o){const a=Object.keys(o);for(const i of a)i in e&&(n[i]=e[i]),o[i]&&typeof o[i]=="object"&&!Array.isArray(o[i])&&s(o[i])}const r=t(e||{});return s(r),n}const hg={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Dn(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=pg(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(s=>Je(s)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=he(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=he(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=he(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=he(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=he(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=he(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=hg[e.type]),typeof e.value<"u"&&(n.value=he(e.value)),n}function pg(e){return e.map(t=>({address:t.address,r:t.r?he(BigInt(t.r)):t.r,s:t.s?he(BigInt(t.s)):t.s,chainId:he(t.chainId),nonce:he(t.nonce),...typeof t.yParity<"u"?{yParity:he(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:he(t.v)}:{}}))}function Bl(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:s})=>{if(n.length!==66)throw new hl({size:n.length,targetSize:66,type:"hex"});if(s.length!==66)throw new hl({size:s.length,targetSize:66,type:"hex"});return t[n]=s,t},{})}function bg(e){const{balance:t,nonce:n,state:s,stateDiff:r,code:o}=e,a={};if(o!==void 0&&(a.code=o),t!==void 0&&(a.balance=he(t)),n!==void 0&&(a.nonce=he(n)),s!==void 0&&(a.state=Bl(s)),r!==void 0){if(a.state)throw new Gy;a.stateDiff=Bl(r)}return a}function Lc(e){if(!e)return;const t={};for(const{address:n,...s}of e){if(!Ot(n,{strict:!1}))throw new On({address:n});if(t[n])throw new Vy({address:n});t[n]=bg(s)}return t}const mg=2n**256n-1n;function kn(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:s,to:r}=e,o=t?je(t):void 0;if(o&&!Ot(o.address))throw new On({address:o.address});if(r&&!Ot(r))throw new On({address:r});if(n&&n>mg)throw new Do({maxFeePerGas:n});if(s&&n&&s>n)throw new zo({maxFeePerGas:n,maxPriorityFeePerGas:s})}class l0 extends Z{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Dc extends Z{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class yg extends Z{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${wt(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class d0 extends Z{constructor({blockHash:t,blockNumber:n}){let s="Block";t&&(s=`Block at hash "${t}"`),n&&(s=`Block at number "${n}"`),super(`${s} could not be found.`,{name:"BlockNotFoundError"})}}const f0={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function zc(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Ut(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Ut(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?f0[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=gg(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function gg(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function h0(e,t){const n=(e.transactions??[]).map(s=>typeof s=="string"?s:zc(s));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function Mt(e,{blockHash:t,blockNumber:n,blockTag:s=e.experimental_blockTag??"latest",includeTransactions:r}={}){var l,u,d;const o=r??!1,a=n!==void 0?he(n):void 0;let i=null;if(t?i=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):i=await e.request({method:"eth_getBlockByNumber",params:[a||s,o]},{dedupe:!!a}),!i)throw new d0({blockHash:t,blockNumber:n});return(((d=(u=(l=e.chain)==null?void 0:l.formatters)==null?void 0:u.block)==null?void 0:d.format)||h0)(i,"getBlock")}async function Uc(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function vg(e,t){return p0(e,t)}async function p0(e,t){var o,a;const{block:n,chain:s=e.chain,request:r}=t||{};try{const i=((o=s==null?void 0:s.fees)==null?void 0:o.maxPriorityFeePerGas)??((a=s==null?void 0:s.fees)==null?void 0:a.defaultPriorityFee);if(typeof i=="function"){const l=n||await le(e,Mt,"getBlock")({}),u=await i({block:l,client:e,request:r});if(u===null)throw new Error;return u}if(typeof i<"u")return i;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return $t(c)}catch{const[i,c]=await Promise.all([n?Promise.resolve(n):le(e,Mt,"getBlock")({}),le(e,Uc,"getGasPrice")({})]);if(typeof i.baseFeePerGas!="bigint")throw new Dc;const l=c-i.baseFeePerGas;return l<0n?0n:l}}async function wg(e,t){return Di(e,t)}async function Di(e,t){var f,h;const{block:n,chain:s=e.chain,request:r,type:o="eip1559"}=t||{},a=await(async()=>{var p,b;return typeof((p=s==null?void 0:s.fees)==null?void 0:p.baseFeeMultiplier)=="function"?s.fees.baseFeeMultiplier({block:n,client:e,request:r}):((b=s==null?void 0:s.fees)==null?void 0:b.baseFeeMultiplier)??1.2})();if(a<1)throw new l0;const c=10**(((f=a.toString().split(".")[1])==null?void 0:f.length)??0),l=p=>p*BigInt(Math.ceil(a*c))/BigInt(c),u=n||await le(e,Mt,"getBlock")({});if(typeof((h=s==null?void 0:s.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const p=await s.fees.estimateFeesPerGas({block:n,client:e,multiply:l,request:r,type:o});if(p!==null)return p}if(o==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new Dc;const p=typeof(r==null?void 0:r.maxPriorityFeePerGas)=="bigint"?r.maxPriorityFeePerGas:await p0(e,{block:u,chain:s,request:r}),b=l(u.baseFeePerGas);return{maxFeePerGas:(r==null?void 0:r.maxFeePerGas)??b+p,maxPriorityFeePerGas:p}}return{gasPrice:(r==null?void 0:r.gasPrice)??l(await le(e,Uc,"getGasPrice")({}))}}async function jc(e,{address:t,blockTag:n="latest",blockNumber:s}){const r=await e.request({method:"eth_getTransactionCount",params:[t,typeof s=="bigint"?he(s):n]},{dedupe:!!s});return Ut(r)}function b0(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),s=typeof e.blobs[0]=="string"?e.blobs.map(o=>sn(o)):e.blobs,r=[];for(const o of s)r.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?r:r.map(o=>Je(o))}function m0(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),s=typeof e.blobs[0]=="string"?e.blobs.map(a=>sn(a)):e.blobs,r=typeof e.commitments[0]=="string"?e.commitments.map(a=>sn(a)):e.commitments,o=[];for(let a=0;a<s.length;a++){const i=s[a],c=r[a];o.push(Uint8Array.from(t.computeBlobKzgProof(i,c)))}return n==="bytes"?o:o.map(a=>Je(a))}function xg(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const r=BigInt(32),o=BigInt(4294967295),a=Number(n>>r&o),i=Number(n&o),c=s?4:0,l=s?0:4;e.setUint32(t+c,a,s),e.setUint32(t+l,i,s)}function Eg(e,t,n){return e&t^~e&n}function Pg(e,t,n){return e&t^e&n^t&n}class Ag extends Bc{constructor(t,n,s,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=r,this.buffer=new Uint8Array(t),this.view=Da(this.buffer)}update(t){Ms(this),t=ca(t),ns(t);const{view:n,buffer:s,blockLen:r}=this,o=t.length;for(let a=0;a<o;){const i=Math.min(r-this.pos,o-a);if(i===r){const c=Da(t);for(;r<=o-a;a+=r)this.process(c,a);continue}s.set(t.subarray(a,a+i),this.pos),this.pos+=i,a+=i,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ms(this),Mf(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:r,isLE:o}=this;let{pos:a}=this;n[a++]=128,Ls(this.buffer.subarray(a)),this.padOffset>r-a&&(this.process(s,0),a=0);for(let d=a;d<r;d++)n[d]=0;xg(s,r-8,BigInt(this.length*8),o),this.process(s,0);const i=Da(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)i.setUint32(4*d,u[d],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:r,finished:o,destroyed:a,pos:i}=this;return t.destroyed=a,t.finished=o,t.length=r,t.pos=i,r%n&&t.buffer.set(s),t}clone(){return this._cloneInto()}}const Bn=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Sg=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),In=new Uint32Array(64);class $g extends Ag{constructor(t=32){super(64,t,8,!1),this.A=Bn[0]|0,this.B=Bn[1]|0,this.C=Bn[2]|0,this.D=Bn[3]|0,this.E=Bn[4]|0,this.F=Bn[5]|0,this.G=Bn[6]|0,this.H=Bn[7]|0}get(){const{A:t,B:n,C:s,D:r,E:o,F:a,G:i,H:c}=this;return[t,n,s,r,o,a,i,c]}set(t,n,s,r,o,a,i,c){this.A=t|0,this.B=n|0,this.C=s|0,this.D=r|0,this.E=o|0,this.F=a|0,this.G=i|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)In[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const f=In[d-15],h=In[d-2],p=Wt(f,7)^Wt(f,18)^f>>>3,b=Wt(h,17)^Wt(h,19)^h>>>10;In[d]=b+In[d-7]+p+In[d-16]|0}let{A:s,B:r,C:o,D:a,E:i,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const f=Wt(i,6)^Wt(i,11)^Wt(i,25),h=u+f+Eg(i,c,l)+Sg[d]+In[d]|0,b=(Wt(s,2)^Wt(s,13)^Wt(s,22))+Pg(s,r,o)|0;u=l,l=c,c=i,i=a+h|0,a=o,o=r,r=s,s=h+b|0}s=s+this.A|0,r=r+this.B|0,o=o+this.C|0,a=a+this.D|0,i=i+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(s,r,o,a,i,c,l,u)}roundClean(){Ls(In)}destroy(){this.set(0,0,0,0,0,0,0,0),Ls(this.buffer)}}const y0=Lf(()=>new $g),kg=y0;function Bg(e,t){return kg(nn(e,{strict:!1})?Gs(e):e)}function Ig(e){const{commitment:t,version:n=1}=e,s=e.to??(typeof t=="string"?"hex":"bytes"),r=Bg(t);return r.set([n],0),s==="bytes"?r:Je(r)}function Cg(e){const{commitments:t,version:n}=e,s=e.to,r=[];for(const o of t)r.push(Ig({commitment:o,to:s,version:n}));return r}const Il=6,g0=32,qc=4096,v0=g0*qc,Cl=v0*Il-1-1*qc*Il;class Tg extends Z{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class _g extends Z{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function Rg(e){const t=typeof e.data=="string"?sn(e.data):e.data,n=Ve(t);if(!n)throw new _g;if(n>Cl)throw new Tg({maxSize:Cl,size:n});const s=[];let r=!0,o=0;for(;r;){const a=Fc(new Uint8Array(v0));let i=0;for(;i<qc;){const c=t.slice(o,o+(g0-1));if(a.pushByte(0),a.pushBytes(c),c.length<31){a.pushByte(128),r=!1;break}i++,o+=31}s.push(a)}return s.map(a=>Je(a.bytes))}function Ng(e){const{data:t,kzg:n,to:s}=e,r=e.blobs??Rg({data:t}),o=e.commitments??b0({blobs:r,kzg:n,to:s}),a=e.proofs??m0({blobs:r,commitments:o,kzg:n,to:s}),i=[];for(let c=0;c<r.length;c++)i.push({blob:r[c],commitment:o[c],proof:a[c]});return i}function Fg(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Ky({transaction:e})}function pa(e,{docsPath:t,...n}){const s=(()=>{const r=ha(e,n);return r instanceof eo?e:r})();return new Zy(s,{docsPath:t,...n})}async function zn(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Ut(t)}async function Hc(e,t){var T,_,L,N,U;const{account:n=e.account,accessList:s,authorizationList:r,chain:o=e.chain,blobVersionedHashes:a,blobs:i,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,nonceManager:b,to:B,type:E,value:v,...m}=t,y=await(async()=>{if(!n||!b||typeof p<"u")return p;const j=je(n),X=o?o.id:await le(e,zn,"getChainId")({});return await b.consume({address:j.address,chainId:X,client:e})})();kn(t);const S=(_=(T=o==null?void 0:o.formatters)==null?void 0:T.transactionRequest)==null?void 0:_.format,I=(S||Dn)({...Ys(m,{format:S}),account:n?je(n):void 0,accessList:s,authorizationList:r,blobs:i,blobVersionedHashes:a,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:y,to:B,type:E,value:v},"fillTransaction");try{const j=await e.request({method:"eth_fillTransaction",params:[I]}),A=(((N=(L=o==null?void 0:o.formatters)==null?void 0:L.transaction)==null?void 0:N.format)||zc)(j.tx);delete A.blockHash,delete A.blockNumber,delete A.r,delete A.s,delete A.transactionIndex,delete A.v,delete A.yParity,A.data=A.input,A.gas&&(A.gas=t.gas??A.gas),A.gasPrice&&(A.gasPrice=t.gasPrice??A.gasPrice),A.maxFeePerBlobGas&&(A.maxFeePerBlobGas=t.maxFeePerBlobGas??A.maxFeePerBlobGas),A.maxFeePerGas&&(A.maxFeePerGas=t.maxFeePerGas??A.maxFeePerGas),A.maxPriorityFeePerGas&&(A.maxPriorityFeePerGas=t.maxPriorityFeePerGas??A.maxPriorityFeePerGas),A.nonce&&(A.nonce=t.nonce??A.nonce);const C=await(async()=>{var Y,oe;if(typeof((Y=o==null?void 0:o.fees)==null?void 0:Y.baseFeeMultiplier)=="function"){const ue=await le(e,Mt,"getBlock")({});return o.fees.baseFeeMultiplier({block:ue,client:e,request:t})}return((oe=o==null?void 0:o.fees)==null?void 0:oe.baseFeeMultiplier)??1.2})();if(C<1)throw new l0;const R=10**(((U=C.toString().split(".")[1])==null?void 0:U.length)??0),H=Y=>Y*BigInt(Math.ceil(C*R))/BigInt(R);return A.maxFeePerGas&&!t.maxFeePerGas&&(A.maxFeePerGas=H(A.maxFeePerGas)),A.gasPrice&&!t.gasPrice&&(A.gasPrice=H(A.gasPrice)),{raw:j.raw,transaction:{from:I.from,...A}}}catch(j){throw pa(j,{...t,chain:e.chain})}}const Vc=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Tl=new Map,ja=new Ws(128);async function to(e,t){var y,S,$;let n=t;n.account??(n.account=e.account),n.parameters??(n.parameters=Vc);const{account:s,chain:r=e.chain,nonceManager:o,parameters:a}=n,i=(()=>{if(typeof(r==null?void 0:r.prepareTransactionRequest)=="function")return{fn:r.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(r==null?void 0:r.prepareTransactionRequest))return{fn:r.prepareTransactionRequest[0],runAt:r.prepareTransactionRequest[1].runAt}})();let c;async function l(){return c||(typeof n.chainId<"u"?n.chainId:r?r.id:(c=await le(e,zn,"getChainId")({}),c))}const u=s&&je(s);let d=n.nonce;if(a.includes("nonce")&&typeof d>"u"&&u&&o){const I=await l();d=await o.consume({address:u.address,chainId:I,client:e})}i!=null&&i.fn&&((y=i.runAt)!=null&&y.includes("beforeFillTransaction"))&&(n=await i.fn({...n,chain:r},{phase:"beforeFillTransaction"}),d??(d=n.nonce));const h=((a.includes("blobVersionedHashes")||a.includes("sidecars"))&&n.kzg&&n.blobs||ja.get(e.uid)===!1||!["fees","gas"].some(T=>a.includes(T))?!1:!!(a.includes("chainId")&&typeof n.chainId!="number"||a.includes("nonce")&&typeof d!="number"||a.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||a.includes("gas")&&typeof n.gas!="bigint"))?await le(e,Hc,"fillTransaction")({...n,nonce:d}).then(I=>{const{chainId:T,from:_,gas:L,gasPrice:N,nonce:U,maxFeePerBlobGas:j,maxFeePerGas:X,maxPriorityFeePerGas:A,type:C,...F}=I.transaction;return ja.set(e.uid,!0),{...n,..._?{from:_}:{},...C?{type:C}:{},...typeof T<"u"?{chainId:T}:{},...typeof L<"u"?{gas:L}:{},...typeof N<"u"?{gasPrice:N}:{},...typeof U<"u"?{nonce:U}:{},...typeof j<"u"?{maxFeePerBlobGas:j}:{},...typeof X<"u"?{maxFeePerGas:X}:{},...typeof A<"u"?{maxPriorityFeePerGas:A}:{},..."nonceKey"in F&&typeof F.nonceKey<"u"?{nonceKey:F.nonceKey}:{}}}).catch(I=>{var L;const T=I;return T.name!=="TransactionExecutionError"||((L=T.walk)==null?void 0:L.call(T,N=>{const U=N;return U.name==="MethodNotFoundRpcError"||U.name==="MethodNotSupportedRpcError"}))&&ja.set(e.uid,!1),n}):n;d??(d=h.nonce),n={...h,...u?{from:u==null?void 0:u.address}:{},...d?{nonce:d}:{}};const{blobs:p,gas:b,kzg:B,type:E}=n;i!=null&&i.fn&&((S=i.runAt)!=null&&S.includes("beforeFillParameters"))&&(n=await i.fn({...n,chain:r},{phase:"beforeFillParameters"}));let v;async function m(){return v||(v=await le(e,Mt,"getBlock")({blockTag:"latest"}),v)}if(a.includes("nonce")&&typeof d>"u"&&u&&!o&&(n.nonce=await le(e,jc,"getTransactionCount")({address:u.address,blockTag:"pending"})),(a.includes("blobVersionedHashes")||a.includes("sidecars"))&&p&&B){const I=b0({blobs:p,kzg:B});if(a.includes("blobVersionedHashes")){const T=Cg({commitments:I,to:"hex"});n.blobVersionedHashes=T}if(a.includes("sidecars")){const T=m0({blobs:p,commitments:I,kzg:B}),_=Ng({blobs:p,commitments:I,proofs:T,to:"hex"});n.sidecars=_}}if(a.includes("chainId")&&(n.chainId=await l()),(a.includes("fees")||a.includes("type"))&&typeof E>"u")try{n.type=Fg(n)}catch{let I=Tl.get(e.uid);if(typeof I>"u"){const T=await m();I=typeof(T==null?void 0:T.baseFeePerGas)=="bigint",Tl.set(e.uid,I)}n.type=I?"eip1559":"legacy"}if(a.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const I=await m(),{maxFeePerGas:T,maxPriorityFeePerGas:_}=await Di(e,{block:I,chain:r,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<_)throw new yg({maxPriorityFeePerGas:_});n.maxPriorityFeePerGas=_,n.maxFeePerGas=T}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new Dc;if(typeof n.gasPrice>"u"){const I=await m(),{gasPrice:T}=await Di(e,{block:I,chain:r,request:n,type:"legacy"});n.gasPrice=T}}return a.includes("gas")&&typeof b>"u"&&(n.gas=await le(e,Gc,"estimateGas")({...n,account:u,prepare:(u==null?void 0:u.type)==="local"?[]:["blobVersionedHashes"]})),i!=null&&i.fn&&(($=i.runAt)!=null&&$.includes("afterFillParameters"))&&(n=await i.fn({...n,chain:r},{phase:"afterFillParameters"})),kn(n),delete n.parameters,n}async function Gc(e,t){var a,i,c;const{account:n=e.account,prepare:s=!0}=t,r=n?je(n):void 0,o=(()=>{if(Array.isArray(s))return s;if((r==null?void 0:r.type)!=="local")return["blobVersionedHashes"]})();try{const l=await(async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await fa({authorization:t.authorizationList[0]}).catch(()=>{throw new Z("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:u,authorizationList:d,blobs:f,blobVersionedHashes:h,blockNumber:p,blockTag:b,data:B,gas:E,gasPrice:v,maxFeePerBlobGas:m,maxFeePerGas:y,maxPriorityFeePerGas:S,nonce:$,value:I,stateOverride:T,..._}=s?await to(e,{...t,parameters:o,to:l}):t;if(E&&t.gas!==E)return E;const N=(typeof p=="bigint"?he(p):void 0)||b,U=Lc(T);kn(t);const j=(c=(i=(a=e.chain)==null?void 0:a.formatters)==null?void 0:i.transactionRequest)==null?void 0:c.format,A=(j||Dn)({...Ys(_,{format:j}),account:r,accessList:u,authorizationList:d,blobs:f,blobVersionedHashes:h,data:B,gasPrice:v,maxFeePerBlobGas:m,maxFeePerGas:y,maxPriorityFeePerGas:S,nonce:$,to:l,value:I},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:U?[A,N??e.experimental_blockTag??"latest",U]:N?[A,N]:[A]}))}catch(l){throw fg(l,{...t,account:r,chain:e.chain})}}async function Og(e,t){var l;const{abi:n,address:s,args:r,functionName:o,dataSuffix:a=typeof e.dataSuffix=="string"?e.dataSuffix:(l=e.dataSuffix)==null?void 0:l.value,...i}=t,c=Bt({abi:n,args:r,functionName:o});try{return await le(e,Gc,"estimateGas")({data:`${c}${a?a.replace("0x",""):""}`,to:s,...i})}catch(u){const d=i.account?je(i.account):void 0;throw rs(u,{abi:n,address:s,args:r,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:d==null?void 0:d.address})}}function no(e,t){if(!Ot(e,{strict:!1}))throw new On({address:e});if(!Ot(t,{strict:!1}))throw new On({address:t});return e.toLowerCase()===t.toLowerCase()}const _l="/docs/contract/decodeEventLog";function Uo(e){const{abi:t,data:n,strict:s,topics:r}=e,o=s??!0,[a,...i]=r;if(!a)throw new A1({docsPath:_l});const c=t.find(E=>E.type==="event"&&a===ua(zt(E)));if(!(c&&"name"in c)||c.type!=="event")throw new S1(a,{docsPath:_l});const{name:l,inputs:u}=c,d=u==null?void 0:u.some(E=>!("name"in E&&E.name)),f=d?[]:{},h=u.map((E,v)=>[E,v]).filter(([E])=>"indexed"in E&&E.indexed),p=[];for(let E=0;E<h.length;E++){const[v,m]=h[E],y=i[E];if(!y){if(o)throw new $c({abiItem:c,param:v});p.push([v,m]);continue}f[d?m:v.name||m]=Mg({param:v,value:y})}const b=u.filter(E=>!("indexed"in E&&E.indexed)),B=o?b:[...p.map(([E])=>E),...b];if(B.length>0){if(n&&n!=="0x")try{const E=Xr(B,n);if(E){let v=0;if(!o)for(const[m,y]of p)f[d?y:m.name||y]=E[v++];if(d)for(let m=0;m<u.length;m++)f[m]===void 0&&v<E.length&&(f[m]=E[v++]);else for(let m=0;m<b.length;m++)f[b[m].name]=E[v++]}}catch(E){if(o)throw E instanceof Cf||E instanceof Jf?new Lo({abiItem:c,data:n,params:B,size:Ve(n)}):E}else if(o)throw new Lo({abiItem:c,data:"0x",params:B,size:0})}return{eventName:l,args:Object.values(f).length>0?f:void 0}}function Mg({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Xr([e],t)||[])[0]}function Wc(e){const{abi:t,args:n,logs:s,strict:r=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return s.map(a=>{var u;const i=t.filter(d=>d.type==="event"&&a.topics[0]===ua(d));if(i.length===0)return null;let c,l;for(const d of i)try{c=Uo({...a,abi:[d],strict:!0}),l=d;break}catch{}if(!c&&!r){l=i[0];try{c=Uo({...a,abi:[l],strict:!1})}catch{const d=(u=l.inputs)==null?void 0:u.some(f=>!("name"in f&&f.name));return{...a,args:d?[]:{},eventName:l.name}}}return!c||!l||o&&!o.includes(c.eventName)||!Lg({args:c.args,inputs:l.inputs,matchArgs:n})?null:{...c,...a}}).filter(Boolean)}function Lg(e){const{args:t,inputs:n,matchArgs:s}=e;if(!s)return!0;if(!t)return!1;function r(o,a,i){try{return o.type==="address"?no(a,i):o.type==="string"||o.type==="bytes"?tt(Gs(a))===i:a===i}catch{return!1}}return Array.isArray(t)&&Array.isArray(s)?s.every((o,a)=>{if(o==null)return!0;const i=n[a];return i?(Array.isArray(o)?o:[o]).some(l=>r(i,l,t[a])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof s=="object"&&!Array.isArray(s)?Object.entries(s).every(([o,a])=>{if(a==null)return!0;const i=n.find(l=>l.name===o);return i?(Array.isArray(a)?a:[a]).some(l=>r(i,l,t[o])):!1}):!1}function En(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):e.blockTimestamp===null?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Kc(e,{address:t,blockHash:n,fromBlock:s,toBlock:r,event:o,events:a,args:i,strict:c}={}){const l=c??!1,u=a??(o?[o]:void 0);let d=[];u&&(d=[u.flatMap(b=>Jr({abi:[b],eventName:b.name,args:a?void 0:i}))],o&&(d=d[0]));let f;n?f=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):f=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof s=="bigint"?he(s):s,toBlock:typeof r=="bigint"?he(r):r}]});const h=f.map(p=>En(p));return u?Wc({abi:u,args:i,logs:h,strict:l}):h}async function w0(e,t){const{abi:n,address:s,args:r,blockHash:o,eventName:a,fromBlock:i,toBlock:c,strict:l}=t,u=a?ls({abi:n,name:a}):void 0,d=u?void 0:n.filter(f=>f.type==="event");return le(e,Kc,"getLogs")({address:s,args:r,blockHash:o,event:u,events:d,fromBlock:i,toBlock:c,strict:l})}const qa="/docs/contract/decodeFunctionResult";function ds(e){const{abi:t,args:n,functionName:s,data:r}=e;let o=t[0];if(s){const i=ls({abi:t,args:n,name:s});if(!i)throw new Fs(s,{docsPath:qa});o=i}if(o.type!=="function")throw new Fs(void 0,{docsPath:qa});if(!o.outputs)throw new _f(o.name,{docsPath:qa});const a=Xr(o.outputs,r);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Zc=BigInt(0),zi=BigInt(1);function so(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Yc(e){if(!so(e))throw new Error("Uint8Array expected")}function qr(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function fo(e){const t=e.toString(16);return t.length&1?"0"+t:t}function x0(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Zc:BigInt("0x"+e)}const E0=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Dg=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Hr(e){if(Yc(e),E0)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Dg[e[n]];return t}const an={_0:48,_9:57,A:65,F:70,a:97,f:102};function Rl(e){if(e>=an._0&&e<=an._9)return e-an._0;if(e>=an.A&&e<=an.F)return e-(an.A-10);if(e>=an.a&&e<=an.f)return e-(an.a-10)}function jo(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(E0)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const s=new Uint8Array(n);for(let r=0,o=0;r<n;r++,o+=2){const a=Rl(e.charCodeAt(o)),i=Rl(e.charCodeAt(o+1));if(a===void 0||i===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}s[r]=a*16+i}return s}function Qn(e){return x0(Hr(e))}function P0(e){return Yc(e),x0(Hr(Uint8Array.from(e).reverse()))}function ro(e,t){return jo(e.toString(16).padStart(t*2,"0"))}function A0(e,t){return ro(e,t).reverse()}function Tt(e,t,n){let s;if(typeof t=="string")try{s=jo(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(so(t))s=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const r=s.length;if(typeof n=="number"&&r!==n)throw new Error(e+" of length "+n+" expected, got "+r);return s}function qo(...e){let t=0;for(let s=0;s<e.length;s++){const r=e[s];Yc(r),t+=r.length}const n=new Uint8Array(t);for(let s=0,r=0;s<e.length;s++){const o=e[s];n.set(o,r),r+=o.length}return n}const Ha=e=>typeof e=="bigint"&&Zc<=e;function Jc(e,t,n){return Ha(e)&&Ha(t)&&Ha(n)&&t<=e&&e<n}function Cs(e,t,n,s){if(!Jc(t,n,s))throw new Error("expected valid "+e+": "+n+" <= n < "+s+", got "+t)}function zg(e){let t;for(t=0;e>Zc;e>>=zi,t+=1);return t}const ba=e=>(zi<<BigInt(e))-zi,Va=e=>new Uint8Array(e),Nl=e=>Uint8Array.from(e);function Ug(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let s=Va(e),r=Va(e),o=0;const a=()=>{s.fill(1),r.fill(0),o=0},i=(...d)=>n(r,s,...d),c=(d=Va(0))=>{r=i(Nl([0]),d),s=i(),d.length!==0&&(r=i(Nl([1]),d),s=i())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<t;){s=i();const h=s.slice();f.push(h),d+=s.length}return qo(...f)};return(d,f)=>{a(),c(d);let h;for(;!(h=f(l()));)c();return a(),h}}const jg={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||so(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function ma(e,t,n={}){const s=(r,o,a)=>{const i=jg[o];if(typeof i!="function")throw new Error("invalid validator function");const c=e[r];if(!(a&&c===void 0)&&!i(c,e))throw new Error("param "+String(r)+" is invalid. Expected "+o+", got "+c)};for(const[r,o]of Object.entries(t))s(r,o,!1);for(const[r,o]of Object.entries(n))s(r,o,!0);return e}function Fl(e){const t=new WeakMap;return(n,...s)=>{const r=t.get(n);if(r!==void 0)return r;const o=e(n,...s);return t.set(n,o),o}}const qg="0.1.1";function Hg(){return qg}class xe extends Error{static setStaticOptions(t){xe.prototype.docsOrigin=t.docsOrigin,xe.prototype.showVersion=t.showVersion,xe.prototype.version=t.version}constructor(t,n={}){const s=(()=>{var u;if(n.cause instanceof xe){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(u=n.cause)!=null&&u.message?n.cause.message:n.details})(),r=n.cause instanceof xe&&n.cause.docsPath||n.docsPath,o=n.docsOrigin??xe.prototype.docsOrigin,a=`${o}${r??""}`,i=!!(n.version??xe.prototype.showVersion),c=n.version??xe.prototype.version,l=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...s||r||i?["",s?`Details: ${s}`:void 0,r?`See: ${a}`:void 0,i?`Version: ${c}`:void 0]:[]].filter(u=>typeof u=="string").join(`
`);super(l,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=s,this.docs=a,this.docsOrigin=o,this.docsPath=r,this.shortMessage=t,this.showVersion=i,this.version=c}walk(t){return S0(this,t)}}Object.defineProperty(xe,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${Hg()}`}});xe.setStaticOptions(xe.defaultStaticOptions);function S0(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?S0(e.cause,t):t?null:e}function oo(e,t){if(ws(e)>t)throw new iv({givenSize:ws(e),maxSize:t})}const cn={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ol(e){if(e>=cn.zero&&e<=cn.nine)return e-cn.zero;if(e>=cn.A&&e<=cn.F)return e-(cn.A-10);if(e>=cn.a&&e<=cn.f)return e-(cn.a-10)}function Vg(e,t={}){const{dir:n,size:s=32}=t;if(s===0)return e;if(e.length>s)throw new cv({size:e.length,targetSize:s,type:"Bytes"});const r=new Uint8Array(s);for(let o=0;o<s;o++){const a=n==="right";r[a?o:s-o-1]=e[a?o:e.length-o-1]}return r}function $0(e,t={}){const{dir:n="left"}=t;let s=e,r=0;for(let o=0;o<s.length-1&&s[n==="left"?o:s.length-o-1].toString()==="0";o++)r++;return s=n==="left"?s.slice(r):s.slice(0,s.length-r),s}function ya(e,t){if(kt(e)>t)throw new pv({givenSize:kt(e),maxSize:t})}function Gg(e,t){if(typeof t=="number"&&t>0&&t>kt(e)-1)throw new F0({offset:t,position:"start",size:kt(e)})}function Wg(e,t,n){if(typeof t=="number"&&typeof n=="number"&&kt(e)!==n-t)throw new F0({offset:n,position:"end",size:kt(e)})}function k0(e,t={}){const{dir:n,size:s=32}=t;if(s===0)return e;const r=e.replace("0x","");if(r.length>s*2)throw new bv({size:Math.ceil(r.length/2),targetSize:s,type:"Hex"});return`0x${r[n==="right"?"padEnd":"padStart"](s*2,"0")}`}const Kg="#__bigint";function B0(e,t,n){return JSON.stringify(e,(s,r)=>typeof r=="bigint"?r.toString()+Kg:r,n)}const Zg=new TextDecoder,Yg=new TextEncoder;function Jg(e){return e instanceof Uint8Array?e:typeof e=="string"?I0(e):Xg(e)}function Xg(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function I0(e,t={}){const{size:n}=t;let s=e;n&&(ya(e,n),s=as(e,n));let r=s.slice(2);r.length%2&&(r=`0${r}`);const o=r.length/2,a=new Uint8Array(o);for(let i=0,c=0;i<o;i++){const l=Ol(r.charCodeAt(c++)),u=Ol(r.charCodeAt(c++));if(l===void 0||u===void 0)throw new xe(`Invalid byte sequence ("${r[c-2]}${r[c-1]}" in "${r}").`);a[i]=l<<4|u}return a}function Qg(e,t={}){const{size:n}=t,s=Yg.encode(e);return typeof n=="number"?(oo(s,n),ev(s,n)):s}function ev(e,t){return Vg(e,{dir:"right",size:t})}function ws(e){return e.length}function tv(e,t,n,s={}){const{strict:r}=s;return e.slice(t,n)}function nv(e,t={}){const{size:n}=t;typeof n<"u"&&oo(e,n);const s=qt(e,t);return _0(s,t)}function sv(e,t={}){const{size:n}=t;let s=e;if(typeof n<"u"&&(oo(s,n),s=C0(s)),s.length>1||s[0]>1)throw new av(s);return!!s[0]}function bn(e,t={}){const{size:n}=t;typeof n<"u"&&oo(e,n);const s=qt(e,t);return R0(s,t)}function rv(e,t={}){const{size:n}=t;let s=e;return typeof n<"u"&&(oo(s,n),s=ov(s)),Zg.decode(s)}function C0(e){return $0(e,{dir:"left"})}function ov(e){return $0(e,{dir:"right"})}class av extends xe{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let iv=class extends xe{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},cv=class extends xe{constructor({size:t,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const uv=new TextEncoder,lv=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function dv(e,t={}){const{strict:n=!1}=t;if(!e)throw new Ml(e);if(typeof e!="string")throw new Ml(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Ll(e);if(!e.startsWith("0x"))throw new Ll(e)}function jt(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function fv(e){return e instanceof Uint8Array?qt(e):Array.isArray(e)?qt(new Uint8Array(e)):e}function T0(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(ya(n,t.size),os(n,t.size)):n}function qt(e,t={}){let n="";for(let r=0;r<e.length;r++)n+=lv[e[r]];const s=`0x${n}`;return typeof t.size=="number"?(ya(s,t.size),as(s,t.size)):s}function pt(e,t={}){const{signed:n,size:s}=t,r=BigInt(e);let o;s?n?o=(1n<<BigInt(s)*8n-1n)-1n:o=2n**(BigInt(s)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof o=="bigint"&&n?-o-1n:0;if(o&&r>o||r<a){const l=typeof e=="bigint"?"n":"";throw new N0({max:o?`${o}${l}`:void 0,min:`${a}${l}`,signed:n,size:s,value:`${e}${l}`})}const c=`0x${(n&&r<0?BigInt.asUintN(s*8,BigInt(r)):r).toString(16)}`;return s?os(c,s):c}function Xc(e,t={}){return qt(uv.encode(e),t)}function os(e,t){return k0(e,{dir:"left",size:t})}function as(e,t){return k0(e,{dir:"right",size:t})}function en(e,t,n,s={}){const{strict:r}=s;Gg(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Wg(o,t,n),o}function kt(e){return Math.ceil((e.length-2)/2)}function _0(e,t={}){const{signed:n}=t;t.size&&ya(e,t.size);const s=BigInt(e);if(!n)return s;const r=(e.length-2)/2,o=(1n<<BigInt(r)*8n)-1n,a=o>>1n;return s<=a?s:s-o-1n}function R0(e,t={}){const{signed:n,size:s}=t;return Number(!n&&!s?e:_0(e,t))}function hv(e,t={}){const{strict:n=!1}=t;try{return dv(e,{strict:n}),!0}catch{return!1}}class N0 extends xe{constructor({max:t,min:n,signed:s,size:r,value:o}){super(`Number \`${o}\` is not in safe${r?` ${r*8}-bit`:""}${s?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Ml extends xe{constructor(t){super(`Value \`${typeof t=="object"?B0(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Ll extends xe{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class pv extends xe{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class F0 extends xe{constructor({offset:t,position:n,size:s}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${s}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class bv extends xe{constructor({size:t,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function mv(e){return{address:e.address,amount:pt(e.amount),index:pt(e.index),validatorIndex:pt(e.validatorIndex)}}function O0(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:pt(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:pt(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:pt(e.gasLimit)},...typeof e.number=="bigint"&&{number:pt(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:pt(e.prevRandao)},...typeof e.time=="bigint"&&{time:pt(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(mv)}}}const Ho=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Ui=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],M0=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],L0=[...M0,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],yv=[...M0,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],Dl=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],zl=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],D0=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],Ul=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],gv="0x82ad56cb",z0="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",vv="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",wv="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Qc="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class ji extends Z{constructor({blockNumber:t,chain:n,contract:s}){super(`Chain "${n.name}" does not support contract "${s.name}".`,{metaMessages:["This could be due to any of the following:",...t&&s.blockCreated&&s.blockCreated>t?[`- The contract "${s.name}" was not deployed until block ${s.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${s.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class xv extends Z{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class Ev extends Z{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class U0 extends Z{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const Ga="/docs/contract/encodeDeployData";function ga(e){const{abi:t,args:n,bytecode:s}=e;if(!n||n.length===0)return s;const r=t.find(a=>"type"in a&&a.type==="constructor");if(!r)throw new v1({docsPath:Ga});if(!("inputs"in r))throw new ll({docsPath:Ga});if(!r.inputs||r.inputs.length===0)throw new ll({docsPath:Ga});const o=us(r.inputs,n);return Ks([s,o])}function Js({blockNumber:e,chain:t,contract:n}){var r;const s=(r=t==null?void 0:t.contracts)==null?void 0:r[n];if(!s)throw new ji({chain:t,contract:{name:n}});if(e&&s.blockCreated&&s.blockCreated>e)throw new ji({blockNumber:e,chain:t,contract:{name:n,blockCreated:s.blockCreated}});return s.address}function j0(e,{docsPath:t,...n}){const s=(()=>{const r=ha(e,n);return r instanceof eo?e:r})();return new r0(s,{docsPath:t,...n})}function eu(){let e=()=>{},t=()=>{};return{promise:new Promise((s,r)=>{e=s,t=r}),resolve:e,reject:t}}const Wa=new Map;function q0({fn:e,id:t,shouldSplitBatch:n,wait:s=0,sort:r}){const o=async()=>{const u=c();a();const d=u.map(({args:f})=>f);d.length!==0&&e(d).then(f=>{r&&Array.isArray(f)&&f.sort(r);for(let h=0;h<u.length;h++){const{resolve:p}=u[h];p==null||p([f[h],f])}}).catch(f=>{for(let h=0;h<u.length;h++){const{reject:p}=u[h];p==null||p(f)}})},a=()=>Wa.delete(t),i=()=>c().map(({args:u})=>u),c=()=>Wa.get(t)||[],l=u=>Wa.set(t,[...c(),u]);return{flush:a,async schedule(u){const{promise:d,resolve:f,reject:h}=eu();return(n==null?void 0:n([...i(),u]))&&o(),c().length>0?(l({args:u,resolve:f,reject:h}),d):(l({args:u,resolve:f,reject:h}),setTimeout(o,s),d)}}}async function va(e,t){var j,X,A,C;const{account:n=e.account,authorizationList:s,batch:r=!!((j=e.batch)!=null&&j.multicall),blockNumber:o,blockTag:a=e.experimental_blockTag??"latest",accessList:i,blobs:c,blockOverrides:l,code:u,data:d,factory:f,factoryData:h,gas:p,gasPrice:b,maxFeePerBlobGas:B,maxFeePerGas:E,maxPriorityFeePerGas:v,nonce:m,to:y,value:S,stateOverride:$,...I}=t,T=n?je(n):void 0;if(u&&(f||h))throw new Z("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&y)throw new Z("Cannot provide both `code` & `to` as parameters.");const _=u&&d,L=f&&h&&y&&d,N=_||L,U=_?H0({code:u,data:d}):L?Sv({data:d,factory:f,factoryData:h,to:y}):d;try{kn(t);const R=(typeof o=="bigint"?he(o):void 0)||a,H=l?O0(l):void 0,Y=Lc($),oe=(C=(A=(X=e.chain)==null?void 0:X.formatters)==null?void 0:A.transactionRequest)==null?void 0:C.format,ye=(oe||Dn)({...Ys(I,{format:oe}),accessList:i,account:T,authorizationList:s,blobs:c,data:U,gas:p,gasPrice:b,maxFeePerBlobGas:B,maxFeePerGas:E,maxPriorityFeePerGas:v,nonce:m,to:N?void 0:y,value:S},"call");if(r&&Pv({request:ye})&&!Y&&!H)try{return await Av(e,{...ye,blockNumber:o,blockTag:a})}catch(ve){if(!(ve instanceof U0)&&!(ve instanceof ji))throw ve}const re=(()=>{const ve=[ye,R];return Y&&H?[...ve,Y,H]:Y?[...ve,Y]:H?[...ve,{},H]:ve})(),pe=await e.request({method:"eth_call",params:re});return pe==="0x"?{data:void 0}:{data:pe}}catch(F){const R=$v(F),{offchainLookup:H,offchainLookupSignature:Y}=await a0(async()=>{const{offchainLookup:oe,offchainLookupSignature:ue}=await import("./ccip-CD1zuQqH.js");return{offchainLookup:oe,offchainLookupSignature:ue}},[]);if(e.ccipRead!==!1&&(R==null?void 0:R.slice(0,10))===Y&&y)return{data:await H(e,{data:R,to:y})};throw N&&(R==null?void 0:R.slice(0,10))==="0x101bb98d"?new Qy({factory:f}):j0(F,{...t,account:T,chain:e.chain})}}function Pv({request:e}){const{data:t,to:n,...s}=e;return!(!t||t.startsWith(gv)||!n||Object.values(s).filter(r=>typeof r<"u").length>0)}async function Av(e,t){var b;const{batchSize:n=1024,deployless:s=!1,wait:r=0}=typeof((b=e.batch)==null?void 0:b.multicall)=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:a=e.experimental_blockTag??"latest",data:i,to:c}=t,l=(()=>{if(s)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return Js({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new U0})(),d=(typeof o=="bigint"?he(o):void 0)||a,{schedule:f}=q0({id:`${e.uid}.${d}`,wait:r,shouldSplitBatch(B){return B.reduce((v,{data:m})=>v+(m.length-2),0)>n*2},fn:async B=>{const E=B.map(y=>({allowFailure:!0,callData:y.data,target:y.to})),v=Bt({abi:Ho,args:[E],functionName:"aggregate3"}),m=await e.request({method:"eth_call",params:[{...l===null?{data:H0({code:Qc,data:v})}:{to:l,data:v}},d]});return ds({abi:Ho,args:[E],functionName:"aggregate3",data:m||"0x"})}}),[{returnData:h,success:p}]=await f({data:i,to:c});if(!p)throw new da({data:h});return h==="0x"?{data:void 0}:{data:h}}function H0(e){const{code:t,data:n}=e;return ga({abi:kf(["constructor(bytes, bytes)"]),bytecode:z0,args:[t,n]})}function Sv(e){const{data:t,factory:n,factoryData:s,to:r}=e;return ga({abi:kf(["constructor(address, bytes, address, bytes)"]),bytecode:vv,args:[r,t,n,s]})}function $v(e){var n;if(!(e instanceof Z))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function Ht(e,t){const{abi:n,address:s,args:r,functionName:o,...a}=t,i=Bt({abi:n,args:r,functionName:o});try{const{data:c}=await le(e,va,"call")({...a,data:i,to:s});return ds({abi:n,args:r,functionName:o,data:c||"0x"})}catch(c){throw rs(c,{abi:n,address:s,args:r,docsPath:"/docs/contract/readContract",functionName:o})}}async function kv(e,t){var u;const{abi:n,address:s,args:r,functionName:o,dataSuffix:a=typeof e.dataSuffix=="string"?e.dataSuffix:(u=e.dataSuffix)==null?void 0:u.value,...i}=t,c=i.account?je(i.account):e.account,l=Bt({abi:n,args:r,functionName:o});try{const{data:d}=await le(e,va,"call")({batch:!1,data:`${l}${a?a.replace("0x",""):""}`,to:s,...i,account:c}),f=ds({abi:n,args:r,functionName:o,data:d||"0x"}),h=n.filter(p=>"name"in p&&p.name===t.functionName);return{result:f,request:{abi:h,address:s,args:r,dataSuffix:a,functionName:o,...i,account:c}}}catch(d){throw rs(d,{abi:n,address:s,args:r,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const Ka=new Map,jl=new Map;let Bv=0;function Pn(e,t,n){const s=++Bv,r=()=>Ka.get(e)||[],o=()=>{const u=r();Ka.set(e,u.filter(d=>d.id!==s))},a=()=>{const u=r();if(!u.some(f=>f.id===s))return;const d=jl.get(e);if(u.length===1&&d){const f=d();f instanceof Promise&&f.catch(()=>{})}o()},i=r();if(Ka.set(e,[...i,{id:s,fns:t}]),i&&i.length>0)return a;const c={};for(const u in t)c[u]=((...d)=>{var h,p;const f=r();if(f.length!==0)for(const b of f)(p=(h=b.fns)[u])==null||p.call(h,...d)});const l=n(c);return typeof l=="function"&&jl.set(e,l),a}async function qi(e){return new Promise(t=>setTimeout(t,e))}function Xs(e,{emitOnBegin:t,initialWaitTime:n,interval:s}){let r=!0;const o=()=>r=!1;return(async()=>{let i;t&&(i=await e({unpoll:o}));const c=await(n==null?void 0:n(i))??s;await qi(c);const l=async()=>{r&&(await e({unpoll:o}),await qi(s),l())};l()})(),o}const Iv=new Map,Cv=new Map;function Tv(e){const t=(r,o)=>({clear:()=>o.delete(r),get:()=>o.get(r),set:a=>o.set(r,a)}),n=t(e,Iv),s=t(e,Cv);return{clear:()=>{n.clear(),s.clear()},promise:n,response:s}}async function _v(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const s=Tv(t),r=s.response.get();if(r&&n>0&&Date.now()-r.created.getTime()<n)return r.data;let o=s.promise.get();o||(o=e(),s.promise.set(o));try{const a=await o;return s.response.set({created:new Date,data:a}),a}finally{s.promise.clear()}}const Rv=e=>`blockNumber.${e}`;async function ao(e,{cacheTime:t=e.cacheTime}={}){const n=await _v(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Rv(e.uid),cacheTime:t});return BigInt(n)}async function wa(e,{filter:t}){const n="strict"in t&&t.strict,s=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof s[0]=="string")return s;const r=s.map(o=>En(o));return!("abi"in t)||!t.abi?r:Wc({abi:t.abi,logs:r,strict:n})}async function xa(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Nv(e,t){const{abi:n,address:s,args:r,batch:o=!0,eventName:a,fromBlock:i,onError:c,onLogs:l,poll:u,pollingInterval:d=e.pollingInterval,strict:f}=t;return(typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const B=f??!1,E=Ye(["watchContractEvent",s,r,o,e.uid,a,d,B,i]);return Pn(E,{onLogs:l,onError:c},v=>{let m;i!==void 0&&(m=i-1n);let y,S=!1;const $=Xs(async()=>{var I;if(!S){try{y=await le(e,Zf,"createContractEventFilter")({abi:n,address:s,args:r,eventName:a,strict:B,fromBlock:i})}catch{}S=!0;return}try{let T;if(y)T=await le(e,wa,"getFilterChanges")({filter:y});else{const _=await le(e,ao,"getBlockNumber")({});m&&m<_?T=await le(e,w0,"getContractEvents")({abi:n,address:s,args:r,eventName:a,fromBlock:m+1n,toBlock:_,strict:B}):T=[],m=_}if(T.length===0)return;if(o)v.onLogs(T);else for(const _ of T)v.onLogs([_])}catch(T){y&&T instanceof Mn&&(S=!1),(I=v.onError)==null||I.call(v,T)}},{emitOnBegin:!0,interval:d});return async()=>{y&&await le(e,xa,"uninstallFilter")({filter:y}),$()}})})():(()=>{const B=f??!1,E=Ye(["watchContractEvent",s,r,o,e.uid,a,d,B]);let v=!0,m=()=>v=!1;return Pn(E,{onLogs:l,onError:c},y=>((async()=>{try{const S=(()=>{if(e.transport.type==="fallback"){const T=e.transport.transports.find(_=>_.config.type==="webSocket"||_.config.type==="ipc");return T?T.value:e.transport}return e.transport})(),$=a?Jr({abi:n,eventName:a,args:r}):[],{unsubscribe:I}=await S.subscribe({params:["logs",{address:s,topics:$}],onData(T){var L;if(!v)return;const _=T.result;try{const{eventName:N,args:U}=Uo({abi:n,data:_.data,topics:_.topics,strict:f}),j=En(_,{args:U,eventName:N});y.onLogs([j])}catch(N){let U,j;if(N instanceof Lo||N instanceof $c){if(f)return;U=N.abiItem.name,j=(L=N.abiItem.inputs)==null?void 0:L.some(A=>!("name"in A&&A.name))}const X=En(_,{args:j?[]:{},eventName:U});y.onLogs([X])}},onError(T){var _;(_=y.onError)==null||_.call(y,T)}});m=I,v||m()}catch(S){c==null||c(S)}})(),()=>m()))})()}class Un extends Z{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class es extends Z{constructor({docsPath:t,metaMessages:n,type:s}){super(`Account type "${s}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function tu({chain:e,currentChainId:t}){if(!e)throw new Ev;if(t!==e.id)throw new xv({chain:e,currentChainId:t})}async function nu(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Za=new Ws(128);async function Ea(e,t){var y,S,$,I,T;const{account:n=e.account,assertChainId:s=!0,chain:r=e.chain,accessList:o,authorizationList:a,blobs:i,data:c,dataSuffix:l=typeof e.dataSuffix=="string"?e.dataSuffix:(y=e.dataSuffix)==null?void 0:y.value,gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,type:B,value:E,...v}=t;if(typeof n>"u")throw new Un({docsPath:"/docs/actions/wallet/sendTransaction"});const m=n?je(n):null;try{kn(t);const _=await(async()=>{if(t.to)return t.to;if(t.to!==null&&a&&a.length>0)return await fa({authorization:a[0]}).catch(()=>{throw new Z("`to` is required. Could not infer from `authorizationList`.")})})();if((m==null?void 0:m.type)==="json-rpc"||m===null){let L;r!==null&&(L=await le(e,zn,"getChainId")({}),s&&tu({currentChainId:L,chain:r}));const N=(I=($=(S=e.chain)==null?void 0:S.formatters)==null?void 0:$.transactionRequest)==null?void 0:I.format,j=(N||Dn)({...Ys(v,{format:N}),accessList:o,account:m,authorizationList:a,blobs:i,chainId:L,data:c&&ut([c,l??"0x"]),gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,to:_,type:B,value:E},"sendTransaction"),X=Za.get(e.uid),A=X?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:A,params:[j]},{retryCount:0})}catch(C){if(X===!1)throw C;const F=C;if(F.name==="InvalidInputRpcError"||F.name==="InvalidParamsRpcError"||F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[j]},{retryCount:0}).then(R=>(Za.set(e.uid,!0),R)).catch(R=>{const H=R;throw H.name==="MethodNotFoundRpcError"||H.name==="MethodNotSupportedRpcError"?(Za.set(e.uid,!1),F):H});throw F}}if((m==null?void 0:m.type)==="local"){const L=await le(e,to,"prepareTransactionRequest")({account:m,accessList:o,authorizationList:a,blobs:i,chain:r,data:c&&ut([c,l??"0x"]),gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,nonceManager:m.nonceManager,parameters:[...Vc,"sidecars"],type:B,value:E,...v,to:_}),N=(T=r==null?void 0:r.serializers)==null?void 0:T.transaction,U=await m.signTransaction(L,{serializer:N});return await le(e,nu,"sendRawTransaction")({serializedTransaction:U})}throw(m==null?void 0:m.type)==="smart"?new es({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new es({docsPath:"/docs/actions/wallet/sendTransaction",type:m==null?void 0:m.type})}catch(_){throw _ instanceof es?_:pa(_,{...t,account:m,chain:t.chain||void 0})}}async function Vr(e,t){return Vr.internal(e,Ea,"sendTransaction",t)}(function(e){async function t(n,s,r,o){const{abi:a,account:i=n.account,address:c,args:l,functionName:u,...d}=o;if(typeof i>"u")throw new Un({docsPath:"/docs/contract/writeContract"});const f=i?je(i):null,h=Bt({abi:a,args:l,functionName:u});try{return await le(n,s,r)({data:h,to:c,account:f,...d})}catch(p){throw rs(p,{abi:a,address:c,args:l,docsPath:"/docs/contract/writeContract",functionName:u,sender:f==null?void 0:f.address})}}e.internal=t})(Vr||(Vr={}));class Fv extends Z{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}function Vo(e,{delay:t=100,retryCount:n=2,shouldRetry:s=()=>!0}={}){return new Promise((r,o)=>{const a=async({count:i=0}={})=>{const c=async({error:l})=>{const u=typeof t=="function"?t({count:i,error:l}):t;u&&await qi(u),a({count:i+1})};try{const l=await e();r(l)}catch(l){if(i<n&&await s({count:i,error:l}))return c({error:l});o(l)}};a()})}const V0={"0x0":"reverted","0x1":"success"};function G0(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(s=>En(s)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Ut(e.transactionIndex):null,status:e.status?V0[e.status]:null,type:e.type?f0[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const W0="0x5792579257925792579257925792579257925792579257925792579257925792",K0=he(0,{size:32});async function Z0(e,t){var f;const{account:n=e.account,chain:s=e.chain,experimental_fallback:r,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:i,version:c="2.0.0"}=t,l=n?je(n):null;let u=t.capabilities;e.dataSuffix&&!((f=t.capabilities)!=null&&f.dataSuffix)&&(typeof e.dataSuffix=="string"?u={...t.capabilities,dataSuffix:{value:e.dataSuffix,optional:!0}}:u={...t.capabilities,dataSuffix:{value:e.dataSuffix.value,...e.dataSuffix.required?{}:{optional:!0}}});const d=t.calls.map(h=>{const p=h,b=p.abi?Bt({abi:p.abi,functionName:p.functionName,args:p.args}):p.data;return{data:p.dataSuffix&&b?ut([b,p.dataSuffix]):b,to:p.to,value:p.value?he(p.value):void 0}});try{const h=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:u,chainId:he(s.id),from:l==null?void 0:l.address,id:i,version:c}]},{retryCount:0});return typeof h=="string"?{id:h}:h}catch(h){const p=h;if(r&&(p.name==="MethodNotFoundRpcError"||p.name==="MethodNotSupportedRpcError"||p.name==="UnknownRpcError"||p.details.toLowerCase().includes("does not exist / is not available")||p.details.toLowerCase().includes("missing or invalid. request()")||p.details.toLowerCase().includes("did not match any variant of untagged enum")||p.details.toLowerCase().includes("account upgraded to unsupported contract")||p.details.toLowerCase().includes("eip-7702 not supported")||p.details.toLowerCase().includes("unsupported wc_ method")||p.details.toLowerCase().includes("feature toggled misconfigured")||p.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(u&&Object.values(u).some(m=>!m.optional)){const m="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Us(new Z(m,{details:m}))}if(a&&d.length>1){const v="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new js(new Z(v,{details:v}))}const b=[];for(const v of d){const m=Ea(e,{account:l,chain:s,data:v.data,to:v.to,value:v.value?$t(v.value):void 0});b.push(m),o>0&&await new Promise(y=>setTimeout(y,o))}const B=await Promise.allSettled(b);if(B.every(v=>v.status==="rejected"))throw B[0].reason;const E=B.map(v=>v.status==="fulfilled"?v.value:K0);return{id:ut([...E,he(s.id,{size:32}),W0])}}throw pa(h,{...t,account:l,chain:t.chain})}}async function Y0(e,t){async function n(u){if(u.endsWith(W0.slice(2))){const f=Fn(ki(u,-64,-32)),h=ki(u,0,-64).slice(2).match(/.{1,64}/g),p=await Promise.all(h.map(B=>K0.slice(2)!==B?e.request({method:"eth_getTransactionReceipt",params:[`0x${B}`]},{dedupe:!0}):void 0)),b=p.some(B=>B===null)?100:p.every(B=>(B==null?void 0:B.status)==="0x1")?200:p.every(B=>(B==null?void 0:B.status)==="0x0")?500:600;return{atomic:!1,chainId:Ut(f),receipts:p.filter(Boolean),status:b,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:s=!1,chainId:r,receipts:o,version:a="2.0.0",...i}=await n(t.id),[c,l]=(()=>{const u=i.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...i,atomic:s,chainId:r?Ut(r):void 0,receipts:(o==null?void 0:o.map(u=>({...u,blockNumber:$t(u.blockNumber),gasUsed:$t(u.gasUsed),status:V0[u.status]})))??[],statusCode:l,status:c,version:a}}async function J0(e,t){const{id:n,pollingInterval:s=e.pollingInterval,status:r=({statusCode:b})=>b===200||b>=300,retryCount:o=4,retryDelay:a=({count:b})=>~~(1<<b)*200,timeout:i=6e4,throwOnFailure:c=!1}=t,l=Ye(["waitForCallsStatus",e.uid,n]),{promise:u,resolve:d,reject:f}=eu();let h;const p=Pn(l,{resolve:d,reject:f},b=>{const B=Xs(async()=>{const E=v=>{clearTimeout(h),B(),v(),p()};try{const v=await Vo(async()=>{const m=await le(e,Y0,"getCallsStatus")({id:n});if(c&&m.status==="failure")throw new Fv(m);return m},{retryCount:o,delay:a});if(!r(v))return;E(()=>b.resolve(v))}catch(v){E(()=>b.reject(v))}},{interval:s,emitOnBegin:!0});return B});return h=i?setTimeout(()=>{p(),clearTimeout(h),f(new Ov({id:n}))},i):void 0,await u}class Ov extends Z{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const Hi=256;let ho=Hi,po;function X0(e=11){if(!po||ho+e>Hi*2){po="",ho=0;for(let t=0;t<Hi;t++)po+=(256+Math.random()*256|0).toString(16).substring(1)}return po.substring(ho,ho+++e)}function Q0(e){const{batch:t,chain:n,ccipRead:s,dataSuffix:r,key:o="base",name:a="Base Client",type:i="base"}=e,c=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),l=(n==null?void 0:n.blockTime)??12e3,u=Math.min(Math.max(Math.floor(l/2),500),4e3),d=e.pollingInterval??u,f=e.cacheTime??d,h=e.account?je(e.account):void 0,{config:p,request:b,value:B}=e.transport({account:h,chain:n,pollingInterval:d}),E={...p,...B},v={account:h,batch:t,cacheTime:f,ccipRead:s,chain:n,dataSuffix:r,key:o,name:a,pollingInterval:d,request:b,transport:E,type:i,uid:X0(),...c?{experimental_blockTag:c}:{}};function m(y){return S=>{const $=S(y);for(const T in v)delete $[T];const I={...y,...$};return Object.assign(I,{extend:m(I)})}}return Object.assign(v,{extend:m(v)})}function su(e){var n,s,r,o,a,i;if(!(e instanceof Z))return!1;const t=e.walk(c=>c instanceof Ci);return t instanceof Ci?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((s=t.data)==null?void 0:s.errorName)==="ResolverError"||((r=t.data)==null?void 0:r.errorName)==="ResolverNotContract"||((o=t.data)==null?void 0:o.errorName)==="ResolverNotFound"||((a=t.data)==null?void 0:a.errorName)==="ReverseAddressMismatch"||((i=t.data)==null?void 0:i.errorName)==="UnsupportedResolverProfile":!1}function Mv(e){const{abi:t,data:n}=e,s=Ds(n,0,4),r=t.find(o=>o.type==="function"&&s===Zs(zt(o)));if(!r)throw new $1(s,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:r.name,args:"inputs"in r&&r.inputs&&r.inputs.length>0?Xr(r.inputs,Ds(n,4)):void 0}}const Ya="/docs/contract/encodeErrorResult";function ql(e){const{abi:t,errorName:n,args:s}=e;let r=t[0];if(n){const c=ls({abi:t,args:s,name:n});if(!c)throw new dl(n,{docsPath:Ya});r=c}if(r.type!=="error")throw new dl(void 0,{docsPath:Ya});const o=zt(r),a=Zs(o);let i="0x";if(s&&s.length>0){if(!r.inputs)throw new P1(r.name,{docsPath:Ya});i=us(r.inputs,s)}return Ks([a,i])}const Ja="/docs/contract/encodeFunctionResult";function Lv(e){const{abi:t,functionName:n,result:s}=e;let r=t[0];if(n){const a=ls({abi:t,name:n});if(!a)throw new Fs(n,{docsPath:Ja});r=a}if(r.type!=="function")throw new Fs(void 0,{docsPath:Ja});if(!r.outputs)throw new _f(r.name,{docsPath:Ja});const o=(()=>{if(r.outputs.length===0)return[];if(r.outputs.length===1)return[s];if(Array.isArray(s))return s;throw new Rf(s)})();return us(r.outputs,o)}const Pa="x-batch-gateway:true";async function Dv(e){const{data:t,ccipRequest:n}=e,{args:[s]}=Mv({abi:Ui,data:t}),r=[],o=[];return await Promise.all(s.map(async(a,i)=>{try{o[i]=a.urls.includes(Pa)?await Dv({data:a.data,ccipRequest:n}):await n(a),r[i]=!1}catch(c){r[i]=!0,o[i]=zv(c)}})),Lv({abi:Ui,functionName:"query",result:[r,o]})}function zv(e){return e.name==="HttpRequestError"&&e.status?ql({abi:Ui,errorName:"HttpError",args:[e.status,e.shortMessage]}):ql({abi:[Yf],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function eh(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return nn(t)?t:null}function Vi(e){let t=new Uint8Array(32).fill(0);if(!e)return Je(t);const n=e.split(".");for(let s=n.length-1;s>=0;s-=1){const r=eh(n[s]),o=r?Gs(r):tt(Xn(n[s]),"bytes");t=tt(ut([t,o]),"bytes")}return Je(t)}function Uv(e){return`[${e.slice(2)}]`}function jv(e){const t=new Uint8Array(32).fill(0);return e?eh(e)||tt(Xn(e)):Je(t)}function ru(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Xn(t).byteLength+2);let s=0;const r=t.split(".");for(let o=0;o<r.length;o++){let a=Xn(r[o]);a.byteLength>255&&(a=Xn(Uv(jv(r[o])))),n[s]=a.length,n.set(a,s+1),s+=a.length+1}return n.byteLength!==s+1?n.slice(0,s+1):n}async function qv(e,t){const{blockNumber:n,blockTag:s,coinType:r,name:o,gatewayUrls:a,strict:i}=t,{chain:c}=e,l=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Js({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c==null?void 0:c.ensTlds;if(u&&!u.some(f=>o.endsWith(f)))return null;const d=r!=null?[Vi(o),BigInt(r)]:[Vi(o)];try{const f=Bt({abi:zl,functionName:"addr",args:d}),h={address:l,abi:L0,functionName:"resolveWithGateways",args:[xn(ru(o)),f,a??[Pa]],blockNumber:n,blockTag:s},b=await le(e,Ht,"readContract")(h);if(b[0]==="0x")return null;const B=ds({abi:zl,args:d,functionName:"addr",data:b[0]});return B==="0x"||Fn(B)==="0x00"?null:B}catch(f){if(i)throw f;if(su(f))return null;throw f}}class Hv extends Z{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class or extends Z{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class ou extends Z{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Vv extends Z{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Gv=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Wv=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Kv=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Zv=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Yv(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const s=new Image;s.onload=()=>{n(!0)},s.onerror=()=>{n(!1)},s.src=e})}}function Hl(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function th({uri:e,gatewayUrls:t}){const n=Kv.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const s=Hl(t==null?void 0:t.ipfs,"https://ipfs.io"),r=Hl(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(Gv),{protocol:a,subpath:i,target:c,subtarget:l=""}=(o==null?void 0:o.groups)||{},u=a==="ipns:/"||i==="ipns/",d=a==="ipfs:/"||i==="ipfs/"||Wv.test(e);if(e.startsWith("http")&&!u&&!d){let h=e;return t!=null&&t.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((u||d)&&c)return{uri:`${s}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&c)return{uri:`${r}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let f=e.replace(Zv,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new ou({uri:e})}function nh(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Hv({data:e});return e.image||e.image_url||e.image_data}async function Jv({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(r=>r.json());return await au({gatewayUrls:e,uri:nh(n)})}catch{throw new ou({uri:t})}}async function au({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:s}=th({uri:t,gatewayUrls:e});if(s||await Yv(n))return n;throw new ou({uri:t})}function Xv(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,s,r]=t.split("/"),[o,a]=n.split(":"),[i,c]=s.split(":");if(!o||o.toLowerCase()!=="eip155")throw new or({reason:"Only EIP-155 supported"});if(!a)throw new or({reason:"Chain ID not found"});if(!c)throw new or({reason:"Contract address not found"});if(!r)throw new or({reason:"Token ID not found"});if(!i)throw new or({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a,10),namespace:i.toLowerCase(),contractAddress:c,tokenID:r}}async function Qv(e,{nft:t}){if(t.namespace==="erc721")return Ht(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Ht(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Vv({namespace:t.namespace})}async function e6(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?t6(e,{gatewayUrls:t,record:n}):au({uri:n,gatewayUrls:t})}async function t6(e,{gatewayUrls:t,record:n}){const s=Xv(n),r=await Qv(e,{nft:s}),{uri:o,isOnChain:a,isEncoded:i}=th({uri:r,gatewayUrls:t});if(a&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const l=i?atob(o.replace("data:application/json;base64,","")):o,u=JSON.parse(l);return au({uri:nh(u),gatewayUrls:t})}let c=s.tokenID;return s.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Jv({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function sh(e,t){const{blockNumber:n,blockTag:s,key:r,name:o,gatewayUrls:a,strict:i}=t,{chain:c}=e,l=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Js({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),u=c==null?void 0:c.ensTlds;if(u&&!u.some(d=>o.endsWith(d)))return null;try{const d={address:l,abi:L0,args:[xn(ru(o)),Bt({abi:Dl,functionName:"text",args:[Vi(o),r]}),a??[Pa]],functionName:"resolveWithGateways",blockNumber:n,blockTag:s},h=await le(e,Ht,"readContract")(d);if(h[0]==="0x")return null;const p=ds({abi:Dl,functionName:"text",data:h[0]});return p===""?null:p}catch(d){if(i)throw d;if(su(d))return null;throw d}}async function n6(e,{blockNumber:t,blockTag:n,assetGatewayUrls:s,name:r,gatewayUrls:o,strict:a,universalResolverAddress:i}){const c=await le(e,sh,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:r,universalResolverAddress:i,gatewayUrls:o,strict:a});if(!c)return null;try{return await e6(e,{record:c,gatewayUrls:s})}catch{return null}}async function s6(e,t){const{address:n,blockNumber:s,blockTag:r,coinType:o=60n,gatewayUrls:a,strict:i}=t,{chain:c}=e,l=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Js({blockNumber:s,chain:c,contract:"ensUniversalResolver"})})();try{const u={address:l,abi:yv,args:[n,o,a??[Pa]],functionName:"reverseWithGateways",blockNumber:s,blockTag:r},d=le(e,Ht,"readContract"),[f]=await d(u);return f||null}catch(u){if(i)throw u;if(su(u))return null;throw u}}async function r6(e,t){const{blockNumber:n,blockTag:s,name:r}=t,{chain:o}=e,a=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return Js({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),i=o==null?void 0:o.ensTlds;if(i&&!i.some(l=>r.endsWith(l)))throw new Error(`${r} is not a valid ENS TLD (${i==null?void 0:i.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await le(e,Ht,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[xn(ru(r))],blockNumber:n,blockTag:s});return c}async function rh(e,t){var B,E,v;const{account:n=e.account,blockNumber:s,blockTag:r="latest",blobs:o,data:a,gas:i,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:h,...p}=t,b=n?je(n):void 0;try{kn(t);const y=(typeof s=="bigint"?he(s):void 0)||r,S=(v=(E=(B=e.chain)==null?void 0:B.formatters)==null?void 0:E.transactionRequest)==null?void 0:v.format,I=(S||Dn)({...Ys(p,{format:S}),account:b,blobs:o,data:a,gas:i,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:f,value:h},"createAccessList"),T=await e.request({method:"eth_createAccessList",params:[I,y]});return{accessList:T.accessList,gasUsed:BigInt(T.gasUsed)}}catch(m){throw j0(m,{...t,account:b,chain:e.chain})}}async function o6(e){const t=la(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function oh(e,{address:t,args:n,event:s,events:r,fromBlock:o,strict:a,toBlock:i}={}){const c=r??(s?[s]:void 0),l=la(e,{method:"eth_newFilter"});let u=[];c&&(u=[c.flatMap(h=>Jr({abi:[h],eventName:h.name,args:n}))],s&&(u=u[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?he(o):o,toBlock:typeof i=="bigint"?he(i):i,...u.length?{topics:u}:{}}]});return{abi:c,args:n,eventName:s?s.name:void 0,fromBlock:o,id:d,request:l(d),strict:!!a,toBlock:i,type:"event"}}async function ah(e){const t=la(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function a6(e,{address:t,blockNumber:n,blockTag:s=e.experimental_blockTag??"latest"}){const r=typeof n=="bigint"?he(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,r||s]});return BigInt(o)}async function i6(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function c6(e,{blockHash:t,blockNumber:n,blockTag:s="latest"}={}){const r=n!==void 0?he(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[r||s]},{dedupe:!!r}),Ut(o)}async function Gi(e,{address:t,blockNumber:n,blockTag:s="latest"}){const r=n!==void 0?he(n):void 0,o=await e.request({method:"eth_getCode",params:[t,r||s]},{dedupe:!!r});if(o!=="0x")return o}class u6 extends Z{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function l6(e,t){const{address:n,factory:s,factoryData:r}=t;try{const[o,a,i,c,l,u,d]=await le(e,Ht,"readContract")({abi:d6,address:n,functionName:"eip712Domain",factory:s,factoryData:r});return{domain:{name:a,version:i,chainId:Number(c),verifyingContract:l,salt:u},extensions:d,fields:o}}catch(o){const a=o;throw a.name==="ContractFunctionExecutionError"&&a.cause.name==="ContractFunctionZeroDataError"?new u6({address:n}):a}}const d6=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function f6(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(s=>BigInt(s)))}}async function h6(e,{blockCount:t,blockNumber:n,blockTag:s="latest",rewardPercentiles:r}){const o=typeof n=="bigint"?he(n):void 0,a=await e.request({method:"eth_feeHistory",params:[he(t),o||s,r]},{dedupe:!!o});return f6(a)}async function p6(e,{filter:t}){const n=t.strict??!1,r=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>En(o));return t.abi?Wc({abi:t.abi,logs:r,strict:n}):r}async function b6({address:e,authorization:t,signature:n}){return no(Tc(e),await fa({authorization:t,signature:n}))}const bo=new Ws(8192);function m6(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(bo.get(n))return bo.get(n);const s=e().finally(()=>bo.delete(n));return bo.set(n,s),s}function y6(e,t={}){return async(n,s={})=>{var d;const{dedupe:r=!1,methods:o,retryDelay:a=150,retryCount:i=3,uid:c}={...t,...s},{method:l}=n;if((d=o==null?void 0:o.exclude)!=null&&d.includes(l))throw new Kn(new Error("method not supported"),{method:l});if(o!=null&&o.include&&!o.include.includes(l))throw new Kn(new Error("method not supported"),{method:l});const u=r?Os(`${c}.${Ye(n)}`):void 0;return m6(()=>Vo(async()=>{try{return await e(n)}catch(f){const h=f;switch(h.code){case Sr.code:throw new Sr(h);case $r.code:throw new $r(h);case kr.code:throw new kr(h,{method:n.method});case Br.code:throw new Br(h);case ss.code:throw new ss(h);case Mn.code:throw new Mn(h);case Ir.code:throw new Ir(h);case Cr.code:throw new Cr(h);case Tr.code:throw new Tr(h);case Kn.code:throw new Kn(h,{method:n.method});case zs.code:throw new zs(h);case _r.code:throw new _r(h);case Is.code:throw new Is(h);case Rr.code:throw new Rr(h);case Nr.code:throw new Nr(h);case Fr.code:throw new Fr(h);case Or.code:throw new Or(h);case Mr.code:throw new Mr(h);case Us.code:throw new Us(h);case Lr.code:throw new Lr(h);case Dr.code:throw new Dr(h);case zr.code:throw new zr(h);case Ur.code:throw new Ur(h);case jr.code:throw new jr(h);case js.code:throw new js(h);case 5e3:throw new Is(h);default:throw f instanceof Z?f:new tg(h)}}},{delay:({count:f,error:h})=>{var p;if(h&&h instanceof mr){const b=(p=h==null?void 0:h.headers)==null?void 0:p.get("Retry-After");if(b!=null&&b.match(/\d/))return Number.parseInt(b,10)*1e3}return~~(1<<f)*a},retryCount:i,shouldRetry:({error:f})=>g6(f)}),{enabled:r,id:u})}}function g6(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===zs.code||e.code===ss.code:e instanceof mr&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function v6(e){const t={formatters:void 0,fees:void 0,serializers:void 0,...e};function n(s){return r=>{const o=typeof r=="function"?r(s):r,a={...s,...o};return Object.assign(a,{extend:n(a)})}}return Object.assign(t,{extend:n(t)})}function w6(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:s}){return new Promise((r,o)=>{(async()=>{let a;try{const i=new AbortController;n>0&&(a=setTimeout(()=>{s&&i.abort()},n)),r(await e({signal:(i==null?void 0:i.signal)||null}))}catch(i){(i==null?void 0:i.name)==="AbortError"&&o(t),o(i)}finally{clearTimeout(a)}})()})}function x6(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Vl=x6();function E6(e,t={}){const{url:n,headers:s}=P6(e);return{async request(r){var p;const{body:o,fetchFn:a=t.fetchFn??fetch,onRequest:i=t.onRequest,onResponse:c=t.onResponse,timeout:l=t.timeout??1e4}=r,u={...t.fetchOptions??{},...r.fetchOptions??{}},{headers:d,method:f,signal:h}=u;try{const b=await w6(async({signal:E})=>{const v={...u,body:Array.isArray(o)?Ye(o.map($=>({jsonrpc:"2.0",id:$.id??Vl.take(),...$}))):Ye({jsonrpc:"2.0",id:o.id??Vl.take(),...o}),headers:{...s,"Content-Type":"application/json",...d},method:f||"POST",signal:h||(l>0?E:null)},m=new Request(n,v),y=await(i==null?void 0:i(m,v))??{...v,url:n};return await a(y.url??n,y)},{errorInstance:new Sl({body:o,url:n}),timeout:l,signal:!0});c&&await c(b);let B;if((p=b.headers.get("Content-Type"))!=null&&p.startsWith("application/json"))B=await b.json();else{B=await b.text();try{B=JSON.parse(B||"{}")}catch(E){if(b.ok)throw E;B={error:B}}}if(!b.ok)throw new mr({body:o,details:Ye(B.error)||b.statusText,headers:b.headers,status:b.status,url:n});return B}catch(b){throw b instanceof mr||b instanceof Sl?b:new mr({body:o,cause:b,url:n})}}}}function P6(e){try{const t=new URL(e),n=(()=>{if(t.username){const s=`${decodeURIComponent(t.username)}:${decodeURIComponent(t.password)}`;return t.username="",t.password="",{url:t.toString(),headers:{Authorization:`Basic ${btoa(s)}`}}}})();return{url:t.toString(),...n}}catch{return{url:e}}}const A6=`Ethereum Signed Message:
`;function S6(e){const t=typeof e=="string"?Os(e):typeof e.raw=="string"?e.raw:Je(e.raw),n=Os(`${A6}${Ve(t)}`);return ut([n,t])}function ih(e,t){return tt(S6(e),t)}class $6 extends Z{constructor({domain:t}){super(`Invalid domain "${Ye(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class k6 extends Z{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class B6 extends Z{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function I6(e){const{domain:t,message:n,primaryType:s,types:r}=e,o=(c,l)=>{const u={...l};for(const d of c){const{name:f,type:h}=d;h==="address"&&(u[f]=u[f].toLowerCase())}return u},a=r.EIP712Domain?t?o(r.EIP712Domain,t):{}:{},i=(()=>{if(s!=="EIP712Domain")return o(r[s],n)})();return Ye({domain:a,message:i,primaryType:s,types:r})}function ch(e){const{domain:t,message:n,primaryType:s,types:r}=e,o=(a,i)=>{for(const c of a){const{name:l,type:u}=c,d=i[l],f=u.match(Wf);if(f&&(typeof d=="number"||typeof d=="bigint")){const[b,B,E]=f;he(d,{signed:B==="int",size:Number.parseInt(E,10)/8})}if(u==="address"&&typeof d=="string"&&!Ot(d))throw new On({address:d});const h=u.match(vy);if(h){const[b,B]=h;if(B&&Ve(d)!==Number.parseInt(B,10))throw new B1({expectedSize:Number.parseInt(B,10),givenSize:Ve(d)})}const p=r[u];p&&(C6(u),o(p,d))}};if(r.EIP712Domain&&t){if(typeof t!="object")throw new $6({domain:t});o(r.EIP712Domain,t)}if(s!=="EIP712Domain")if(r[s])o(r[s],n);else throw new k6({primaryType:s,types:r})}function uh({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function C6(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new B6({type:e})}function T6(e){const{domain:t={},message:n,primaryType:s}=e,r={EIP712Domain:uh({domain:t}),...e.types};ch({domain:t,message:n,primaryType:s,types:r});const o=["0x1901"];return t&&o.push(_6({domain:t,types:r})),s!=="EIP712Domain"&&o.push(lh({data:n,primaryType:s,types:r})),tt(ut(o))}function _6({domain:e,types:t}){return lh({data:e,primaryType:"EIP712Domain",types:t})}function lh({data:e,primaryType:t,types:n}){const s=dh({data:e,primaryType:t,types:n});return tt(s)}function dh({data:e,primaryType:t,types:n}){const s=[{type:"bytes32"}],r=[R6({primaryType:t,types:n})];for(const o of n[t]){const[a,i]=hh({types:n,name:o.name,type:o.type,value:e[o.name]});s.push(a),r.push(i)}return us(s,r)}function R6({primaryType:e,types:t}){const n=xn(N6({primaryType:e,types:t}));return tt(n)}function N6({primaryType:e,types:t}){let n="";const s=fh({primaryType:e,types:t});s.delete(e);const r=[e,...Array.from(s).sort()];for(const o of r)n+=`${o}(${t[o].map(({name:a,type:i})=>`${i} ${a}`).join(",")})`;return n}function fh({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u),r=s==null?void 0:s[0];if(n.has(r)||t[r]===void 0)return n;n.add(r);for(const o of t[r])fh({primaryType:o.type,types:t},n);return n}function hh({types:e,name:t,type:n,value:s}){if(e[n]!==void 0)return[{type:"bytes32"},tt(dh({data:s,primaryType:n,types:e}))];if(n==="bytes")return[{type:"bytes32"},tt(s)];if(n==="string")return[{type:"bytes32"},tt(xn(s))];if(n.lastIndexOf("]")===n.length-1){const r=n.slice(0,n.lastIndexOf("[")),o=s.map(a=>hh({name:t,type:r,types:e,value:a}));return[{type:"bytes32"},tt(us(o.map(([a])=>a),o.map(([,a])=>a)))]}return[{type:n},s]}class F6 extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}}const O6={checksum:new F6(8192)},Xa=O6.checksum;function ph(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,s=qf(Jg(e));return n==="Bytes"?s:qt(s)}const M6=/^0x[a-fA-F0-9]{40}$/;function Aa(e,t={}){const{strict:n=!0}=t;if(!M6.test(e))throw new Gl({address:e,cause:new L6});if(n){if(e.toLowerCase()===e)return;if(bh(e)!==e)throw new Gl({address:e,cause:new D6})}}function bh(e){if(Xa.has(e))return Xa.get(e);Aa(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=ph(Qg(t),{as:"Bytes"}),s=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(n[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const r=`0x${s.join("")}`;return Xa.set(e,r),r}function Wi(e,t={}){const{strict:n=!0}=t??{};try{return Aa(e,{strict:n}),!0}catch{return!1}}class Gl extends xe{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class L6 extends xe{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class D6 extends xe{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const z6=/^(.*)\[([0-9]*)\]$/,U6=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,mh=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Wl=2n**256n-1n;function Ts(e,t,n){const{checksumAddress:s,staticPosition:r}=n,o=uu(t.type);if(o){const[a,i]=o;return q6(e,{...t,type:i},{checksumAddress:s,length:a,staticPosition:r})}if(t.type==="tuple")return W6(e,t,{checksumAddress:s,staticPosition:r});if(t.type==="address")return j6(e,{checksum:s});if(t.type==="bool")return H6(e);if(t.type.startsWith("bytes"))return V6(e,t,{staticPosition:r});if(t.type.startsWith("uint")||t.type.startsWith("int"))return G6(e,t);if(t.type==="string")return K6(e,{staticPosition:r});throw new du(t.type)}const Kl=32,Ki=32;function j6(e,t={}){const{checksum:n=!1}=t,s=e.readBytes(32);return[(o=>n?bh(o):o)(qt(tv(s,-20))),32]}function q6(e,t,n){const{checksumAddress:s,length:r,staticPosition:o}=n;if(!r){const c=bn(e.readBytes(Ki)),l=o+c,u=l+Kl;e.setPosition(l);const d=bn(e.readBytes(Kl)),f=Gr(t);let h=0;const p=[];for(let b=0;b<d;++b){e.setPosition(u+(f?b*32:h));const[B,E]=Ts(e,t,{checksumAddress:s,staticPosition:u});h+=E,p.push(B)}return e.setPosition(o+32),[p,32]}if(Gr(t)){const c=bn(e.readBytes(Ki)),l=o+c,u=[];for(let d=0;d<r;++d){e.setPosition(l+d*32);const[f]=Ts(e,t,{checksumAddress:s,staticPosition:l});u.push(f)}return e.setPosition(o+32),[u,32]}let a=0;const i=[];for(let c=0;c<r;++c){const[l,u]=Ts(e,t,{checksumAddress:s,staticPosition:o+a});a+=u,i.push(l)}return[i,a]}function H6(e){return[sv(e.readBytes(32),{size:32}),32]}function V6(e,t,{staticPosition:n}){const[s,r]=t.type.split("bytes");if(!r){const a=bn(e.readBytes(32));e.setPosition(n+a);const i=bn(e.readBytes(32));if(i===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(i);return e.setPosition(n+32),[qt(c),32]}return[qt(e.readBytes(Number.parseInt(r,10),32)),32]}function G6(e,t){const n=t.type.startsWith("int"),s=Number.parseInt(t.type.split("int")[1]||"256",10),r=e.readBytes(32);return[s>48?nv(r,{signed:n}):bn(r,{signed:n}),32]}function W6(e,t,n){const{checksumAddress:s,staticPosition:r}=n,o=t.components.length===0||t.components.some(({name:c})=>!c),a=o?[]:{};let i=0;if(Gr(t)){const c=bn(e.readBytes(Ki)),l=r+c;for(let u=0;u<t.components.length;++u){const d=t.components[u];e.setPosition(l+i);const[f,h]=Ts(e,d,{checksumAddress:s,staticPosition:l});i+=h,a[o?u:d==null?void 0:d.name]=f}return e.setPosition(r+32),[a,32]}for(let c=0;c<t.components.length;++c){const l=t.components[c],[u,d]=Ts(e,l,{checksumAddress:s,staticPosition:r});a[o?c:l==null?void 0:l.name]=u,i+=d}return[a,i]}function K6(e,{staticPosition:t}){const n=bn(e.readBytes(32)),s=t+n;e.setPosition(s);const r=bn(e.readBytes(32));if(r===0)return e.setPosition(t+32),["",32];const o=e.readBytes(r,32),a=rv(C0(o));return e.setPosition(t+32),[a,32]}function Z6({checksumAddress:e,parameters:t,values:n}){const s=[];for(let r=0;r<t.length;r++)s.push(iu({checksumAddress:e,parameter:t[r],value:n[r]}));return s}function iu({checksumAddress:e=!1,parameter:t,value:n}){const s=t,r=uu(s.type);if(r){const[o,a]=r;return J6(n,{checksumAddress:e,length:o,parameter:{...s,type:a}})}if(s.type==="tuple")return nw(n,{checksumAddress:e,parameter:s});if(s.type==="address")return Y6(n,{checksum:e});if(s.type==="bool")return Q6(n);if(s.type.startsWith("uint")||s.type.startsWith("int")){const o=s.type.startsWith("int"),[,,a="256"]=mh.exec(s.type)??[];return ew(n,{signed:o,size:Number(a)})}if(s.type.startsWith("bytes"))return X6(n,{type:s.type});if(s.type==="string")return tw(n);throw new du(s.type)}function cu(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?t+=32:t+=kt(i)}const n=[],s=[];let r=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?(n.push(pt(t+r,{size:32})),s.push(i),r+=kt(i)):n.push(i)}return jt(...n,...s)}function Y6(e,t){const{checksum:n=!1}=t;return Aa(e,{strict:n}),{dynamic:!1,encoded:os(e.toLowerCase())}}function J6(e,t){const{checksumAddress:n,length:s,parameter:r}=t,o=s===null;if(!Array.isArray(e))throw new dw(e);if(!o&&e.length!==s)throw new lw({expectedLength:s,givenLength:e.length,type:`${r.type}[${s}]`});let a=!1;const i=[];for(let c=0;c<e.length;c++){const l=iu({checksumAddress:n,parameter:r,value:e[c]});l.dynamic&&(a=!0),i.push(l)}if(o||a){const c=cu(i);if(o){const l=pt(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?jt(l,c):l}}if(a)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:jt(...i.map(({encoded:c})=>c))}}function X6(e,{type:t}){const[,n]=t.split("bytes"),s=kt(e);if(!n){let r=e;return s%32!==0&&(r=as(r,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:jt(os(pt(s,{size:32})),r)}}if(s!==Number.parseInt(n,10))throw new gh({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:as(e)}}function Q6(e){if(typeof e!="boolean")throw new xe(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:os(T0(e))}}function ew(e,{signed:t,size:n}){if(typeof n=="number"){const s=2n**(BigInt(n)-(t?1n:0n))-1n,r=t?-s-1n:0n;if(e>s||e<r)throw new N0({max:s.toString(),min:r.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:pt(e,{size:32,signed:t})}}function tw(e){const t=Xc(e),n=Math.ceil(kt(t)/32),s=[];for(let r=0;r<n;r++)s.push(as(en(t,r*32,(r+1)*32)));return{dynamic:!0,encoded:jt(as(pt(kt(t),{size:32})),...s)}}function nw(e,t){const{checksumAddress:n,parameter:s}=t;let r=!1;const o=[];for(let a=0;a<s.components.length;a++){const i=s.components[a],c=Array.isArray(e)?a:i.name,l=iu({checksumAddress:n,parameter:i,value:e[c]});o.push(l),l.dynamic&&(r=!0)}return{dynamic:r,encoded:r?cu(o):jt(...o.map(({encoded:a})=>a))}}function uu(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Gr(e){var s;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(s=e.components)==null?void 0:s.some(Gr);const n=uu(e.type);return!!(n&&Gr({...e,type:n[1]}))}const sw={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new aw({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new ow({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Zl({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Zl({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function rw(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(sw);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class Zl extends xe{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class ow extends xe{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class aw extends xe{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function iw(e,t,n={}){const{as:s="Array",checksumAddress:r=!1}=n,o=typeof t=="string"?I0(t):t,a=rw(o);if(ws(o)===0&&e.length>0)throw new uw;if(ws(o)&&ws(o)<32)throw new cw({data:typeof t=="string"?t:qt(t),parameters:e,size:ws(o)});let i=0;const c=s==="Array"?[]:{};for(let l=0;l<e.length;++l){const u=e[l];a.setPosition(i);const[d,f]=Ts(a,u,{checksumAddress:r,staticPosition:0});i+=f,s==="Array"?c.push(d):c[u.name??l]=d}return c}function lu(e,t,n){const{checksumAddress:s=!1}={};if(e.length!==t.length)throw new vh({expectedLength:e.length,givenLength:t.length});const r=Z6({checksumAddress:s,parameters:e,values:t}),o=cu(r);return o.length===0?"0x":o}function Zi(e,t){if(e.length!==t.length)throw new vh({expectedLength:e.length,givenLength:t.length});const n=[];for(let s=0;s<e.length;s++){const r=e[s],o=t[s];n.push(Zi.encode(r,o))}return jt(...n)}(function(e){function t(n,s,r=!1){if(n==="address"){const c=s;return Aa(c),os(c.toLowerCase(),r?32:0)}if(n==="string")return Xc(s);if(n==="bytes")return s;if(n==="bool")return os(T0(s),r?32:1);const o=n.match(mh);if(o){const[c,l,u="256"]=o,d=Number.parseInt(u,10)/8;return pt(s,{size:r?32:d,signed:l==="int"})}const a=n.match(U6);if(a){const[c,l]=a;if(Number.parseInt(l,10)!==(s.length-2)/2)throw new gh({expectedSize:Number.parseInt(l,10),value:s});return as(s,r?32:0)}const i=n.match(z6);if(i&&Array.isArray(s)){const[c,l]=i,u=[];for(let d=0;d<s.length;d++)u.push(t(l,s[d],!0));return u.length===0?"0x":jt(...u)}throw new du(n)}e.encode=t})(Zi||(Zi={}));function yh(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?ul(e):e}class cw extends xe{constructor({data:t,parameters:n,size:s}){super(`Data size of ${s} bytes is too small for given parameters.`,{metaMessages:[`Params: (${gs(n)})`,`Data:   ${t} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class uw extends xe{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class lw extends xe{constructor({expectedLength:t,givenLength:n,type:s}){super(`Array length mismatch for type \`${s}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class gh extends xe{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${kt(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class vh extends xe{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class dw extends xe{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class du extends xe{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class wh extends Bc{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Y1(t);const s=ca(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(s.length>r?t.create().update(s).digest():s);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=t.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),Ls(o)}update(t){return Ms(this),this.iHash.update(t),this}digestInto(t){Ms(this),ns(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:r,destroyed:o,blockLen:a,outputLen:i}=this;return t=t,t.finished=r,t.destroyed=o,t.blockLen=a,t.outputLen=i,t.oHash=n._cloneInto(t.oHash),t.iHash=s._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const xh=(e,t,n)=>new wh(e,t).update(n).digest();xh.create=(e,t)=>new wh(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vt=BigInt(0),bt=BigInt(1),Zn=BigInt(2),fw=BigInt(3),Eh=BigInt(4),Ph=BigInt(5),Ah=BigInt(8);function gt(e,t){const n=e%t;return n>=vt?n:t+n}function Ct(e,t,n){let s=e;for(;t-- >vt;)s*=s,s%=n;return s}function Yi(e,t){if(e===vt)throw new Error("invert: expected non-zero number");if(t<=vt)throw new Error("invert: expected positive modulus, got "+t);let n=gt(e,t),s=t,r=vt,o=bt;for(;n!==vt;){const i=s/n,c=s%n,l=r-o*i;s=n,n=c,r=o,o=l}if(s!==bt)throw new Error("invert: does not exist");return gt(r,t)}function Sh(e,t){const n=(e.ORDER+bt)/Eh,s=e.pow(t,n);if(!e.eql(e.sqr(s),t))throw new Error("Cannot find square root");return s}function hw(e,t){const n=(e.ORDER-Ph)/Ah,s=e.mul(t,Zn),r=e.pow(s,n),o=e.mul(t,r),a=e.mul(e.mul(o,Zn),r),i=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(i),t))throw new Error("Cannot find square root");return i}function pw(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-bt,n=0;for(;t%Zn===vt;)t/=Zn,n++;let s=Zn;const r=fu(e);for(;Yl(r,s)===1;)if(s++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Sh;let o=r.pow(s,t);const a=(t+bt)/Zn;return function(c,l){if(c.is0(l))return l;if(Yl(c,l)!==1)throw new Error("Cannot find square root");let u=n,d=c.mul(c.ONE,o),f=c.pow(l,t),h=c.pow(l,a);for(;!c.eql(f,c.ONE);){if(c.is0(f))return c.ZERO;let p=1,b=c.sqr(f);for(;!c.eql(b,c.ONE);)if(p++,b=c.sqr(b),p===u)throw new Error("Cannot find square root");const B=bt<<BigInt(u-p-1),E=c.pow(d,B);u=p,d=c.sqr(E),f=c.mul(f,d),h=c.mul(h,E)}return h}}function bw(e){return e%Eh===fw?Sh:e%Ah===Ph?hw:pw(e)}const mw=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function yw(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=mw.reduce((s,r)=>(s[r]="function",s),t);return ma(e,n)}function gw(e,t,n){if(n<vt)throw new Error("invalid exponent, negatives unsupported");if(n===vt)return e.ONE;if(n===bt)return t;let s=e.ONE,r=t;for(;n>vt;)n&bt&&(s=e.mul(s,r)),r=e.sqr(r),n>>=bt;return s}function $h(e,t,n=!1){const s=new Array(t.length).fill(n?e.ZERO:void 0),r=t.reduce((a,i,c)=>e.is0(i)?a:(s[c]=a,e.mul(a,i)),e.ONE),o=e.inv(r);return t.reduceRight((a,i,c)=>e.is0(i)?a:(s[c]=e.mul(a,s[c]),e.mul(a,i)),o),s}function Yl(e,t){const n=(e.ORDER-bt)/Zn,s=e.pow(t,n),r=e.eql(s,e.ONE),o=e.eql(s,e.ZERO),a=e.eql(s,e.neg(e.ONE));if(!r&&!o&&!a)throw new Error("invalid Legendre symbol result");return r?1:o?0:-1}function kh(e,t){t!==void 0&&Pr(t);const n=t!==void 0?t:e.toString(2).length,s=Math.ceil(n/8);return{nBitLength:n,nByteLength:s}}function fu(e,t,n=!1,s={}){if(e<=vt)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:r,nByteLength:o}=kh(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const i=Object.freeze({ORDER:e,isLE:n,BITS:r,BYTES:o,MASK:ba(r),ZERO:vt,ONE:bt,create:c=>gt(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return vt<=c&&c<e},is0:c=>c===vt,isOdd:c=>(c&bt)===bt,neg:c=>gt(-c,e),eql:(c,l)=>c===l,sqr:c=>gt(c*c,e),add:(c,l)=>gt(c+l,e),sub:(c,l)=>gt(c-l,e),mul:(c,l)=>gt(c*l,e),pow:(c,l)=>gw(i,c,l),div:(c,l)=>gt(c*Yi(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Yi(c,e),sqrt:s.sqrt||(c=>(a||(a=bw(e)),a(i,c))),toBytes:c=>n?A0(c,o):ro(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return n?P0(c):Qn(c)},invertBatch:c=>$h(i,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(i)}function Bh(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Ih(e){const t=Bh(e);return t+Math.ceil(t/2)}function vw(e,t,n=!1){const s=e.length,r=Bh(t),o=Ih(t);if(s<16||s<o||s>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+s);const a=n?P0(e):Qn(e),i=gt(a,t-bt)+bt;return n?A0(i,r):ro(i,r)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Jl=BigInt(0),Ji=BigInt(1);function Qa(e,t){const n=t.negate();return e?n:t}function Ch(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function ei(e,t){Ch(e,t);const n=Math.ceil(t/e)+1,s=2**(e-1),r=2**e,o=ba(e),a=BigInt(e);return{windows:n,windowSize:s,mask:o,maxNumber:r,shiftBy:a}}function Xl(e,t,n){const{windowSize:s,mask:r,maxNumber:o,shiftBy:a}=n;let i=Number(e&r),c=e>>a;i>s&&(i-=o,c+=Ji);const l=t*s,u=l+Math.abs(i)-1,d=i===0,f=i<0,h=t%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:l}}function ww(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,s)=>{if(!(n instanceof t))throw new Error("invalid point at index "+s)})}function xw(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,s)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+s)})}const ti=new WeakMap,Th=new WeakMap;function ni(e){return Th.get(e)||1}function Ew(e,t){return{constTimeNegate:Qa,hasPrecomputes(n){return ni(n)!==1},unsafeLadder(n,s,r=e.ZERO){let o=n;for(;s>Jl;)s&Ji&&(r=r.add(o)),o=o.double(),s>>=Ji;return r},precomputeWindow(n,s){const{windows:r,windowSize:o}=ei(s,t),a=[];let i=n,c=i;for(let l=0;l<r;l++){c=i,a.push(c);for(let u=1;u<o;u++)c=c.add(i),a.push(c);i=c.double()}return a},wNAF(n,s,r){let o=e.ZERO,a=e.BASE;const i=ei(n,t);for(let c=0;c<i.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:p}=Xl(r,c,i);r=l,d?a=a.add(Qa(h,s[p])):o=o.add(Qa(f,s[u]))}return{p:o,f:a}},wNAFUnsafe(n,s,r,o=e.ZERO){const a=ei(n,t);for(let i=0;i<a.windows&&r!==Jl;i++){const{nextN:c,offset:l,isZero:u,isNeg:d}=Xl(r,i,a);if(r=c,!u){const f=s[l];o=o.add(d?f.negate():f)}}return o},getPrecomputes(n,s,r){let o=ti.get(s);return o||(o=this.precomputeWindow(s,n),n!==1&&ti.set(s,r(o))),o},wNAFCached(n,s,r){const o=ni(n);return this.wNAF(o,this.getPrecomputes(o,n,r),s)},wNAFCachedUnsafe(n,s,r,o){const a=ni(n);return a===1?this.unsafeLadder(n,s,o):this.wNAFUnsafe(a,this.getPrecomputes(a,n,r),s,o)},setWindowSize(n,s){Ch(s,t),Th.set(n,s),ti.delete(n)}}}function Pw(e,t,n,s){ww(n,e),xw(s,t);const r=n.length,o=s.length;if(r!==o)throw new Error("arrays of points and scalars must have equal length");const a=e.ZERO,i=zg(BigInt(r));let c=1;i>12?c=i-3:i>4?c=i-2:i>0&&(c=2);const l=ba(c),u=new Array(Number(l)+1).fill(a),d=Math.floor((t.BITS-1)/c)*c;let f=a;for(let h=d;h>=0;h-=c){u.fill(a);for(let b=0;b<o;b++){const B=s[b],E=Number(B>>BigInt(h)&l);u[E]=u[E].add(n[b])}let p=a;for(let b=u.length-1,B=a;b>0;b--)B=B.add(u[b]),p=p.add(B);if(f=f.add(p),h!==0)for(let b=0;b<c;b++)f=f.double()}return f}function _h(e){return yw(e.Fp),ma(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...kh(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ql(e){e.lowS!==void 0&&qr("lowS",e.lowS),e.prehash!==void 0&&qr("prehash",e.prehash)}function Aw(e){const t=_h(e);ma(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:s,a:r}=t;if(n){if(!s.eql(r,s.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class Sw extends Error{constructor(t=""){super(t)}}const ln={Err:Sw,_tlv:{encode:(e,t)=>{const{Err:n}=ln;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const s=t.length/2,r=fo(s);if(r.length/2&128)throw new n("tlv.encode: long form length too big");const o=s>127?fo(r.length/2|128):"";return fo(e)+o+r+t},decode(e,t){const{Err:n}=ln;let s=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[s++]!==e)throw new n("tlv.decode: wrong tlv");const r=t[s++],o=!!(r&128);let a=0;if(!o)a=r;else{const c=r&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=t.subarray(s,s+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)a=a<<8|u;if(s+=c,a<128)throw new n("tlv.decode(long): not minimal encoding")}const i=t.subarray(s,s+a);if(i.length!==a)throw new n("tlv.decode: wrong value length");return{v:i,l:t.subarray(s+a)}}},_int:{encode(e){const{Err:t}=ln;if(e<hn)throw new t("integer: negative integers are not allowed");let n=fo(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=ln;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Qn(e)}},toSig(e){const{Err:t,_int:n,_tlv:s}=ln,r=Tt("signature",e),{v:o,l:a}=s.decode(48,r);if(a.length)throw new t("invalid signature: left bytes after parsing");const{v:i,l:c}=s.decode(2,o),{v:l,l:u}=s.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(i),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=ln,s=t.encode(2,n.encode(e.r)),r=t.encode(2,n.encode(e.s)),o=s+r;return t.encode(48,o)}};function si(e,t){return Hr(ro(e,t))}const hn=BigInt(0),Qe=BigInt(1);BigInt(2);const ri=BigInt(3),$w=BigInt(4);function kw(e){const t=Aw(e),{Fp:n}=t,s=fu(t.n,t.nBitLength),r=t.toBytes||((m,y,S)=>{const $=y.toAffine();return qo(Uint8Array.from([4]),n.toBytes($.x),n.toBytes($.y))}),o=t.fromBytes||(m=>{const y=m.subarray(1),S=n.fromBytes(y.subarray(0,n.BYTES)),$=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:S,y:$}});function a(m){const{a:y,b:S}=t,$=n.sqr(m),I=n.mul($,m);return n.add(n.add(I,n.mul(m,y)),S)}function i(m,y){const S=n.sqr(y),$=a(m);return n.eql(S,$)}if(!i(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,ri),$w),l=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function u(m){return Jc(m,Qe,t.n)}function d(m){const{allowedPrivateKeyLengths:y,nByteLength:S,wrapPrivateKey:$,n:I}=t;if(y&&typeof m!="bigint"){if(so(m)&&(m=Hr(m)),typeof m!="string"||!y.includes(m.length))throw new Error("invalid private key");m=m.padStart(S*2,"0")}let T;try{T=typeof m=="bigint"?m:Qn(Tt("private key",m,S))}catch{throw new Error("invalid private key, expected hex or "+S+" bytes, got "+typeof m)}return $&&(T=gt(T,I)),Cs("private key",T,Qe,I),T}function f(m){if(!(m instanceof b))throw new Error("ProjectivePoint expected")}const h=Fl((m,y)=>{const{px:S,py:$,pz:I}=m;if(n.eql(I,n.ONE))return{x:S,y:$};const T=m.is0();y==null&&(y=T?n.ONE:n.inv(I));const _=n.mul(S,y),L=n.mul($,y),N=n.mul(I,y);if(T)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x:_,y:L}}),p=Fl(m=>{if(m.is0()){if(t.allowInfinityPoint&&!n.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:y,y:S}=m.toAffine();if(!n.isValid(y)||!n.isValid(S))throw new Error("bad point: x or y not FE");if(!i(y,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class b{constructor(y,S,$){if(y==null||!n.isValid(y))throw new Error("x required");if(S==null||!n.isValid(S)||n.is0(S))throw new Error("y required");if($==null||!n.isValid($))throw new Error("z required");this.px=y,this.py=S,this.pz=$,Object.freeze(this)}static fromAffine(y){const{x:S,y:$}=y||{};if(!y||!n.isValid(S)||!n.isValid($))throw new Error("invalid affine point");if(y instanceof b)throw new Error("projective point not allowed");const I=T=>n.eql(T,n.ZERO);return I(S)&&I($)?b.ZERO:new b(S,$,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const S=$h(n,y.map($=>$.pz));return y.map(($,I)=>$.toAffine(S[I])).map(b.fromAffine)}static fromHex(y){const S=b.fromAffine(o(Tt("pointHex",y)));return S.assertValidity(),S}static fromPrivateKey(y){return b.BASE.multiply(d(y))}static msm(y,S){return Pw(b,s,y,S)}_setWindowSize(y){v.setWindowSize(this,y)}assertValidity(){p(this)}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){f(y);const{px:S,py:$,pz:I}=this,{px:T,py:_,pz:L}=y,N=n.eql(n.mul(S,L),n.mul(T,I)),U=n.eql(n.mul($,L),n.mul(_,I));return N&&U}negate(){return new b(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:S}=t,$=n.mul(S,ri),{px:I,py:T,pz:_}=this;let L=n.ZERO,N=n.ZERO,U=n.ZERO,j=n.mul(I,I),X=n.mul(T,T),A=n.mul(_,_),C=n.mul(I,T);return C=n.add(C,C),U=n.mul(I,_),U=n.add(U,U),L=n.mul(y,U),N=n.mul($,A),N=n.add(L,N),L=n.sub(X,N),N=n.add(X,N),N=n.mul(L,N),L=n.mul(C,L),U=n.mul($,U),A=n.mul(y,A),C=n.sub(j,A),C=n.mul(y,C),C=n.add(C,U),U=n.add(j,j),j=n.add(U,j),j=n.add(j,A),j=n.mul(j,C),N=n.add(N,j),A=n.mul(T,_),A=n.add(A,A),j=n.mul(A,C),L=n.sub(L,j),U=n.mul(A,X),U=n.add(U,U),U=n.add(U,U),new b(L,N,U)}add(y){f(y);const{px:S,py:$,pz:I}=this,{px:T,py:_,pz:L}=y;let N=n.ZERO,U=n.ZERO,j=n.ZERO;const X=t.a,A=n.mul(t.b,ri);let C=n.mul(S,T),F=n.mul($,_),R=n.mul(I,L),H=n.add(S,$),Y=n.add(T,_);H=n.mul(H,Y),Y=n.add(C,F),H=n.sub(H,Y),Y=n.add(S,I);let oe=n.add(T,L);return Y=n.mul(Y,oe),oe=n.add(C,R),Y=n.sub(Y,oe),oe=n.add($,I),N=n.add(_,L),oe=n.mul(oe,N),N=n.add(F,R),oe=n.sub(oe,N),j=n.mul(X,Y),N=n.mul(A,R),j=n.add(N,j),N=n.sub(F,j),j=n.add(F,j),U=n.mul(N,j),F=n.add(C,C),F=n.add(F,C),R=n.mul(X,R),Y=n.mul(A,Y),F=n.add(F,R),R=n.sub(C,R),R=n.mul(X,R),Y=n.add(Y,R),C=n.mul(F,Y),U=n.add(U,C),C=n.mul(oe,Y),N=n.mul(H,N),N=n.sub(N,C),C=n.mul(H,F),j=n.mul(oe,j),j=n.add(j,C),new b(N,U,j)}subtract(y){return this.add(y.negate())}is0(){return this.equals(b.ZERO)}wNAF(y){return v.wNAFCached(this,y,b.normalizeZ)}multiplyUnsafe(y){const{endo:S,n:$}=t;Cs("scalar",y,hn,$);const I=b.ZERO;if(y===hn)return I;if(this.is0()||y===Qe)return this;if(!S||v.hasPrecomputes(this))return v.wNAFCachedUnsafe(this,y,b.normalizeZ);let{k1neg:T,k1:_,k2neg:L,k2:N}=S.splitScalar(y),U=I,j=I,X=this;for(;_>hn||N>hn;)_&Qe&&(U=U.add(X)),N&Qe&&(j=j.add(X)),X=X.double(),_>>=Qe,N>>=Qe;return T&&(U=U.negate()),L&&(j=j.negate()),j=new b(n.mul(j.px,S.beta),j.py,j.pz),U.add(j)}multiply(y){const{endo:S,n:$}=t;Cs("scalar",y,Qe,$);let I,T;if(S){const{k1neg:_,k1:L,k2neg:N,k2:U}=S.splitScalar(y);let{p:j,f:X}=this.wNAF(L),{p:A,f:C}=this.wNAF(U);j=v.constTimeNegate(_,j),A=v.constTimeNegate(N,A),A=new b(n.mul(A.px,S.beta),A.py,A.pz),I=j.add(A),T=X.add(C)}else{const{p:_,f:L}=this.wNAF(y);I=_,T=L}return b.normalizeZ([I,T])[0]}multiplyAndAddUnsafe(y,S,$){const I=b.BASE,T=(L,N)=>N===hn||N===Qe||!L.equals(I)?L.multiplyUnsafe(N):L.multiply(N),_=T(this,S).add(T(y,$));return _.is0()?void 0:_}toAffine(y){return h(this,y)}isTorsionFree(){const{h:y,isTorsionFree:S}=t;if(y===Qe)return!0;if(S)return S(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:S}=t;return y===Qe?this:S?S(b,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return qr("isCompressed",y),this.assertValidity(),r(b,this,y)}toHex(y=!0){return qr("isCompressed",y),Hr(this.toRawBytes(y))}}b.BASE=new b(t.Gx,t.Gy,n.ONE),b.ZERO=new b(n.ZERO,n.ONE,n.ZERO);const{endo:B,nBitLength:E}=t,v=Ew(b,B?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:b,normPrivateKeyToScalar:d,weierstrassEquation:a,isWithinCurveOrder:u}}function Bw(e){const t=_h(e);return ma(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Iw(e){const t=Bw(e),{Fp:n,n:s,nByteLength:r,nBitLength:o}=t,a=n.BYTES+1,i=2*n.BYTES+1;function c(A){return gt(A,s)}function l(A){return Yi(A,s)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:h}=kw({...t,toBytes(A,C,F){const R=C.toAffine(),H=n.toBytes(R.x),Y=qo;return qr("isCompressed",F),F?Y(Uint8Array.from([C.hasEvenY()?2:3]),H):Y(Uint8Array.from([4]),H,n.toBytes(R.y))},fromBytes(A){const C=A.length,F=A[0],R=A.subarray(1);if(C===a&&(F===2||F===3)){const H=Qn(R);if(!Jc(H,Qe,n.ORDER))throw new Error("Point is not on curve");const Y=f(H);let oe;try{oe=n.sqrt(Y)}catch(re){const pe=re instanceof Error?": "+re.message:"";throw new Error("Point is not on curve"+pe)}const ue=(oe&Qe)===Qe;return(F&1)===1!==ue&&(oe=n.neg(oe)),{x:H,y:oe}}else if(C===i&&F===4){const H=n.fromBytes(R.subarray(0,n.BYTES)),Y=n.fromBytes(R.subarray(n.BYTES,2*n.BYTES));return{x:H,y:Y}}else{const H=a,Y=i;throw new Error("invalid Point, expected length of "+H+", or uncompressed "+Y+", got "+C)}}});function p(A){const C=s>>Qe;return A>C}function b(A){return p(A)?c(-A):A}const B=(A,C,F)=>Qn(A.slice(C,F));class E{constructor(C,F,R){Cs("r",C,Qe,s),Cs("s",F,Qe,s),this.r=C,this.s=F,R!=null&&(this.recovery=R),Object.freeze(this)}static fromCompact(C){const F=r;return C=Tt("compactSignature",C,F*2),new E(B(C,0,F),B(C,F,2*F))}static fromDER(C){const{r:F,s:R}=ln.toSig(Tt("DER",C));return new E(F,R)}assertValidity(){}addRecoveryBit(C){return new E(this.r,this.s,C)}recoverPublicKey(C){const{r:F,s:R,recovery:H}=this,Y=I(Tt("msgHash",C));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const oe=H===2||H===3?F+t.n:F;if(oe>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const ue=(H&1)===0?"02":"03",ye=u.fromHex(ue+si(oe,n.BYTES)),re=l(oe),pe=c(-Y*re),ve=c(R*re),x=u.BASE.multiplyAndAddUnsafe(ye,pe,ve);if(!x)throw new Error("point at infinify");return x.assertValidity(),x}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return jo(this.toDERHex())}toDERHex(){return ln.hexFromSig(this)}toCompactRawBytes(){return jo(this.toCompactHex())}toCompactHex(){const C=r;return si(this.r,C)+si(this.s,C)}}const v={isValidPrivateKey(A){try{return d(A),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const A=Ih(t.n);return vw(t.randomBytes(A),t.n)},precompute(A=8,C=u.BASE){return C._setWindowSize(A),C.multiply(BigInt(3)),C}};function m(A,C=!0){return u.fromPrivateKey(A).toRawBytes(C)}function y(A){if(typeof A=="bigint")return!1;if(A instanceof u)return!0;const F=Tt("key",A).length,R=n.BYTES,H=R+1,Y=2*R+1;if(!(t.allowedPrivateKeyLengths||r===H))return F===H||F===Y}function S(A,C,F=!0){if(y(A)===!0)throw new Error("first arg must be private key");if(y(C)===!1)throw new Error("second arg must be public key");return u.fromHex(C).multiply(d(A)).toRawBytes(F)}const $=t.bits2int||function(A){if(A.length>8192)throw new Error("input is too large");const C=Qn(A),F=A.length*8-o;return F>0?C>>BigInt(F):C},I=t.bits2int_modN||function(A){return c($(A))},T=ba(o);function _(A){return Cs("num < 2^"+o,A,hn,T),ro(A,r)}function L(A,C,F=N){if(["recovered","canonical"].some(z=>z in F))throw new Error("sign() legacy options not supported");const{hash:R,randomBytes:H}=t;let{lowS:Y,prehash:oe,extraEntropy:ue}=F;Y==null&&(Y=!0),A=Tt("msgHash",A),Ql(F),oe&&(A=Tt("prehashed msgHash",R(A)));const ye=I(A),re=d(C),pe=[_(re),_(ye)];if(ue!=null&&ue!==!1){const z=ue===!0?H(n.BYTES):ue;pe.push(Tt("extraEntropy",z))}const ve=qo(...pe),x=ye;function P(z){const te=$(z);if(!h(te))return;const me=l(te),w=u.BASE.multiply(te).toAffine(),k=c(w.x);if(k===hn)return;const M=c(me*c(x+k*re));if(M===hn)return;let K=(w.x===k?0:2)|Number(w.y&Qe),V=M;return Y&&p(M)&&(V=b(M),K^=1),new E(k,V,K)}return{seed:ve,k2sig:P}}const N={lowS:t.lowS,prehash:!1},U={lowS:t.lowS,prehash:!1};function j(A,C,F=N){const{seed:R,k2sig:H}=L(A,C,F),Y=t;return Ug(Y.hash.outputLen,Y.nByteLength,Y.hmac)(R,H)}u.BASE._setWindowSize(8);function X(A,C,F,R=U){var K;const H=A;C=Tt("msgHash",C),F=Tt("publicKey",F);const{lowS:Y,prehash:oe,format:ue}=R;if(Ql(R),"strict"in R)throw new Error("options.strict was renamed to lowS");if(ue!==void 0&&ue!=="compact"&&ue!=="der")throw new Error("format must be compact or der");const ye=typeof H=="string"||so(H),re=!ye&&!ue&&typeof H=="object"&&H!==null&&typeof H.r=="bigint"&&typeof H.s=="bigint";if(!ye&&!re)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let pe,ve;try{if(re&&(pe=new E(H.r,H.s)),ye){try{ue!=="compact"&&(pe=E.fromDER(H))}catch(V){if(!(V instanceof ln.Err))throw V}!pe&&ue!=="der"&&(pe=E.fromCompact(H))}ve=u.fromHex(F)}catch{return!1}if(!pe||Y&&pe.hasHighS())return!1;oe&&(C=t.hash(C));const{r:x,s:P}=pe,z=I(C),te=l(P),me=c(z*te),w=c(x*te),k=(K=u.BASE.multiplyAndAddUnsafe(ve,me,w))==null?void 0:K.toAffine();return k?c(k.x)===x:!1}return{CURVE:t,getPublicKey:m,getSharedSecret:S,sign:j,verify:X,ProjectivePoint:u,Signature:E,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Cw(e){return{hash:e,hmac:(t,...n)=>xh(e,t,ny(...n)),randomBytes:sy}}function Tw(e,t){const n=s=>Iw({...e,...Cw(s)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rh=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ed=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_w=BigInt(0),Rw=BigInt(1),Xi=BigInt(2),td=(e,t)=>(e+t/Xi)/t;function Nw(e){const t=Rh,n=BigInt(3),s=BigInt(6),r=BigInt(11),o=BigInt(22),a=BigInt(23),i=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=Ct(u,n,t)*u%t,f=Ct(d,n,t)*u%t,h=Ct(f,Xi,t)*l%t,p=Ct(h,r,t)*h%t,b=Ct(p,o,t)*p%t,B=Ct(b,i,t)*b%t,E=Ct(B,c,t)*B%t,v=Ct(E,i,t)*b%t,m=Ct(v,n,t)*u%t,y=Ct(m,a,t)*p%t,S=Ct(y,s,t)*l%t,$=Ct(S,Xi,t);if(!Qi.eql(Qi.sqr($),e))throw new Error("Cannot find square root");return $}const Qi=fu(Rh,void 0,void 0,{sqrt:Nw}),Nh=Tw({a:_w,b:BigInt(7),Fp:Qi,n:ed,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ed,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-Rw*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),i=td(o*e,t),c=td(-s*e,t);let l=gt(e-i*n-c*r,t),u=gt(-i*s-c*o,t);const d=l>a,f=u>a;if(d&&(l=t-l),f&&(u=t-u),l>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:f,k2:u}}}},y0),Fw=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Nh},Symbol.toStringTag,{value:"Module"}));function Fh(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new oi({signature:e});if(typeof e.s>"u")throw new oi({signature:e});if(n&&typeof e.yParity>"u")throw new oi({signature:e});if(e.r<0n||e.r>Wl)throw new jw({value:e.r});if(e.s<0n||e.s>Wl)throw new qw({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new pu({value:e.yParity})}function Ow(e){return Oh(qt(e))}function Oh(e){if(e.length!==130&&e.length!==132)throw new Uw({signature:e});const t=BigInt(en(e,0,32)),n=BigInt(en(e,32,64)),s=(()=>{const r=+`0x${e.slice(130)}`;if(!Number.isNaN(r))try{return hu(r)}catch{throw new pu({value:r})}})();return typeof s>"u"?{r:t,s:n}:{r:t,s:n,yParity:s}}function Mw(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return Lw(e)}function Lw(e){const t=typeof e=="string"?Oh(e):e instanceof Uint8Array?Ow(e):typeof e.r=="string"?zw(e):e.v?Dw(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return Fh(t),t}function Dw(e){return{r:e.r,s:e.s,yParity:hu(e.v)}}function zw(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let s=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof s!="number"&&(s=hu(n)),typeof s!="number")throw new pu({value:e.yParity});return s})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function hu(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new Hw({value:e})}class Uw extends xe{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${kt(fv(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class oi extends xe{constructor({signature:t}){super(`Signature \`${B0(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class jw extends xe{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class qw extends xe{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class pu extends xe{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Hw extends xe{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function Vw(e,t={}){return typeof e.chainId=="string"?Gw(e):{...e,...t.signature}}function Gw(e){const{address:t,chainId:n,nonce:s}=e,r=Mw(e);return{address:t,chainId:Number(n),nonce:BigInt(s),...r}}const Ww="0x8010801080108010801080108010801080108010801080108010801080108010",Kw=yh("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Mh(e){if(typeof e=="string"){if(en(e,-32)!==Ww)throw new Jw(e)}else Fh(e.authorization)}function Zw(e){Mh(e);const t=R0(en(e,-64,-32)),n=en(e,-t-64,-64),s=en(e,0,-t-64),[r,o,a]=iw(Kw,n);return{authorization:Vw({address:r.delegation,chainId:Number(r.chainId),nonce:r.nonce,yParity:r.yParity,r:r.r,s:r.s}),signature:s,...a&&a!=="0x"?{data:a,to:o}:{}}}function Yw(e){try{return Mh(e),!0}catch{return!1}}let Jw=class extends xe{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};class Xw extends Z{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Qw(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new Xw({value:e});let[n,s="0"]=e.split(".");const r=n.startsWith("-");if(r&&(n=n.slice(1)),s=s.replace(/(0+)$/,""),t===0)Math.round(+`.${s}`)===1&&(n=`${BigInt(n)+1n}`),s="";else if(s.length>t){const[o,a,i]=[s.slice(0,t-1),s.slice(t-1,t),s.slice(t)],c=Math.round(+`${a}.${i}`);c>9?s=`${BigInt(o)+BigInt(1)}0`.padStart(o.length+1,"0"):s=`${o}${c}`,s.length>t&&(s=s.slice(1),n=`${BigInt(n)+1n}`),s=s.slice(0,t)}else s=s.padEnd(t,"0");return BigInt(`${r?"-":""}${n}${s}`)}function _s(e,t="wei"){return Qw(e,Qf[t])}function e5(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function t5(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Ut(e.nonce):void 0,storageProof:e.storageProof?e5(e.storageProof):void 0}}async function n5(e,{address:t,blockNumber:n,blockTag:s,storageKeys:r}){const o=s??"latest",a=n!==void 0?he(n):void 0,i=await e.request({method:"eth_getProof",params:[t,r,a||o]});return t5(i)}async function s5(e,{address:t,blockNumber:n,blockTag:s="latest",slot:r}){const o=n!==void 0?he(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,r,o||s]})}async function bu(e,{blockHash:t,blockNumber:n,blockTag:s,hash:r,index:o,sender:a,nonce:i}){var f,h,p;const c=s||"latest",l=n!==void 0?he(n):void 0;let u=null;if(r?u=await e.request({method:"eth_getTransactionByHash",params:[r]},{dedupe:!0}):t?u=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,he(o)]},{dedupe:!0}):typeof o=="number"?u=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[l||c,he(o)]},{dedupe:!!l}):a&&typeof i=="number"&&(u=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[a,he(i)]},{dedupe:!0})),!u)throw new t0({blockHash:t,blockNumber:n,blockTag:c,hash:r,index:o});return(((p=(h=(f=e.chain)==null?void 0:f.formatters)==null?void 0:h.transaction)==null?void 0:p.format)||zc)(u,"getTransaction")}async function r5(e,{hash:t,transactionReceipt:n}){const[s,r]=await Promise.all([le(e,ao,"getBlockNumber")({}),t?le(e,bu,"getTransaction")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(r==null?void 0:r.blockNumber);return o?s-o+1n:0n}async function Io(e,{hash:t}){var r,o,a;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new n0({hash:t});return(((a=(o=(r=e.chain)==null?void 0:r.formatters)==null?void 0:o.transactionReceipt)==null?void 0:a.format)||G0)(n,"getTransactionReceipt")}async function o5(e,t){var v;const{account:n,authorizationList:s,allowFailure:r=!0,blockNumber:o,blockOverrides:a,blockTag:i,stateOverride:c}=t,l=t.contracts,{batchSize:u=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof((v=e.batch)==null?void 0:v.multicall)=="object"?e.batch.multicall:{},f=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return Js({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let p=0,b=0;for(let m=0;m<l.length;m++){const{abi:y,address:S,args:$,functionName:I}=l[m];try{const T=Bt({abi:y,args:$,functionName:I});b+=(T.length-2)/2,u>0&&b>u&&h[p].length>0&&(p++,b=(T.length-2)/2,h[p]=[]),h[p]=[...h[p],{allowFailure:!0,callData:T,target:S}]}catch(T){const _=rs(T,{abi:y,address:S,args:$,docsPath:"/docs/contract/multicall",functionName:I,sender:n});if(!r)throw _;h[p]=[...h[p],{allowFailure:!0,callData:"0x",target:S}]}}const B=await Promise.allSettled(h.map(m=>le(e,Ht,"readContract")({...f===null?{code:Qc}:{address:f},abi:Ho,account:n,args:[m],authorizationList:s,blockNumber:o,blockOverrides:a,blockTag:i,functionName:"aggregate3",stateOverride:c}))),E=[];for(let m=0;m<B.length;m++){const y=B[m];if(y.status==="rejected"){if(!r)throw y.reason;for(let $=0;$<h[m].length;$++)E.push({status:"failure",error:y.reason,result:void 0});continue}const S=y.value;for(let $=0;$<S.length;$++){const{returnData:I,success:T}=S[$],{callData:_}=h[m][$],{abi:L,address:N,functionName:U,args:j}=l[E.length];try{if(_==="0x")throw new Zr;if(!T)throw new da({data:I});const X=ds({abi:L,args:j,data:I,functionName:U});E.push(r?{result:X,status:"success"}:X)}catch(X){const A=rs(X,{abi:L,address:N,args:j,docsPath:"/docs/contract/multicall",functionName:U});if(!r)throw A;E.push({error:A,result:void 0,status:"failure"})}}}if(E.length!==l.length)throw new Z("multicall results mismatch");return E}async function ec(e,t){const{blockNumber:n,blockTag:s=e.experimental_blockTag??"latest",blocks:r,returnFullTransactions:o,traceTransfers:a,validation:i}=t;try{const c=[];for(const f of r){const h=f.blockOverrides?O0(f.blockOverrides):void 0,p=f.calls.map(B=>{const E=B,v=E.account?je(E.account):void 0,m=E.abi?Bt(E):E.data,y={...E,account:v,data:E.dataSuffix?ut([m||"0x",E.dataSuffix]):m,from:E.from??(v==null?void 0:v.address)};return kn(y),Dn(y)}),b=f.stateOverrides?Lc(f.stateOverrides):void 0;c.push({blockOverrides:h,calls:p,stateOverrides:b})}const u=(typeof n=="bigint"?he(n):void 0)||s;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:a,validation:i},u]})).map((f,h)=>({...h0(f),calls:f.calls.map((p,b)=>{var L,N;const{abi:B,args:E,functionName:v,to:m}=r[h].calls[b],y=((L=p.error)==null?void 0:L.data)??p.returnData,S=BigInt(p.gasUsed),$=(N=p.logs)==null?void 0:N.map(U=>En(U)),I=p.status==="0x1"?"success":"failure",T=B&&I==="success"&&y!=="0x"?ds({abi:B,data:y,functionName:v}):null,_=(()=>{var j;if(I==="success")return;let U;if(((j=p.error)==null?void 0:j.data)==="0x"?U=new Zr:p.error&&(U=new da(p.error)),!!U)return rs(U,{abi:B??[],address:m??"0x",args:E,functionName:v??"<unknown>"})})();return{data:y,gasUsed:S,logs:$,status:I,...I==="success"?{result:T}:{error:_}}})}))}catch(c){const l=c,u=ha(l,{});throw u instanceof eo?l:u}}function tc(e){let t=!0,n="",s=0,r="",o=!1;for(let a=0;a<e.length;a++){const i=e[a];if(["(",")",","].includes(i)&&(t=!0),i==="("&&s++,i===")"&&s--,!!t){if(s===0){if(i===" "&&["event","function","error",""].includes(r))r="";else if(r+=i,i===")"){o=!0;break}continue}if(i===" "){e[a-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}r+=i,n+=i}}if(!o)throw new xe("Unable to normalize signature.");return r}function nc(e,t){const n=typeof e,s=t.type;switch(s){case"address":return Wi(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return s==="tuple"&&"components"in t?Object.values(t.components).every((r,o)=>nc(Object.values(e)[o],r)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(s)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(s)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(s)?Array.isArray(e)&&e.every(r=>nc(r,{...t,type:s.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Lh(e,t,n){for(const s in e){const r=e[s],o=t[s];if(r.type==="tuple"&&o.type==="tuple"&&"components"in r&&"components"in o)return Lh(r.components,o.components,n[s]);const a=[r.type,o.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?Wi(n[s],{strict:!1}):a.includes("address")&&a.includes("bytes")?Wi(n[s],{strict:!1}):!1)return a}}function Dh(e,t={}){const{prepare:n=!0}=t,s=Array.isArray(e)||typeof e=="string"?cl(e):e;return{...s,...n?{hash:xs(s)}:{}}}function Sa(e,t,n){const{args:s=[],prepare:r=!0}=n??{},o=hv(t,{strict:!1}),a=e.filter(l=>o?l.type==="function"||l.type==="error"?zh(l)===en(t,0,4):l.type==="event"?xs(l)===t:!1:"name"in l&&l.name===t);if(a.length===0)throw new Go({name:t});if(a.length===1)return{...a[0],...r?{hash:xs(a[0])}:{}};let i;for(const l of a){if(!("inputs"in l))continue;if(!s||s.length===0){if(!l.inputs||l.inputs.length===0)return{...l,...r?{hash:xs(l)}:{}};continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==s.length)continue;if(s.every((d,f)=>{const h="inputs"in l&&l.inputs[f];return h?nc(d,h):!1})){if(i&&"inputs"in i&&i.inputs){const d=Lh(l.inputs,i.inputs,s);if(d)throw new i5({abiItem:l,type:d[0]},{abiItem:i,type:d[1]})}i=l}}const c=(()=>{if(i)return i;const[l,...u]=a;return{...l,overloads:u}})();if(!c)throw new Go({name:t});return{...c,...r?{hash:xs(c)}:{}}}function zh(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,s]=e;return Sa(n,s)}return e[0]})();return en(xs(t),0,4)}function a5(...e){const t=(()=>{if(Array.isArray(e[0])){const[s,r]=e;return Sa(s,r)}return e[0]})(),n=typeof t=="string"?t:Mo(t);return tc(n)}function xs(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,s]=e;return Sa(n,s)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:ph(Xc(a5(t)))}class i5 extends xe{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${tc(Mo(t.abiItem))}\`, and`,`\`${n.type}\` in \`${tc(Mo(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Go extends xe{constructor({name:t,data:n,type:s="item"}){const r=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${s}${r} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function c5(...e){var o;const[t,n]=(()=>{if(Array.isArray(e[0])){const[a,i]=e;return[l5(a),i]}return e})(),{bytecode:s,args:r}=n;return jt(s,(o=t.inputs)!=null&&o.length&&(r!=null&&r.length)?lu(t.inputs,r):"0x")}function u5(e){return Dh(e)}function l5(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new Go({name:"constructor"});return t}function d5(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[l,u,d]=e;return[nd(l,u,{args:d}),d]}const[i,c]=e;return[i,c]})(),{overloads:s}=t,r=s?nd([t,...s],t.name,{args:n}):t,o=f5(r),a=n.length>0?lu(r.inputs,n):void 0;return a?jt(o,a):o}function ps(e,t={}){return Dh(e,t)}function nd(e,t,n){const s=Sa(e,t,n);if(s.type!=="function")throw new Go({name:t,type:"function"});return s}function f5(e){return zh(e)}const h5="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Kt="0x0000000000000000000000000000000000000000",p5="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function b5(e,t){const{blockNumber:n,blockTag:s,calls:r,stateOverrides:o,traceAssetChanges:a,traceTransfers:i,validation:c}=t,l=t.account?je(t.account):void 0;if(a&&!l)throw new Z("`account` is required when `traceAssetChanges` is true");const u=l?c5(u5("constructor(bytes, bytes)"),{bytecode:z0,args:[p5,d5(ps("function getBalance(address)"),[l.address])]}):void 0,d=a?await Promise.all(t.calls.map(async R=>{if(!R.data&&!R.abi)return;const{accessList:H}=await rh(e,{account:l.address,...R,data:R.abi?Bt(R):R.data});return H.map(({address:Y,storageKeys:oe})=>oe.length>0?Y:null)})).then(R=>R.flat().filter(Boolean)):[],f=await ec(e,{blockNumber:n,blockTag:s,blocks:[...a?[{calls:[{data:u}],stateOverrides:o},{calls:d.map((R,H)=>({abi:[ps("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:R,from:Kt,nonce:H})),stateOverrides:[{address:Kt,nonce:0}]}]:[],{calls:[...r,{}].map(R=>({...R,from:l==null?void 0:l.address})),stateOverrides:o},...a?[{calls:[{data:u}]},{calls:d.map((R,H)=>({abi:[ps("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:R,from:Kt,nonce:H})),stateOverrides:[{address:Kt,nonce:0}]},{calls:d.map((R,H)=>({to:R,abi:[ps("function decimals() returns (uint256)")],functionName:"decimals",from:Kt,nonce:H})),stateOverrides:[{address:Kt,nonce:0}]},{calls:d.map((R,H)=>({to:R,abi:[ps("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Kt,nonce:H})),stateOverrides:[{address:Kt,nonce:0}]},{calls:d.map((R,H)=>({to:R,abi:[ps("function symbol() returns (string)")],functionName:"symbol",from:Kt,nonce:H})),stateOverrides:[{address:Kt,nonce:0}]}]:[]],traceTransfers:i,validation:c}),h=a?f[2]:f[0],[p,b,,B,E,v,m,y]=a?f:[],{calls:S,...$}=h,I=S.slice(0,-1)??[],T=(p==null?void 0:p.calls)??[],_=(b==null?void 0:b.calls)??[],L=[...T,..._].map(R=>R.status==="success"?$t(R.data):null),N=(B==null?void 0:B.calls)??[],U=(E==null?void 0:E.calls)??[],j=[...N,...U].map(R=>R.status==="success"?$t(R.data):null),X=((v==null?void 0:v.calls)??[]).map(R=>R.status==="success"?R.result:null),A=((y==null?void 0:y.calls)??[]).map(R=>R.status==="success"?R.result:null),C=((m==null?void 0:m.calls)??[]).map(R=>R.status==="success"?R.result:null),F=[];for(const[R,H]of j.entries()){const Y=L[R];if(typeof H!="bigint"||typeof Y!="bigint")continue;const oe=X[R-1],ue=A[R-1],ye=C[R-1],re=R===0?{address:h5,decimals:18,symbol:"ETH"}:{address:d[R-1],decimals:ye||oe?Number(oe??1):void 0,symbol:ue??void 0};F.some(pe=>pe.token.address===re.address)||F.push({token:re,value:{pre:Y,post:H,diff:H-Y}})}return{assetChanges:F,block:$,results:I}}const Uh="0x6492649264926492649264926492649264926492649264926492649264926492";function m5(e){if(en(e,-32)!==Uh)throw new v5(e)}function y5(e){const{data:t,signature:n,to:s}=e;return jt(lu(yh("address, bytes, bytes"),[s,t,n]),Uh)}function g5(e){try{return m5(e),!0}catch{return!1}}class v5 extends xe{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function w5({r:e,s:t,to:n="hex",v:s,yParity:r}){const o=(()=>{if(r===0||r===1)return r;if(s&&(s===27n||s===28n||s>=35n))return s%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),a=`0x${new Nh.Signature($t(e),$t(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?a:sn(a)}async function $a(e,t){var c,l,u,d;const{address:n,chain:s=e.chain,hash:r,erc6492VerifierAddress:o=t.universalSignatureVerifierAddress??((l=(c=s==null?void 0:s.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:l.address),multicallAddress:a=t.multicallAddress??((d=(u=s==null?void 0:s.contracts)==null?void 0:u.multicall3)==null?void 0:d.address)}=t;if(s!=null&&s.verifyHash)return await s.verifyHash(e,t);const i=(()=>{const f=t.signature;return nn(f)?f:typeof f=="object"&&"r"in f&&"s"in f?w5(f):Je(f)})();try{return Yw(i)?await x5(e,{...t,multicallAddress:a,signature:i}):await E5(e,{...t,verifierAddress:o,signature:i})}catch(f){try{if(no(Tc(n),await i0({hash:r,signature:i})))return!0}catch{}if(f instanceof is)return!1;throw f}}async function x5(e,t){var B;const{address:n,blockNumber:s,blockTag:r,hash:o,multicallAddress:a}=t,{authorization:i,data:c,signature:l,to:u}=Zw(t.signature);if(await Gi(e,{address:n,blockNumber:s,blockTag:r})===Ks(["0xef0100",i.address]))return await P5(e,{address:n,blockNumber:s,blockTag:r,hash:o,signature:l});const f={address:i.address,chainId:Number(i.chainId),nonce:Number(i.nonce),r:he(i.r,{size:32}),s:he(i.s,{size:32}),yParity:i.yParity};if(!await b6({address:n,authorization:f}))throw new is;const p=await le(e,Ht,"readContract")({...a?{address:a}:{code:Qc},authorizationList:[f],abi:Ho,blockNumber:s,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:u??n,callData:c}]:[],{allowFailure:!0,target:n,callData:Bt({abi:D0,functionName:"isValidSignature",args:[o,l]})}]]}),b=(B=p[p.length-1])==null?void 0:B.returnData;if(b!=null&&b.startsWith("0x1626ba7e"))return!0;throw new is}async function E5(e,t){const{address:n,factory:s,factoryData:r,hash:o,signature:a,verifierAddress:i,...c}=t,l=await(async()=>!s&&!r||g5(a)?a:y5({data:r,signature:a,to:s}))(),u=i?{to:i,data:Bt({abi:Ul,functionName:"isValidSig",args:[n,o,l]}),...c}:{data:ga({abi:Ul,args:[n,o,l],bytecode:wv}),...c},{data:d}=await le(e,va,"call")(u).catch(f=>{throw f instanceof r0?new is:f});if(M1(d??"0x0"))return!0;throw new is}async function P5(e,t){const{address:n,blockNumber:s,blockTag:r,hash:o,signature:a}=t;if((await le(e,Ht,"readContract")({address:n,abi:D0,args:[o,a],blockNumber:s,blockTag:r,functionName:"isValidSignature"}).catch(c=>{throw c instanceof o0?new is:c})).startsWith("0x1626ba7e"))return!0;throw new is}class is extends Error{}async function A5(e,{address:t,message:n,factory:s,factoryData:r,signature:o,...a}){const i=ih(n);return le(e,$a,"verifyHash")({address:t,factory:s,factoryData:r,hash:i,signature:o,...a})}async function S5(e,t){const{address:n,factory:s,factoryData:r,signature:o,message:a,primaryType:i,types:c,domain:l,...u}=t,d=T6({message:a,primaryType:i,types:c,domain:l});return le(e,$a,"verifyHash")({address:n,factory:s,factoryData:r,hash:d,signature:o,...u})}function jh(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:s,onError:r,poll:o,pollingInterval:a=e.pollingInterval}){const i=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return i?(()=>{const d=Ye(["watchBlockNumber",e.uid,t,n,a]);return Pn(d,{onBlockNumber:s,onError:r},f=>Xs(async()=>{var h;try{const p=await le(e,ao,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(p===c)return;if(p-c>1&&n)for(let b=c+1n;b<p;b++)f.onBlockNumber(b,c),c=b}(c===void 0||p>c)&&(f.onBlockNumber(p,c),c=p)}catch(p){(h=f.onError)==null||h.call(f,p)}},{emitOnBegin:t,interval:a}))})():(()=>{const d=Ye(["watchBlockNumber",e.uid,t,n]);return Pn(d,{onBlockNumber:s,onError:r},f=>{let h=!0,p=()=>h=!1;return(async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return E?E.value:e.transport}return e.transport})(),{unsubscribe:B}=await b.subscribe({params:["newHeads"],onData(E){var m;if(!h)return;const v=$t((m=E.result)==null?void 0:m.number);f.onBlockNumber(v,c),c=v},onError(E){var v;(v=f.onError)==null||v.call(f,E)}});p=B,h||p()}catch(b){r==null||r(b)}})(),()=>p()})})()}async function qh(e,t){const{checkReplacement:n=!0,confirmations:s=1,hash:r,onReplaced:o,retryCount:a=6,retryDelay:i=({count:S})=>~~(1<<S)*200,timeout:c=18e4}=t,l=Ye(["waitForTransactionReceipt",e.uid,r]),u=(()=>{var S;return t.pollingInterval?t.pollingInterval:(S=e.chain)!=null&&S.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let d,f,h,p=!1,b,B;const{promise:E,resolve:v,reject:m}=eu(),y=c?setTimeout(()=>{B==null||B(),b==null||b(),m(new Yy({hash:r}))},c):void 0;return b=Pn(l,{onReplaced:o,resolve:v,reject:m},async S=>{if(h=await le(e,Io,"getTransactionReceipt")({hash:r}).catch(()=>{}),h&&s<=1){clearTimeout(y),S.resolve(h),b==null||b();return}B=le(e,jh,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber($){const I=_=>{clearTimeout(y),B==null||B(),_(),b==null||b()};let T=$;if(!p)try{if(h){if(s>1&&(!h.blockNumber||T-h.blockNumber+1n<s))return;I(()=>S.resolve(h));return}if(n&&!d&&(p=!0,await Vo(async()=>{d=await le(e,bu,"getTransaction")({hash:r}),d.blockNumber&&(T=d.blockNumber)},{delay:i,retryCount:a}),p=!1),h=await le(e,Io,"getTransactionReceipt")({hash:r}),s>1&&(!h.blockNumber||T-h.blockNumber+1n<s))return;I(()=>S.resolve(h))}catch(_){if(_ instanceof t0||_ instanceof n0){if(!d){p=!1;return}try{f=d,p=!0;const L=await Vo(()=>le(e,Mt,"getBlock")({blockNumber:T,includeTransactions:!0}),{delay:i,retryCount:a,shouldRetry:({error:j})=>j instanceof d0});p=!1;const N=L.transactions.find(({from:j,nonce:X})=>j===f.from&&X===f.nonce);if(!N||(h=await le(e,Io,"getTransactionReceipt")({hash:N.hash}),s>1&&(!h.blockNumber||T-h.blockNumber+1n<s)))return;let U="replaced";N.to===f.to&&N.value===f.value&&N.input===f.input?U="repriced":N.from===N.to&&N.value===0n&&(U="cancelled"),I(()=>{var j;(j=S.onReplaced)==null||j.call(S,{reason:U,replacedTransaction:f,transaction:N,transactionReceipt:h}),S.resolve(h)})}catch(L){I(()=>S.reject(L))}}else I(()=>S.reject(_))}}})}),E}function $5(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:s=!1,onBlock:r,onError:o,includeTransactions:a,poll:i,pollingInterval:c=e.pollingInterval}){const l=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),u=a??!1;let d;return l?(()=>{const p=Ye(["watchBlocks",e.uid,t,n,s,u,c]);return Pn(p,{onBlock:r,onError:o},b=>Xs(async()=>{var B;try{const E=await le(e,Mt,"getBlock")({blockTag:t,includeTransactions:u});if(E.number!==null&&(d==null?void 0:d.number)!=null){if(E.number===d.number)return;if(E.number-d.number>1&&n)for(let v=(d==null?void 0:d.number)+1n;v<E.number;v++){const m=await le(e,Mt,"getBlock")({blockNumber:v,includeTransactions:u});b.onBlock(m,d),d=m}}((d==null?void 0:d.number)==null||t==="pending"&&(E==null?void 0:E.number)==null||E.number!==null&&E.number>d.number)&&(b.onBlock(E,d),d=E)}catch(E){(B=b.onError)==null||B.call(b,E)}},{emitOnBegin:s,interval:c}))})():(()=>{let p=!0,b=!0,B=()=>p=!1;return(async()=>{try{s&&le(e,Mt,"getBlock")({blockTag:t,includeTransactions:u}).then(m=>{p&&b&&(r(m,void 0),b=!1)}).catch(o);const E=(()=>{if(e.transport.type==="fallback"){const m=e.transport.transports.find(y=>y.config.type==="webSocket"||y.config.type==="ipc");return m?m.value:e.transport}return e.transport})(),{unsubscribe:v}=await E.subscribe({params:["newHeads"],async onData(m){var S;if(!p)return;const y=await le(e,Mt,"getBlock")({blockNumber:(S=m.result)==null?void 0:S.number,includeTransactions:u}).catch(()=>{});p&&(r(y,d),b=!1,d=y)},onError(m){o==null||o(m)}});B=v,p||B()}catch(E){o==null||o(E)}})(),()=>B()})()}function k5(e,{address:t,args:n,batch:s=!0,event:r,events:o,fromBlock:a,onError:i,onLogs:c,poll:l,pollingInterval:u=e.pollingInterval,strict:d}){const f=typeof l<"u"?l:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=d??!1;return f?(()=>{const B=Ye(["watchEvent",t,n,s,e.uid,r,u,a]);return Pn(B,{onLogs:c,onError:i},E=>{let v;a!==void 0&&(v=a-1n);let m,y=!1;const S=Xs(async()=>{var $;if(!y){try{m=await le(e,oh,"createEventFilter")({address:t,args:n,event:r,events:o,strict:h,fromBlock:a})}catch{}y=!0;return}try{let I;if(m)I=await le(e,wa,"getFilterChanges")({filter:m});else{const T=await le(e,ao,"getBlockNumber")({});v&&v!==T?I=await le(e,Kc,"getLogs")({address:t,args:n,event:r,events:o,fromBlock:v+1n,toBlock:T}):I=[],v=T}if(I.length===0)return;if(s)E.onLogs(I);else for(const T of I)E.onLogs([T])}catch(I){m&&I instanceof Mn&&(y=!1),($=E.onError)==null||$.call(E,I)}},{emitOnBegin:!0,interval:u});return async()=>{m&&await le(e,xa,"uninstallFilter")({filter:m}),S()}})})():(()=>{let B=!0,E=()=>B=!1;return(async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const $=e.transport.transports.find(I=>I.config.type==="webSocket"||I.config.type==="ipc");return $?$.value:e.transport}return e.transport})(),m=o??(r?[r]:void 0);let y=[];m&&(y=[m.flatMap(I=>Jr({abi:[I],eventName:I.name,args:n}))],r&&(y=y[0]));const{unsubscribe:S}=await v.subscribe({params:["logs",{address:t,topics:y}],onData($){var T;if(!B)return;const I=$.result;try{const{eventName:_,args:L}=Uo({abi:m??[],data:I.data,topics:I.topics,strict:h}),N=En(I,{args:L,eventName:_});c([N])}catch(_){let L,N;if(_ instanceof Lo||_ instanceof $c){if(d)return;L=_.abiItem.name,N=(T=_.abiItem.inputs)==null?void 0:T.some(j=>!("name"in j&&j.name))}const U=En(I,{args:N?[]:{},eventName:L});c([U])}},onError($){i==null||i($)}});E=S,B||E()}catch(v){i==null||i(v)}})(),()=>E()})()}function B5(e,{batch:t=!0,onError:n,onTransactions:s,poll:r,pollingInterval:o=e.pollingInterval}){return(typeof r<"u"?r:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const l=Ye(["watchPendingTransactions",e.uid,t,o]);return Pn(l,{onTransactions:s,onError:n},u=>{let d;const f=Xs(async()=>{var h;try{if(!d)try{d=await le(e,ah,"createPendingTransactionFilter")({});return}catch(b){throw f(),b}const p=await le(e,wa,"getFilterChanges")({filter:d});if(p.length===0)return;if(t)u.onTransactions(p);else for(const b of p)u.onTransactions([b])}catch(p){(h=u.onError)==null||h.call(u,p)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await le(e,xa,"uninstallFilter")({filter:d}),f()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!l)return;const h=f.result;s([h])},onError(f){n==null||n(f)}});u=d,l||u()}catch(d){n==null||n(d)}})(),()=>u()})()}function I5(e){var d,f,h;const{scheme:t,statement:n,...s}=((d=e.match(C5))==null?void 0:d.groups)??{},{chainId:r,expirationTime:o,issuedAt:a,notBefore:i,requestId:c,...l}=((f=e.match(T5))==null?void 0:f.groups)??{},u=(h=e.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...s,...l,...r?{chainId:Number(r)}:{},...o?{expirationTime:new Date(o)}:{},...a?{issuedAt:new Date(a)}:{},...i?{notBefore:new Date(i)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const C5=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,T5=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function _5(e){const{address:t,domain:n,message:s,nonce:r,scheme:o,time:a=new Date}=e;if(n&&s.domain!==n||r&&s.nonce!==r||o&&s.scheme!==o||s.expirationTime&&a>=s.expirationTime||s.notBefore&&a<s.notBefore)return!1;try{if(!s.address||!Ot(s.address,{strict:!1})||t&&!no(s.address,t))return!1}catch{return!1}return!0}async function R5(e,t){const{address:n,domain:s,message:r,nonce:o,scheme:a,signature:i,time:c=new Date,...l}=t,u=I5(r);if(!u.address||!_5({address:n,domain:s,message:u,nonce:o,scheme:a,time:c}))return!1;const f=ih(r);return $a(e,{address:u.address,hash:f,signature:i,...l})}async function mu(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:s}){var i,c,l;const r=await e.request({method:"eth_sendRawTransactionSync",params:s?[t,he(s)]:[t]},{retryCount:0}),a=(((l=(c=(i=e.chain)==null?void 0:i.formatters)==null?void 0:c.transactionReceipt)==null?void 0:l.format)||G0)(r);if(a.status==="reverted"&&n)throw new s0({receipt:a});return a}function N5(e){return{call:t=>va(e,t),createAccessList:t=>rh(e,t),createBlockFilter:()=>o6(e),createContractEventFilter:t=>Zf(e,t),createEventFilter:t=>oh(e,t),createPendingTransactionFilter:()=>ah(e),estimateContractGas:t=>Og(e,t),estimateGas:t=>Gc(e,t),getBalance:t=>a6(e,t),getBlobBaseFee:()=>i6(e),getBlock:t=>Mt(e,t),getBlockNumber:t=>ao(e,t),getBlockTransactionCount:t=>c6(e,t),getBytecode:t=>Gi(e,t),getChainId:()=>zn(e),getCode:t=>Gi(e,t),getContractEvents:t=>w0(e,t),getEip712Domain:t=>l6(e,t),getEnsAddress:t=>qv(e,t),getEnsAvatar:t=>n6(e,t),getEnsName:t=>s6(e,t),getEnsResolver:t=>r6(e,t),getEnsText:t=>sh(e,t),getFeeHistory:t=>h6(e,t),estimateFeesPerGas:t=>wg(e,t),getFilterChanges:t=>wa(e,t),getFilterLogs:t=>p6(e,t),getGasPrice:()=>Uc(e),getLogs:t=>Kc(e,t),getProof:t=>n5(e,t),estimateMaxPriorityFeePerGas:t=>vg(e,t),fillTransaction:t=>Hc(e,t),getStorageAt:t=>s5(e,t),getTransaction:t=>bu(e,t),getTransactionConfirmations:t=>r5(e,t),getTransactionCount:t=>jc(e,t),getTransactionReceipt:t=>Io(e,t),multicall:t=>o5(e,t),prepareTransactionRequest:t=>to(e,t),readContract:t=>Ht(e,t),sendRawTransaction:t=>nu(e,t),sendRawTransactionSync:t=>mu(e,t),simulate:t=>ec(e,t),simulateBlocks:t=>ec(e,t),simulateCalls:t=>b5(e,t),simulateContract:t=>kv(e,t),verifyHash:t=>$a(e,t),verifyMessage:t=>A5(e,t),verifySiweMessage:t=>R5(e,t),verifyTypedData:t=>S5(e,t),uninstallFilter:t=>xa(e,t),waitForTransactionReceipt:t=>qh(e,t),watchBlocks:t=>$5(e,t),watchBlockNumber:t=>jh(e,t),watchContractEvent:t=>Nv(e,t),watchEvent:t=>k5(e,t),watchPendingTransactions:t=>B5(e,t)}}function F5(e){const{key:t="public",name:n="Public Client"}=e;return Q0({...e,key:t,name:n,type:"publicClient"}).extend(N5)}async function O5(e,{chain:t}){const{id:n,name:s,nativeCurrency:r,rpcUrls:o,blockExplorers:a}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:he(n),chainName:s,nativeCurrency:r,rpcUrls:o.default.http,blockExplorerUrls:a?Object.values(a).map(({url:i})=>i):void 0}]},{dedupe:!0,retryCount:0})}function M5(e,t){const{abi:n,args:s,bytecode:r,...o}=t,a=ga({abi:n,args:s,bytecode:r});return Ea(e,{...o,...o.authorizationList?{to:null}:{},data:a})}async function L5(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(s=>Yr(s))}async function D5(e,t={}){const{account:n=e.account,chainId:s}=t,r=n?je(n):void 0,o=s?[r==null?void 0:r.address,[he(s)]]:[r==null?void 0:r.address],a=await e.request({method:"wallet_getCapabilities",params:o}),i={};for(const[c,l]of Object.entries(a)){i[Number(c)]={};for(let[u,d]of Object.entries(l))u==="addSubAccount"&&(u="unstable_addSubAccount"),i[Number(c)][u]=d}return typeof s=="number"?i[s]:i}async function z5(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Hh(e,t){var c;const{account:n=e.account,chainId:s,nonce:r}=t;if(!n)throw new Un({docsPath:"/docs/eip7702/prepareAuthorization"});const o=je(n),a=(()=>{if(t.executor)return t.executor==="self"?t.executor:je(t.executor)})(),i={address:t.contractAddress??t.address,chainId:s,nonce:r};return typeof i.chainId>"u"&&(i.chainId=((c=e.chain)==null?void 0:c.id)??await le(e,zn,"getChainId")({})),typeof i.nonce>"u"&&(i.nonce=await le(e,jc,"getTransactionCount")({address:o.address,blockTag:"pending"}),(a==="self"||a!=null&&a.address&&no(a.address,o.address))&&(i.nonce+=1)),i}async function U5(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Tc(n))}async function j5(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function q5(e,t){const{chain:n=e.chain}=t,s=t.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3),r=await Z0(e,t);return await J0(e,{...t,id:r.id,timeout:s})}const ai=new Ws(128);async function Vh(e,t){var I,T,_,L,N;const{account:n=e.account,assertChainId:s=!0,chain:r=e.chain,accessList:o,authorizationList:a,blobs:i,data:c,dataSuffix:l=typeof e.dataSuffix=="string"?e.dataSuffix:(I=e.dataSuffix)==null?void 0:I.value,gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,pollingInterval:B,throwOnReceiptRevert:E,type:v,value:m,...y}=t,S=t.timeout??Math.max(((r==null?void 0:r.blockTime)??0)*3,5e3);if(typeof n>"u")throw new Un({docsPath:"/docs/actions/wallet/sendTransactionSync"});const $=n?je(n):null;try{kn(t);const U=await(async()=>{if(t.to)return t.to;if(t.to!==null&&a&&a.length>0)return await fa({authorization:a[0]}).catch(()=>{throw new Z("`to` is required. Could not infer from `authorizationList`.")})})();if(($==null?void 0:$.type)==="json-rpc"||$===null){let j;r!==null&&(j=await le(e,zn,"getChainId")({}),s&&tu({currentChainId:j,chain:r}));const X=(L=(_=(T=e.chain)==null?void 0:T.formatters)==null?void 0:_.transactionRequest)==null?void 0:L.format,C=(X||Dn)({...Ys(y,{format:X}),accessList:o,account:$,authorizationList:a,blobs:i,chainId:j,data:c&&ut([c,l??"0x"]),gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,to:U,type:v,value:m},"sendTransaction"),F=ai.get(e.uid),R=F?"wallet_sendTransaction":"eth_sendTransaction",H=await(async()=>{try{return await e.request({method:R,params:[C]},{retryCount:0})}catch(oe){if(F===!1)throw oe;const ue=oe;if(ue.name==="InvalidInputRpcError"||ue.name==="InvalidParamsRpcError"||ue.name==="MethodNotFoundRpcError"||ue.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[C]},{retryCount:0}).then(ye=>(ai.set(e.uid,!0),ye)).catch(ye=>{const re=ye;throw re.name==="MethodNotFoundRpcError"||re.name==="MethodNotSupportedRpcError"?(ai.set(e.uid,!1),ue):re});throw ue}})(),Y=await le(e,qh,"waitForTransactionReceipt")({checkReplacement:!1,hash:H,pollingInterval:B,timeout:S});if(E&&Y.status==="reverted")throw new s0({receipt:Y});return Y}if(($==null?void 0:$.type)==="local"){const j=await le(e,to,"prepareTransactionRequest")({account:$,accessList:o,authorizationList:a,blobs:i,chain:r,data:c&&ut([c,l??"0x"]),gas:u,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:b,nonceManager:$.nonceManager,parameters:[...Vc,"sidecars"],type:v,value:m,...y,to:U}),X=(N=r==null?void 0:r.serializers)==null?void 0:N.transaction,A=await $.signTransaction(j,{serializer:X});return await le(e,mu,"sendRawTransactionSync")({serializedTransaction:A,throwOnReceiptRevert:E,timeout:t.timeout})}throw($==null?void 0:$.type)==="smart"?new es({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new es({docsPath:"/docs/actions/wallet/sendTransactionSync",type:$==null?void 0:$.type})}catch(U){throw U instanceof es?U:pa(U,{...t,account:$,chain:t.chain||void 0})}}async function H5(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function V5(e,t){const{account:n=e.account}=t;if(!n)throw new Un({docsPath:"/docs/eip7702/signAuthorization"});const s=je(n);if(!s.signAuthorization)throw new es({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:s.type});const r=await Hh(e,t);return s.signAuthorization(r)}async function G5(e,{account:t=e.account,message:n}){if(!t)throw new Un({docsPath:"/docs/actions/wallet/signMessage"});const s=je(t);if(s.signMessage)return s.signMessage({message:n});const r=typeof n=="string"?Os(n):n.raw instanceof Uint8Array?xn(n.raw):n.raw;return e.request({method:"personal_sign",params:[r,s.address]},{retryCount:0})}async function W5(e,t){var l,u,d,f;const{account:n=e.account,chain:s=e.chain,...r}=t;if(!n)throw new Un({docsPath:"/docs/actions/wallet/signTransaction"});const o=je(n);kn({account:o,...t});const a=await le(e,zn,"getChainId")({});s!==null&&tu({currentChainId:a,chain:s});const i=(s==null?void 0:s.formatters)||((l=e.chain)==null?void 0:l.formatters),c=((u=i==null?void 0:i.transactionRequest)==null?void 0:u.format)||Dn;return o.signTransaction?o.signTransaction({...r,chainId:a},{serializer:(f=(d=e.chain)==null?void 0:d.serializers)==null?void 0:f.transaction}):await e.request({method:"eth_signTransaction",params:[{...c({...r,account:o},"signTransaction"),chainId:he(a),from:o.address}]},{retryCount:0})}async function K5(e,t){const{account:n=e.account,domain:s,message:r,primaryType:o}=t;if(!n)throw new Un({docsPath:"/docs/actions/wallet/signTypedData"});const a=je(n),i={EIP712Domain:uh({domain:s}),...t.types};if(ch({domain:s,message:r,primaryType:o,types:i}),a.signTypedData)return a.signTypedData({domain:s,message:r,primaryType:o,types:i});const c=I6({domain:s,message:r,primaryType:o,types:i});return e.request({method:"eth_signTypedData_v4",params:[a.address,c]},{retryCount:0})}async function Z5(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:he(t)}]},{retryCount:0})}async function Y5(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function J5(e,t){return Vr.internal(e,Vh,"sendTransactionSync",t)}function X5(e){return{addChain:t=>O5(e,t),deployContract:t=>M5(e,t),fillTransaction:t=>Hc(e,t),getAddresses:()=>L5(e),getCallsStatus:t=>Y0(e,t),getCapabilities:t=>D5(e,t),getChainId:()=>zn(e),getPermissions:()=>z5(e),prepareAuthorization:t=>Hh(e,t),prepareTransactionRequest:t=>to(e,t),requestAddresses:()=>U5(e),requestPermissions:t=>j5(e,t),sendCalls:t=>Z0(e,t),sendCallsSync:t=>q5(e,t),sendRawTransaction:t=>nu(e,t),sendRawTransactionSync:t=>mu(e,t),sendTransaction:t=>Ea(e,t),sendTransactionSync:t=>Vh(e,t),showCallsStatus:t=>H5(e,t),signAuthorization:t=>V5(e,t),signMessage:t=>G5(e,t),signTransaction:t=>W5(e,t),signTypedData:t=>K5(e,t),switchChain:t=>Z5(e,t),waitForCallsStatus:t=>J0(e,t),watchAsset:t=>Y5(e,t),writeContract:t=>Vr(e,t),writeContractSync:t=>J5(e,t)}}function mo(e){const{key:t="wallet",name:n="Wallet Client",transport:s}=e;return Q0({...e,key:t,name:n,transport:s,type:"walletClient"}).extend(X5)}function Gh({key:e,methods:t,name:n,request:s,retryCount:r=3,retryDelay:o=150,timeout:a,type:i},c){const l=X0();return{config:{key:e,methods:t,name:n,request:s,retryCount:r,retryDelay:o,timeout:a,type:i},request:y6(s,{methods:t,retryCount:r,retryDelay:o,uid:l}),value:c}}function yo(e,t={}){const{key:n="custom",methods:s,name:r="Custom Provider",retryDelay:o}=t;return({retryCount:a})=>Gh({key:n,methods:s,name:r,request:e.request.bind(e),retryCount:t.retryCount??a,retryDelay:o,type:"custom"})}class Q5 extends Z{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function e2(e,t={}){const{batch:n,fetchFn:s,fetchOptions:r,key:o="http",methods:a,name:i="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:u,raw:d}=t;return({chain:f,retryCount:h,timeout:p})=>{const{batchSize:b=1e3,wait:B=0}=typeof n=="object"?n:{},E=t.retryCount??h,v=p??t.timeout??1e4,m=e||(f==null?void 0:f.rpcUrls.default.http[0]);if(!m)throw new Q5;const y=E6(m,{fetchFn:s,fetchOptions:r,onRequest:c,onResponse:l,timeout:v});return Gh({key:o,methods:a,name:i,async request({method:S,params:$}){const I={method:S,params:$},{schedule:T}=q0({id:m,wait:B,shouldSplitBatch(U){return U.length>b},fn:U=>y.request({body:U}),sort:(U,j)=>U.id-j.id}),_=async U=>n?T(U):[await y.request({body:U})],[{error:L,result:N}]=await _(I);if(d)return{error:L,result:N};if(L)throw new Mc({body:I,error:L,url:m});return N},retryCount:E,retryDelay:u,timeout:v,type:"http"},{fetchOptions:r,url:m})}}let go=null;async function t2(){if(go)return go;const e=await fetch("/config.json");if(!e.ok)throw new Error("Failed to load config.json");return go=await e.json(),go}function n2(e){if(!e||e==="custom")return;const t=document.getElementById("theme-preset");t&&t.remove();const n=document.createElement("link");n.id="theme-preset",n.rel="stylesheet",n.href=`/theme-overrides.example-${e}.css`,document.head.appendChild(n)}const s2="0x0000000000000000000000000000000000000000",r2="0xcA11bde05977b3631167028862bE2a173976CA11";function o2(e){return!e||typeof e!="string"?!1:/^0x[a-fA-F0-9]{40}$/.test(e)}function a2(e){return!e||typeof e!="string"?!1:/^0x[a-fA-F0-9]{96}$/.test(e)}function i2(e){return(e==null?void 0:e.toLowerCase())===s2.toLowerCase()}function c2(){const e=Q(null),t=Q(null),n=Q(null),s=Q(null),r=Q(!1),o=Q(null),a=ce(()=>!!e.value),i=ce(()=>e.value?`${e.value.slice(0,6)}...${e.value.slice(-4)}`:"");async function c(h){const p=v6({id:h.network.chainId,name:h.network.name,nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:[h.network.rpcUrl]}},blockExplorers:{default:{name:"Explorer",url:h.network.explorerUrl}},contracts:{multicall3:{address:r2}}});s.value=p,n.value=F5({chain:p,transport:e2(h.network.rpcUrl)})}async function l(){if(!window.ethereum){o.value="No wallet found. Please install MetaMask.";return}if(!s.value){o.value="Chain not initialized. Load config first.";return}try{r.value=!0,o.value=null;const h=await window.ethereum.request({method:"eth_requestAccounts"});if(h.length===0){o.value="No accounts found";return}e.value=h[0],localStorage.setItem("wallet_connected_account",h[0]),await d(),t.value=mo({account:e.value,chain:s.value,transport:yo(window.ethereum)}),window.ethereum.on("accountsChanged",p=>{p.length===0?f():(e.value=p[0],localStorage.setItem("wallet_connected_account",p[0]),t.value=mo({account:p[0],chain:s.value,transport:yo(window.ethereum)}))})}catch(h){o.value=h.message||"Failed to connect wallet"}finally{r.value=!1}}async function u(){const h=localStorage.getItem("wallet_connected_account");if(!(!h||!window.ethereum||!s.value))try{const p=await window.ethereum.request({method:"eth_accounts"});if(p.length===0||!p.includes(h)){localStorage.removeItem("wallet_connected_account");return}e.value=h,await d(),t.value=mo({account:h,chain:s.value,transport:yo(window.ethereum)}),window.ethereum.on("accountsChanged",b=>{b.length===0?f():(e.value=b[0],localStorage.setItem("wallet_connected_account",b[0]),t.value=mo({account:b[0],chain:s.value,transport:yo(window.ethereum)}))})}catch{localStorage.removeItem("wallet_connected_account")}}async function d(){var b,B,E,v,m,y,S;if(!window.ethereum||!((b=s.value)!=null&&b.id))return;const h=`0x${s.value.id.toString(16)}`,p=await window.ethereum.request({method:"eth_chainId"});if(!(p&&p.toLowerCase()===h.toLowerCase()))try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:h}]})}catch($){if((($==null?void 0:$.code)??((E=(B=$==null?void 0:$.data)==null?void 0:B.originalError)==null?void 0:E.code))!==4902)throw $;const T=((m=(v=s.value.rpcUrls)==null?void 0:v.default)==null?void 0:m.http)||[],_=(S=(y=s.value.blockExplorers)==null?void 0:y.default)!=null&&S.url?[s.value.blockExplorers.default.url]:void 0;await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:h,chainName:s.value.name,nativeCurrency:s.value.nativeCurrency,rpcUrls:T,blockExplorerUrls:_}]})}}function f(){e.value=null,t.value=null,o.value=null,localStorage.removeItem("wallet_connected_account")}return{account:e,walletClient:t,publicClient:n,chain:s,isConnected:a,isConnecting:r,shortAddress:i,error:o,initializeChain:c,connect:l,disconnect:f,reconnect:u}}const Ne=[{name:"balanceOf",type:"function",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{name:"totalAssets",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"totalSupply",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"bufferedAssets",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"totalDeposits",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"minEffectiveBalance",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"paused",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bool"}]},{name:"isActive",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bool"}]},{name:"isFullyExited",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bool"}]},{name:"activeThresholdReached",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bool"}]},{name:"convertToAssets",type:"function",stateMutability:"view",inputs:[{name:"shares",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{name:"convertToShares",type:"function",stateMutability:"view",inputs:[{name:"assets",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{name:"previewDeposit",type:"function",stateMutability:"view",inputs:[{name:"assets",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{name:"previewRedeem",type:"function",stateMutability:"view",inputs:[{name:"shares",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{name:"submit",type:"function",stateMutability:"payable",inputs:[{name:"receiver",type:"address"}],outputs:[{name:"",type:"uint256"}]},{name:"approve",type:"function",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{name:"allowance",type:"function",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]}],sd=[{name:"balanceOf",type:"function",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]}],rd=[{name:"name",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{name:"symbol",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]}],Jt=[{name:"balanceOf",type:"function",stateMutability:"view",inputs:[{name:"owner",type:"address"}],outputs:[{name:"",type:"uint256"}]},{name:"totalSupply",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"tokenOfOwnerByIndex",type:"function",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{name:"ownerOf",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"address"}]},{name:"allocatedWithdrawalsAmount",type:"function",stateMutability:"view",inputs:[{name:"pubkey",type:"bytes"}],outputs:[{name:"",type:"uint256"}]},{name:"getWithdrawalRequestFee",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"paused",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bool"}]},{name:"requestWithdrawal",type:"function",stateMutability:"payable",inputs:[{name:"pubkey",type:"bytes"},{name:"assetsInGWei",type:"uint64"},{name:"maxFeeToPay",type:"uint256"}],outputs:[{name:"requestId",type:"uint256"}]},{name:"requestRedeem",type:"function",stateMutability:"payable",inputs:[{name:"pubkey",type:"bytes"},{name:"shares",type:"uint256"},{name:"maxFeeToPay",type:"uint256"}],outputs:[{name:"requestId",type:"uint256"}]},{name:"finalizeWithdrawalRequest",type:"function",stateMutability:"nonpayable",inputs:[{name:"requestId",type:"uint256"}],outputs:[]},{name:"finalizeWithdrawalRequests",type:"function",stateMutability:"nonpayable",inputs:[{name:"requestIds",type:"uint256[]"}],outputs:[]},{name:"getWithdrawalRequest",type:"function",stateMutability:"view",inputs:[{name:"requestId",type:"uint256"}],outputs:[{name:"",type:"tuple",components:[{name:"pubkey",type:"bytes"},{name:"assetsRequested",type:"uint256"},{name:"sharesBurnt",type:"uint256"},{name:"user",type:"address"},{name:"requestBlock",type:"uint256"}]}]}],Co=[{name:"stakingPool",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"address"}]},{name:"delegatedAmount",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"delegatedAmountAvailable",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"delegatedFundsPendingWithdrawal",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"delegate",type:"function",stateMutability:"nonpayable",inputs:[{name:"amount",type:"uint256"}],outputs:[]},{name:"undelegate",type:"function",stateMutability:"nonpayable",inputs:[],outputs:[]},{name:"withdraw",type:"function",stateMutability:"nonpayable",inputs:[{name:"amount",type:"uint256"},{name:"receiver",type:"address"}],outputs:[]},{name:"depositDelegatedFunds",type:"function",stateMutability:"nonpayable",inputs:[{name:"amount",type:"uint256"}],outputs:[]},{name:"requestDelegatedFundsWithdrawal",type:"function",stateMutability:"payable",inputs:[],outputs:[]},{name:"requestYieldWithdrawal",type:"function",stateMutability:"payable",inputs:[],outputs:[]},{name:"completeWithdrawal",type:"function",stateMutability:"nonpayable",inputs:[{name:"requestId",type:"uint256"}],outputs:[]}],ii=[{name:"delegationHandlers",type:"function",stateMutability:"view",inputs:[{name:"pubkey",type:"bytes"}],outputs:[{name:"",type:"address"}]}],yr=[{name:"payoutAmount",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"queuedPayoutAmount",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"feePercentage",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint96"}]}],vo=[{name:"protocolFeePercentage",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint96"}]},{name:"rebaseableBgtAmount",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"unboostedBalance",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"getEarnedBGTFeeState",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"currentBalance",type:"uint256"},{name:"bgtBalanceAlreadyCharged",type:"uint256"},{name:"chargeableBalance",type:"uint256"},{name:"protocolFeePercentage",type:"uint96"}]}],Es=[{name:"getCoreContracts",type:"function",stateMutability:"view",inputs:[{name:"pubkey",type:"bytes"}],outputs:[{name:"smartOperator",type:"address"},{name:"stakingPool",type:"address"},{name:"stakingRewardsVault",type:"address"},{name:"incentiveCollector",type:"address"}]},{name:"withdrawalVault",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"address"}]}],sc=[{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint64",indexed:!1}]},{type:"event",name:"SharesMinted",inputs:[{name:"to",type:"address",indexed:!0},{name:"amount",type:"uint256",indexed:!1}]},{type:"event",name:"SharesBurned",inputs:[{name:"from",type:"address",indexed:!0},{name:"amount",type:"uint256",indexed:!1}]},{type:"event",name:"DepositSubmitted",inputs:[{name:"receiver",type:"address",indexed:!0},{name:"userDepositAmount",type:"uint256",indexed:!1},{name:"shares",type:"uint256",indexed:!1},{name:"rewardsCollected",type:"uint256",indexed:!1},{name:"bufferedAssets",type:"uint256",indexed:!1},{name:"totalDeposits",type:"uint256",indexed:!1}]},{type:"event",name:"WithdrawalRequested",inputs:[{name:"user",type:"address",indexed:!0},{name:"amountOfAsset",type:"uint256",indexed:!1},{name:"amountOfShares",type:"uint256",indexed:!1},{name:"requestId",type:"uint256",indexed:!1},{name:"isFullExitWithdraw",type:"bool",indexed:!1}]},{type:"event",name:"WithdrawalRequestFinalized",inputs:[{name:"requestId",type:"uint256",indexed:!1}]},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0},{name:"to",type:"address",indexed:!0},{name:"value",type:"uint256",indexed:!1}]},{type:"event",name:"StakingPoolActivated",inputs:[]},{type:"event",name:"StakingPoolContractsDeployed",inputs:[{name:"smartOperator",type:"address",indexed:!1},{name:"stakingPool",type:"address",indexed:!1},{name:"stakingRewardsVault",type:"address",indexed:!1},{name:"incentiveCollector",type:"address",indexed:!1}]},{type:"event",name:"BGTRedeemed",inputs:[{name:"receiver",type:"address",indexed:!1},{name:"amount",type:"uint256",indexed:!1}]},{type:"event",name:"StakingRewardsReceived",inputs:[{name:"amount",type:"uint256",indexed:!1}]},{type:"event",name:"TotalDepositsUpdated",inputs:[{name:"newTotalDeposits",type:"uint256",indexed:!1}]}];Object.fromEntries(sc.map(e=>[e.name,Cc(e)]));Object.fromEntries(Es.filter(e=>e.type==="function").map(e=>[e.name,Zs(e)]));function rc(e,t){if(t===0n)return 1;const n=e*1000000n/t;return Number(n)/1e6}function Wh(e,t={}){if(e==null)return null;const n=Number.isFinite(t.decimals)?t.decimals:4,s=typeof e=="bigint"?Number(e):typeof e=="number"?e:Number(e);return Number.isFinite(s)?new Intl.NumberFormat("en-US",{useGrouping:!0,minimumFractionDigits:n,maximumFractionDigits:n}).format(s):null}function yt(e,t=2,n={}){const s=typeof e=="number"?e:Number(e);if(!Number.isFinite(s))return"";const r=n.prefix??"";return s>=1e6?r+(s/1e6).toFixed(t===0?0:2)+"M":s>=1e3?r+(s/1e3).toFixed(t===0?0:2)+"K":r+s.toFixed(t)}function Kh(e){if(e<=0)return"Ready";const t=Math.floor(e/3600),n=Math.floor(e%3600/60);return t>0?`~${t}h ${n}m`:`~${n}m`}function yu(e){const t=He(e);return Wh(t,{decimals:4})||"0.0000"}function wo(e,t=6,n=4){return!e||typeof e!="string"?"":e.length<=t+n+2?e:`${e.slice(0,t)}${e.slice(-n)}`}function Wo(e){if(e==null)return{valid:!1,value:null,error:"Enter an amount."};const t=typeof e=="string"?e.trim():String(e);if(!t)return{valid:!1,value:null,error:"Enter an amount."};const n=Number(t);return!Number.isFinite(n)||n<=0?{valid:!1,value:null,error:"Enter a valid amount."}:{valid:!0,value:n,error:null}}function u2(e,t,n,s,r,o){const a=Q(!1),i=Q(null),c=Q(0n),l=Q(0n),u=Q(!1),d=Q(!1),f=Q(!1),h=Q(0n),p=Q(0n),b=Q(0n),B=Q(null),E=Q(null),v=ce(()=>rc(c.value,l.value)),m=ce(()=>yt(Number(He(c.value)))),y=ce(()=>yt(Number(He(h.value)),4)),S=ce(()=>yt(Number(He(p.value)),4)),$=ce(()=>b.value===0n?null:yt(Number(He(b.value)),0,{prefix:"$"})),I=ce(()=>{if(B.value==null)return null;const A=Number(He(B.value));return Number.isFinite(A)?yt(A)+" BERA":null}),T=ce(()=>{const A=E.value;if(A==null)return null;const C=Number(A);return Number.isFinite(C)?(C/100).toFixed(2)+"%":null}),_=ce(()=>d.value?"exited":u.value?"active":"inactive");async function L(){if(!(!e.value||!n.value))try{const A=[e.value.readContract({address:n.value,abi:Ne,functionName:"totalAssets"}),e.value.readContract({address:n.value,abi:Ne,functionName:"totalSupply"}),e.value.readContract({address:n.value,abi:Ne,functionName:"isActive"}),e.value.readContract({address:n.value,abi:Ne,functionName:"isFullyExited"}),e.value.readContract({address:n.value,abi:Ne,functionName:"activeThresholdReached"})];r!=null&&r.value?A.push(e.value.readContract({address:r.value,abi:Co,functionName:"delegatedAmount"}).catch(re=>(console.warn("Failed to query delegation amount:",re),0n))):A.push(Promise.resolve(0n)),o!=null&&o.value?(A.push(e.value.readContract({address:o.value,abi:yr,functionName:"payoutAmount"}).catch(()=>null)),A.push(e.value.readContract({address:o.value,abi:yr,functionName:"feePercentage"}).catch(()=>null))):(A.push(Promise.resolve(null)),A.push(Promise.resolve(null)));const[C,F,R,H,Y,oe,ue,ye]=await Promise.all(A);c.value=C,l.value=F,u.value=R,d.value=H,f.value=Y,b.value=oe||0n,B.value=ue,E.value=ye}catch(A){console.error("Failed to load pool data:",A),i.value="Failed to load pool data"}}async function N(){if(!(!e.value||!n.value||!s.value))try{const A=await e.value.readContract({address:n.value,abi:Ne,functionName:"balanceOf",args:[s.value]});if(h.value=A,A>0n){const C=await e.value.readContract({address:n.value,abi:Ne,functionName:"convertToAssets",args:[A]});p.value=C}else p.value=0n}catch(A){console.error("Failed to load user data:",A)}}async function U(A){var C;if(!e.value||!n.value||!A)return{success:!1,shares:0n,error:"Missing client, pool address, or amount"};try{const F=String(A);return{success:!0,shares:await e.value.readContract({address:n.value,abi:Ne,functionName:"previewDeposit",args:[_s(F)]}),error:null}}catch(F){return console.error("Preview deposit failed:",F),{success:!1,shares:0n,error:(C=F==null?void 0:F.message)!=null&&C.includes("execution reverted")?"Pool may be paused or amount invalid":(F==null?void 0:F.message)||"Contract call failed"}}}async function j(A){var C;if(!e.value||!n.value||!A)return{success:!1,assets:0n,error:"Missing client, pool address, or shares"};try{return{success:!0,assets:await e.value.readContract({address:n.value,abi:Ne,functionName:"previewRedeem",args:[A]}),error:null}}catch(F){return console.error("Preview redeem failed:",F),{success:!1,assets:0n,error:(C=F==null?void 0:F.message)!=null&&C.includes("execution reverted")?"Pool may be paused or shares invalid":(F==null?void 0:F.message)||"Contract call failed"}}}async function X(A){if(!t.value||!n.value||!s.value)throw new Error("Wallet not connected");if(d.value)throw new Error("Pool has exited, deposits are disabled");a.value=!0,i.value=null;try{const C=String(A),F=_s(C),R=await U(C);if(!R.success)throw new Error(`Preview failed: ${R.error}`);const H=await t.value.writeContract({address:n.value,abi:Ne,functionName:"submit",args:[s.value],value:F,account:s.value}),Y=await e.value.waitForTransactionReceipt({hash:H});return await Promise.all([L(),N()]),{hash:H,receipt:Y}}catch(C){throw i.value=C.message||"Stake failed",C}finally{a.value=!1}}return{isLoading:a,error:i,totalAssets:c,totalSupply:l,isActive:u,isFullyExited:d,activeThresholdReached:f,userShares:h,userAssets:p,exchangeRate:v,formattedTotalAssets:m,formattedUserShares:y,formattedUserAssets:S,formattedTotalDelegation:$,formattedIncentivePayoutAmount:I,formattedIncentiveFeePercentage:T,poolStatus:_,loadPoolData:L,loadUserData:N,previewDeposit:U,previewRedeem:j,stake:X}}const od={MAINNET:80094,BEPOLIA:80069},l2={[od.MAINNET]:{name:"Berachain",rpcUrl:"https://rpc.berachain.com",stakingPoolFactoryAddress:"0xb79b43dBA821Cb67751276Ce050fF4111445fB99",delegationHandlerFactoryAddress:"0xAd17932a5B1aaeEa73D277a6AE670623F176E0D0",graphqlEndpoint:"https://api.berachain.com/graphql",hubBaseUrl:"https://hub.berachain.com",explorerUrl:"https://berascan.com",chainEnum:"BERACHAIN",bgtAddress:"0x656b95E550C07a9ffe548bd4085c72418Ceb1dba",knownIncentiveTokenAddresses:["0xFCBD14DC51f0A4d49d5E53C2E0950e0bC26d0Dce"]},[od.BEPOLIA]:{name:"Bepolia",rpcUrl:"https://bepolia.rpc.berachain.com",stakingPoolFactoryAddress:"0x176c081E95C82CA68DEa20CA419C7506Aa063C24",delegationHandlerFactoryAddress:"0x8b472791aC2f9e9Bd85f8919401b8Ce3bdFd464c",graphqlEndpoint:"https://bepolia-api.berachain.com/graphql",hubBaseUrl:"https://bepolia.hub.berachain.com",explorerUrl:"https://testnet.berascan.com",chainEnum:"BEPOLIA",bgtAddress:null,knownIncentiveTokenAddresses:[]}};function ft(e){return e==null||typeof e!="number"?null:l2[e]??null}const Gn=5000000000000000n,d2=.01,Zh=300,f2=15e3,ad=2;async function h2(e,t){var r,o,a,i;const n=ft(e);if(!(n!=null&&n.graphqlEndpoint)||!(n!=null&&n.chainEnum)||!(t!=null&&t.length))return new Map;const s=t.map(c=>c!=null&&c.startsWith("0x")?c:`0x${c||""}`);try{const c=await fetch(n.graphqlEndpoint,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({query:"query GetValidators($chain: GqlChain!, $pubkeys: [String!]!) { polGetValidators(chain: $chain, where: { pubkeyIn: $pubkeys }) { validators { pubkey metadata { name } } } }",variables:{chain:n.chainEnum,pubkeys:s}})});if(!c.ok)return new Map;const u=((o=(r=(await c.json()).data)==null?void 0:r.polGetValidators)==null?void 0:o.validators)||[],d=new Map;for(const f of u){const h=(a=f.pubkey)==null?void 0:a.toLowerCase();h&&d.set(h,{name:((i=f.metadata)==null?void 0:i.name)??null,metadata:f.metadata??null})}return d}catch{return new Map}}function p2(e,t,n,s,r,o,a=null){const i=Q(!1),c=Q(null),l=Q([]),u=Q(0),d=Q(null);let f=null;async function h(){const v=Be(e),m=Be(n);if(!v||!m){d.value=null,f=null;return}if(!(f===m&&d.value!==null)){f=m,d.value=null;try{const y=[{name:"WITHDRAWAL_REQUEST_FINALIZATION_BLOCK_DELAY",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]}],S=await v.readContract({address:m,abi:y,functionName:"WITHDRAWAL_REQUEST_FINALIZATION_BLOCK_DELAY"});d.value=typeof S=="bigint"&&S>0n?S:null}catch(y){console.warn("Could not read withdrawal finalization delay from contract:",y),d.value=null}}}async function p(){var v,m,y;if(!e.value||!n.value||!o.value){l.value=[];return}try{await h();const S=d.value,$=await e.value.readContract({address:n.value,abi:Jt,functionName:"balanceOf",args:[o.value]});if($===0n){l.value=[],u.value=0;return}const I=await e.value.getBlockNumber(),T=(Be(r)||"").toLowerCase(),_=[];for(let A=0n;A<$;A++)_.push({address:n.value,abi:Jt,functionName:"tokenOfOwnerByIndex",args:[o.value,A]});const N=(await e.value.multicall({contracts:_,allowFailure:!0})).map(A=>A==null?void 0:A.result).filter(A=>typeof A=="bigint");if(N.length===0){l.value=[],u.value=0;return}const U=N.map(A=>({address:n.value,abi:Jt,functionName:"getWithdrawalRequest",args:[A]})),j=await e.value.multicall({contracts:U,allowFailure:!0}),X=[];for(let A=0;A<N.length;A++){const C=(v=j[A])==null?void 0:v.result;if(!C||T&&((m=C.pubkey)==null?void 0:m.toLowerCase())!==T)continue;const F=typeof S=="bigint"?C.requestBlock+S:null,R=F?I>=F:!1,H=F?R?0n:F-I:null;X.push({id:N[A],pubkey:C.pubkey,assetsRequested:C.assetsRequested,sharesBurnt:C.sharesBurnt,user:C.user,requestBlock:C.requestBlock,isReady:R,blocksRemaining:H===null?null:Number(H),estimatedTimeRemaining:H===null?null:Number(H)*ad,validatorName:null})}try{const A=Be(a);if(A&&X.length>0){const C=[...new Set(X.map(R=>R.pubkey))],F=await h2(A,C);for(const R of X){const H=(y=R.pubkey)==null?void 0:y.toLowerCase(),Y=F.get(H);Y!=null&&Y.name&&(R.validatorName=Y.name)}}}catch(A){console.warn("Failed to enrich with validator names:",A)}l.value=X,u.value=X.filter(A=>!A.isReady).length}catch(S){console.error("Failed to load withdrawal requests:",S),c.value="Failed to load withdrawal requests"}}async function b(v,m,y=_s("0.01")){if(!t.value||!n.value||!s.value||!o.value)throw new Error("Wallet not connected");i.value=!0,c.value=null;try{const S=await t.value.writeContract({address:n.value,abi:Jt,functionName:"requestRedeem",args:[m,v,y],value:y,account:o.value}),$=await e.value.waitForTransactionReceipt({hash:S});return await p(),{hash:S,receipt:$}}catch(S){throw c.value=S.message||"Request redeem failed",S}finally{i.value=!1}}async function B(v){if(!t.value||!n.value||!o.value)throw new Error("Wallet not connected");i.value=!0,c.value=null;try{const m=await t.value.writeContract({address:n.value,abi:Jt,functionName:"finalizeWithdrawalRequest",args:[v],account:o.value}),y=await e.value.waitForTransactionReceipt({hash:m});return await p(),{hash:m,receipt:y}}catch(m){throw c.value=m.message||"Finalize withdrawal failed",m}finally{i.value=!1}}async function E(v){if(!t.value||!n.value||!o.value)throw new Error("Wallet not connected");if(v.length===0)throw new Error("No requests to finalize");i.value=!0,c.value=null;try{const m=await t.value.writeContract({address:n.value,abi:Jt,functionName:"finalizeWithdrawalRequests",args:[v],account:o.value}),y=await e.value.waitForTransactionReceipt({hash:m});return await p(),{hash:m,receipt:y}}catch(m){throw c.value=m.message||"Finalize withdrawals failed",m}finally{i.value=!1}}return{isLoading:i,error:c,withdrawalRequests:l,pendingCount:u,finalizationDelayBlocks:d,SECONDS_PER_BLOCK:ad,loadWithdrawalRequests:p,requestRedeem:b,finalizeWithdrawal:B,finalizeMultiple:E,formatAssets:yu,formatTimeRemaining:Kh}}const lt=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},b2={class:"wallet-connect"},m2=["disabled"],y2={key:1,class:"wallet-info"},g2={class:"address"},v2={key:2,class:"wallet-error"},w2={__name:"WalletConnect",props:{isConnected:{type:Boolean,default:!1},isConnecting:{type:Boolean,default:!1},shortAddress:{type:String,default:""},error:{type:String,default:null}},emits:["connect","disconnect"],setup(e){return(t,n)=>(O(),D("div",b2,[e.isConnected?(O(),D("div",y2,[g("span",g2,q(e.shortAddress),1),g("button",{class:"btn btn-secondary btn-sm",onClick:n[1]||(n[1]=s=>t.$emit("disconnect"))}," Disconnect ")])):(O(),D("button",{key:0,class:"btn btn-primary",disabled:e.isConnecting,onClick:n[0]||(n[0]=s=>t.$emit("connect"))},q(e.isConnecting?"Connecting...":"Connect Wallet"),9,m2)),e.error?(O(),D("div",v2,q(e.error),1)):be("",!0)]))}},x2=lt(w2,[["__scopeId","data-v-34b06ebd"]]),E2={class:"tab-nav"},P2=["onClick"],A2={key:0,class:"tab-icon"},S2={key:1,class:"tab-badge"},$2={__name:"TabNav",props:{tabs:{type:Array,required:!0},modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(e){return(t,n)=>(O(),D("nav",E2,[(O(!0),D(Re,null,_t(e.tabs,s=>(O(),D("button",{key:s.id,class:qe(["tab-btn",{active:e.modelValue===s.id}]),onClick:r=>t.$emit("update:modelValue",s.id)},[s.icon?(O(),D("span",A2,q(s.icon),1)):be("",!0),Xe(" "+q(s.label)+" ",1),s.badge?(O(),D("span",S2,q(s.badge),1)):be("",!0)],10,P2))),128))]))}},k2=lt($2,[["__scopeId","data-v-575e456a"]]),B2={key:0,class:"stat-icon"},I2={class:"icon-emoji"},C2={class:"stat-content"},T2={key:0,class:"stat-subvalue"},_2={__name:"StatCard",props:{label:{type:String,required:!0},value:{type:String,required:!0},subvalue:{type:String,default:""},icon:{type:String,default:""},valueClass:{type:String,default:""},variant:{type:String,default:"stat"}},setup(e){return(t,n)=>(O(),D("div",{class:qe(["stat-card",`stat-card--${e.variant}`])},[e.icon?(O(),D("div",B2,[g("span",I2,q(e.icon),1)])):be("",!0),g("div",C2,[(O(),Xt(hb(e.variant==="panel"?"h3":"span"),{class:qe(["stat-label",{"card-title":e.variant==="panel"}])},{default:We(()=>[Xe(q(e.label),1)]),_:1},8,["class"])),g("span",{class:qe(["stat-value",e.valueClass])},q(e.value),3),e.subvalue?(O(),D("span",T2,q(e.subvalue),1)):be("",!0)])],2))}},Yh=lt(_2,[["__scopeId","data-v-bb55b78e"]]),R2={class:"pool-detail-header"},N2={class:"top-row"},F2={class:"title-block"},O2={class:"title-row"},M2={class:"title"},L2={key:0,class:"subline"},D2={key:0,class:"details"},z2={class:"details-body"},U2={key:0,class:"detail-item"},j2={class:"detail-value"},q2=["href"],H2={class:"code"},V2={key:1,class:"code"},G2={key:1,class:"detail-item"},W2={class:"detail-value"},K2=["href"],Z2={class:"code"},Y2={key:1,class:"code"},J2={key:2,class:"detail-item"},X2={class:"detail-value"},Q2={key:3,class:"detail-item detail-item-multiline"},ex={class:"detail-label"},tx=["href"],nx={class:"detail-value detail-value-multiline"},sx={class:"detail-value-row"},rx=["href"],ox={class:"code"},ax={key:1,class:"code"},ix={key:0,class:"detail-subtext"},cx={key:0},ux={key:1},lx={key:2},dx=["href"],fx={__name:"PoolDetailHeader",props:{title:{type:String,default:null},explorerUrl:{type:String,default:null},poolAddress:{type:String,default:null},validatorPubkey:{type:String,default:null},hubBoostUrl:{type:String,default:null},formattedTotalDelegation:{type:String,default:null},formattedTotalAssets:{type:String,default:null},exchangeRate:{type:Number,default:0},poolStatus:{type:String,default:null},incentiveCollector:{type:String,default:null},formattedIncentivePayoutAmount:{type:String,default:null},formattedIncentiveFeePercentage:{type:String,default:null}},setup(e){const t=e,n=ce(()=>t.title||"Staking Pool"),s=ce(()=>!t.exchangeRate||t.exchangeRate===0?null:t.exchangeRate.toFixed(4)),r=ce(()=>{switch(t.poolStatus){case"active":return"Active";case"inactive":return"Inactive";case"exited":return"Exited";default:return t.poolStatus}}),o=ce(()=>{switch(t.poolStatus){case"active":return"status-pill-success";case"inactive":return"status-pill-warning";case"exited":return"status-pill-error";default:return""}}),a=Q(null),i=ce(()=>wo(t.poolAddress,6,4)),c=ce(()=>wo(t.validatorPubkey,10,6)),l=ce(()=>!t.explorerUrl||!t.poolAddress?null:`${t.explorerUrl.replace(/\/$/,"")}/address/${t.poolAddress}`),u=ce(()=>!!(t.validatorPubkey||t.poolAddress||t.formattedTotalDelegation||t.incentiveCollector||t.formattedIncentivePayoutAmount||t.formattedIncentiveFeePercentage));function d(p){return!t.explorerUrl||!p?null:`${t.explorerUrl.replace(/\/$/,"")}/address/${p}`}function f(p){let b="https://docs.berachain.com";if(typeof window<"u"){const B=window.location.hostname;(B==="localhost"||B==="127.0.0.1")&&(b="http://localhost:5173")}return`${b}/nodes/staking-pools/contracts/${encodeURIComponent(p)}`}async function h(p){if(p)try{await navigator.clipboard.writeText(p),p===t.poolAddress?a.value="pool":p===t.validatorPubkey?a.value="pubkey":p===t.incentiveCollector?a.value="incentiveCollector":a.value="other",window.setTimeout(()=>{a.value=null},1e3)}catch{}}return(p,b)=>(O(),D("div",R2,[g("div",N2,[g("div",F2,[g("div",O2,[g("h1",M2,q(n.value),1),r.value?(O(),D("span",{key:0,class:qe(["status-pill",o.value])},q(r.value),3)):be("",!0)]),s.value?(O(),D("div",L2," 1 stBERA = "+q(s.value)+" BERA ",1)):be("",!0)])]),u.value?(O(),D("details",D2,[b[7]||(b[7]=g("summary",{class:"details-summary"},"Details",-1)),g("div",z2,[e.validatorPubkey?(O(),D("div",U2,[b[3]||(b[3]=g("div",{class:"detail-label"},"Validator Pubkey",-1)),g("div",j2,[e.hubBoostUrl?(O(),D("a",{key:0,class:"code-link",href:e.hubBoostUrl,target:"_blank",rel:"noreferrer"},[g("code",H2,q(c.value),1)],8,q2)):(O(),D("code",V2,q(c.value),1)),g("button",{class:"copy-btn",type:"button",onClick:b[0]||(b[0]=B=>h(e.validatorPubkey))},q(a.value==="pubkey"?"Copied":"Copy"),1)])])):be("",!0),e.poolAddress?(O(),D("div",G2,[b[4]||(b[4]=g("div",{class:"detail-label"},"Pool Address",-1)),g("div",W2,[l.value?(O(),D("a",{key:0,class:"code-link",href:l.value,target:"_blank",rel:"noreferrer"},[g("code",Z2,q(i.value),1)],8,K2)):(O(),D("code",Y2,q(i.value),1)),g("button",{class:"copy-btn",type:"button",onClick:b[1]||(b[1]=B=>h(e.poolAddress))},q(a.value==="pool"?"Copied":"Copy"),1)])])):be("",!0),e.formattedTotalDelegation?(O(),D("div",J2,[b[5]||(b[5]=g("div",{class:"detail-label"},"Delegation",-1)),g("div",X2,q(e.formattedTotalDelegation),1)])):be("",!0),e.incentiveCollector?(O(),D("div",Q2,[g("div",ex,[b[6]||(b[6]=Xe(" IncentiveCollector ",-1)),g("a",{class:"docs-link",href:f("IncentiveCollector"),target:"_blank",rel:"noreferrer",title:"Docs"},"",8,tx)]),g("div",nx,[g("div",sx,[d(e.incentiveCollector)?(O(),D("a",{key:0,class:"code-link",href:d(e.incentiveCollector),target:"_blank",rel:"noreferrer"},[g("code",ox,q(ne(wo)(e.incentiveCollector)),1)],8,rx)):(O(),D("code",ax,q(ne(wo)(e.incentiveCollector)),1)),g("button",{class:"copy-btn",type:"button",onClick:b[2]||(b[2]=B=>h(e.incentiveCollector))},q(a.value==="incentiveCollector"?"Copied":"Copy"),1)]),e.formattedIncentivePayoutAmount||e.formattedIncentiveFeePercentage?(O(),D("div",ix,[e.formattedIncentivePayoutAmount&&e.formattedIncentiveFeePercentage?(O(),D("span",cx," Pay "+q(e.formattedIncentivePayoutAmount)+" to get accumulated incentives, less "+q(e.formattedIncentiveFeePercentage)+" fee. ",1)):e.formattedIncentivePayoutAmount?(O(),D("span",ux," Pay "+q(e.formattedIncentivePayoutAmount)+" to get accumulated incentives. ",1)):(O(),D("span",lx," Fee "+q(e.formattedIncentiveFeePercentage)+" applies when claiming incentives. ",1)),g("a",{class:"subdocs-link",href:f("IncentiveCollector")+"#claim",target:"_blank",rel:"noreferrer"}," Claim docs ",8,dx)])):be("",!0)])])):be("",!0)])])):be("",!0)]))}},Jh=lt(fx,[["__scopeId","data-v-17b26ed0"]]);class hx extends Error{constructor(t,n=""){super(t),this.name="ValidationError",this.field=n}}class px extends Error{constructor(t,n="",s=""){super(t),this.name="PoolStateError",this.poolAddress=n,this.state=s}}function ci(e){if(!e||typeof e!="string")return"Something went wrong.";const t=e.toLowerCase();return t.includes("user rejected")||t.includes("user denied")||t.includes("rejected")?"Transaction declined in wallet.":t.includes("insufficient funds")||t.includes("insufficient balance")?"Insufficient balance for gas or amount.":t.includes("pool has exited")||t.includes("deposits are disabled")?"Pool has exited; deposits are disabled.":"Something went wrong."}function gu(e){return e instanceof hx||e instanceof px?{message:e.message,summary:ci(e.message),code:e.name}:e instanceof Error?{message:e.message,summary:ci(e.message)}:typeof e=="string"?{message:e,summary:ci(e)}:{message:String(e),summary:"Something went wrong."}}const bx={class:"card stake-card"},mx={key:0,class:"exited-note"},yx={class:"input-group"},gx={class:"input-header"},vx={key:0,class:"balance text-muted"},wx={class:"input-wrapper"},xx=["disabled"],Ex={key:0,class:"preview text-secondary"},Px={key:1,class:"input-error"},Ax=["disabled"],Sx={key:0},$x={key:1},kx={key:2},Bx={key:3},Ix={key:1,class:"error-message"},Cx={class:"error-summary"},Tx={class:"error-details"},_x={class:"error-full"},Rx={key:2,class:"success-message"},Nx=["href"],Fx={__name:"StakeCard",props:{isConnected:{type:Boolean,default:!1},isExited:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},walletBalance:{type:String,default:"0"},explorerUrl:{type:String,default:"https://berascan.com"}},emits:["stake","connect","preview"],setup(e,{emit:t}){const n=e,s=t,r=Q(""),o=Q(null),a=Q(null),i=Q(null),c=ce(()=>n.isExited?!1:n.isConnected?!(n.isLoading||!d.value.valid):!0),l=ce(()=>{const E=a.value;return E?typeof E=="object"&&E.summary?E.summary:typeof E=="string"?E:"Transaction failed.":""}),u=ce(()=>{const E=a.value;return E?typeof E=="object"&&E.message?E.message:typeof E=="string"?E:"":""}),d=ce(()=>Wo(r.value)),f=ce(()=>r.value?d.value.error:null);function h(E){return parseFloat(He(E)).toFixed(4)}function p(){const E=parseFloat(n.walletBalance),v=Math.max(0,E-d2).toFixed(4);r.value=v}async function b(){if(!n.isConnected){s("connect");return}if(d.value.valid){a.value=null,i.value=null;try{const E=await new Promise((v,m)=>{s("stake",r.value,{resolve:v,reject:m})});i.value=E.hash,r.value="",o.value=null}catch(E){a.value=gu(E)}}}let B=null;return Nt(r,E=>{if(B&&clearTimeout(B),!Wo(E).valid){o.value=null;return}B=setTimeout(()=>{s("preview",E,m=>{o.value=m})},Zh)}),cs(()=>{B&&clearTimeout(B)}),(E,v)=>(O(),D("div",bx,[v[6]||(v[6]=g("h3",{class:"card-title"},"Stake BERA",-1)),e.isExited?(O(),D("div",mx," Pool exited; deposits are disabled. ")):be("",!0),g("div",yx,[g("div",gx,[v[2]||(v[2]=g("label",{class:"label"},"Amount",-1)),e.isConnected?(O(),D("span",vx," Wallet Balance: "+q(e.walletBalance)+" BERA ",1)):be("",!0)]),g("div",wx,[Dd(g("input",{type:"number",class:"input amount-input","onUpdate:modelValue":v[0]||(v[0]=m=>r.value=m),placeholder:"0.0",step:"0.01",min:"0",disabled:!e.isConnected||e.isExited},null,8,xx),[[bf,r.value]]),e.isConnected&&parseFloat(e.walletBalance)>0?(O(),D("button",{key:0,class:"max-btn",onClick:p}," MAX ")):be("",!0),v[3]||(v[3]=g("span",{class:"input-suffix"},"BERA",-1))]),r.value&&o.value?(O(),D("div",Ex," You will receive  "+q(h(o.value))+" stBERA ",1)):be("",!0),f.value?(O(),D("div",Px,q(f.value),1)):be("",!0)]),g("button",{class:"btn btn-primary stake-btn",onClick:b,disabled:!c.value},[!e.isConnected&&!e.isExited?(O(),D("span",Sx,"Connect Wallet")):e.isExited?(O(),D("span",$x,"Deposits Disabled")):e.isLoading?(O(),D("span",kx,"Staking...")):(O(),D("span",Bx,"Stake"))],8,Ax),a.value?(O(),D("div",Ix,[g("div",Cx,q(l.value),1),g("details",Tx,[v[4]||(v[4]=g("summary",null,"Technical details",-1)),g("pre",_x,q(u.value),1)]),g("button",{type:"button",class:"error-dismiss",onClick:v[1]||(v[1]=m=>a.value=null)},"Dismiss")])):be("",!0),i.value?(O(),D("div",Rx,[v[5]||(v[5]=Xe(" Staked successfully! ",-1)),g("a",{href:e.explorerUrl+"/tx/"+i.value,target:"_blank",rel:"noopener"}," View transaction ",8,Nx)])):be("",!0)]))}},Ox=lt(Fx,[["__scopeId","data-v-2e9173e1"]]),Mx={class:"card position-card"},Lx={key:0,class:"connect-prompt"},Dx={key:1,class:"position-stats"},zx={class:"stat"},Ux={class:"stat-value stat-value-muted"},jx={class:"stat"},qx={class:"stat-value text-accent"},Hx={key:2,class:"no-position"},Vx={__name:"PositionCard",props:{isConnected:{type:Boolean,default:!1},formattedShares:{type:String,default:"0"},formattedAssets:{type:String,default:"0"}},setup(e){const t=e,n=ce(()=>t.formattedShares!=="0"&&t.formattedShares!=="0.0000");return(s,r)=>(O(),D("div",Mx,[r[4]||(r[4]=g("h3",{class:"card-title"},"Your Position",-1)),e.isConnected?n.value?(O(),D("div",Dx,[g("div",zx,[r[1]||(r[1]=g("span",{class:"stat-label"},"stBERA",-1)),g("span",Ux,q(e.formattedShares),1)]),g("div",jx,[r[2]||(r[2]=g("span",{class:"stat-label"},"BERA",-1)),g("span",qx,q(e.formattedAssets),1)])])):(O(),D("div",Hx,[...r[3]||(r[3]=[g("p",{class:"text-secondary"},"No staked position yet",-1)])])):(O(),D("div",Lx,[...r[0]||(r[0]=[g("p",{class:"text-secondary"},"Connect your wallet to view your position",-1)])]))]))}},Xh=lt(Vx,[["__scopeId","data-v-14e42fb8"]]),Gx={class:"stake-view"},Wx={class:"summary-row"},Kx={class:"single-column"},Zx={__name:"StakeView",props:{poolName:{type:String,default:null},poolAddress:{type:String,default:null},validatorPubkey:{type:String,default:null},isConnected:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},walletBalance:{type:String,default:"0"},explorerUrl:{type:String,default:"https://berascan.com"},hubBoostUrl:{type:String,default:null},incentiveCollector:{type:String,default:null},formattedIncentivePayoutAmount:{type:String,default:null},formattedIncentiveFeePercentage:{type:String,default:null},formattedTotalAssets:{type:String,default:"0"},exchangeRate:{type:Number,default:1},poolStatus:{type:String,default:"active"},isFullyExited:{type:Boolean,default:!1},formattedUserShares:{type:String,default:"0"},formattedUserAssets:{type:String,default:"0"},formattedTotalDelegation:{type:String,default:null}},emits:["connect","stake","previewDeposit"],setup(e){return(t,n)=>(O(),D("div",Gx,[Ce(Jh,{title:e.poolName,"explorer-url":e.explorerUrl,"pool-address":e.poolAddress,"validator-pubkey":e.validatorPubkey,"hub-boost-url":e.hubBoostUrl,"formatted-total-delegation":e.formattedTotalDelegation,"formatted-total-assets":e.formattedTotalAssets,"exchange-rate":e.exchangeRate,"pool-status":e.poolStatus,"incentive-collector":e.incentiveCollector,"formatted-incentive-payout-amount":e.formattedIncentivePayoutAmount,"formatted-incentive-fee-percentage":e.formattedIncentiveFeePercentage},null,8,["title","explorer-url","pool-address","validator-pubkey","hub-boost-url","formatted-total-delegation","formatted-total-assets","exchange-rate","pool-status","incentive-collector","formatted-incentive-payout-amount","formatted-incentive-fee-percentage"]),g("div",Wx,[Ce(Yh,{label:"Assets",value:e.formattedTotalAssets+" BERA",variant:"panel"},null,8,["value"]),Ce(Xh,{"is-connected":e.isConnected,"formatted-shares":e.formattedUserShares,"formatted-assets":e.formattedUserAssets},null,8,["is-connected","formatted-shares","formatted-assets"])]),g("div",Kx,[Ce(Ox,{"is-connected":e.isConnected,"is-exited":e.isFullyExited,"is-loading":e.isLoading,"wallet-balance":e.walletBalance,"explorer-url":e.explorerUrl,onConnect:n[0]||(n[0]=s=>t.$emit("connect")),onStake:n[1]||(n[1]=(s,r)=>t.$emit("stake",s,r)),onPreview:n[2]||(n[2]=(s,r)=>t.$emit("previewDeposit",s,r))},null,8,["is-connected","is-exited","is-loading","wallet-balance","explorer-url"])])]))}},Yx=lt(Zx,[["__scopeId","data-v-61544a54"]]),Jx={class:"card withdraw-card"},Xx={key:0,class:"connect-prompt"},Qx={class:"available-balance"},e8={class:"balance-value"},t8={class:"balance-subvalue text-muted"},n8={class:"input-group"},s8={class:"input-wrapper"},r8=["disabled"],o8={key:0,class:"preview text-secondary"},a8={key:1,class:"input-error"},i8=["disabled"],c8={key:0},u8={key:1},l8={key:2},d8={class:"info-text text-muted"},f8={key:0,class:"error-message"},h8={class:"error-summary"},p8={key:0,class:"error-details"},b8={class:"error-full"},m8={key:1,class:"success-message"},y8=["href"],g8={__name:"WithdrawCard",props:{isConnected:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},userShares:{type:BigInt,default:0n},formattedShares:{type:String,default:"0"},formattedAssets:{type:String,default:"0"},explorerUrl:{type:String,default:"https://berascan.com"},finalizationDelayBlocks:{type:[BigInt,Number],default:null},secondsPerBlock:{type:Number,default:2}},emits:["connect","requestRedeem","previewRedeem"],setup(e,{emit:t}){const n=e,s=t,r=Q(""),o=Q(null),a=Q(null),i=Q(null),c=Q("0.01"),l=ce(()=>n.userShares>0n),u=ce(()=>!(!n.isConnected||n.isLoading||!l.value||!f.value.valid)),d=ce(()=>{const m=n.finalizationDelayBlocks;if(m==null)return"after a delay";const y=typeof m=="bigint"?m:BigInt(m);if(y<=0n)return"after a delay";const S=y.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),$=Number(y)*(Number.isFinite(n.secondsPerBlock)?n.secondsPerBlock:2),I=Math.floor($/3600),T=Math.floor($%3600/60),_=I>0?` ${I}h ${T}m`:` ${Math.max(1,T)}m`;return`after ${S} blocks (${_})`}),f=ce(()=>Wo(r.value)),h=ce(()=>r.value?f.value.error:null),p=ce(()=>{const m=a.value;return m?typeof m=="object"&&m.summary?m.summary:typeof m=="string"?m:"Request failed.":""}),b=ce(()=>{const m=a.value;return m?typeof m=="object"&&m.message?m.message:typeof m=="string"?m:"":""});function B(){r.value=He(n.userShares)}async function E(){if(f.value.valid){a.value=null,i.value=null;try{const m=_s(String(r.value)),y=await new Promise((S,$)=>{s("requestRedeem",m,_s(c.value),{resolve:S,reject:$})});i.value=y.hash,r.value="",o.value=null}catch(m){a.value=gu(m)}}}let v=null;return Nt(r,m=>{if(v&&clearTimeout(v),!Wo(m).valid){o.value=null;return}v=setTimeout(()=>{s("previewRedeem",_s(String(m)),S=>{o.value=yu(S)})},Zh)}),cs(()=>{v&&clearTimeout(v)}),(m,y)=>(O(),D("div",Jx,[y[9]||(y[9]=g("h3",{class:"card-title"},"Request Withdrawal",-1)),e.isConnected?(O(),D(Re,{key:1},[g("div",Qx,[y[4]||(y[4]=g("span",{class:"label"},"Available to withdraw",-1)),g("span",e8,q(e.formattedShares)+" stBERA",1),g("span",t8," "+q(e.formattedAssets)+" BERA",1)]),g("div",n8,[y[6]||(y[6]=g("div",{class:"input-header"},[g("label",{class:"label"},"stBERA to redeem")],-1)),g("div",s8,[Dd(g("input",{type:"number",class:"input amount-input","onUpdate:modelValue":y[1]||(y[1]=S=>r.value=S),placeholder:"0.0",step:"0.0001",min:"0",disabled:!l.value},null,8,r8),[[bf,r.value]]),l.value?(O(),D("button",{key:0,class:"max-btn",onClick:B}," MAX ")):be("",!0),y[5]||(y[5]=g("span",{class:"input-suffix"},"stBERA",-1))]),o.value?(O(),D("div",o8," This creates a claim for  "+q(o.value)+" BERA. ",1)):be("",!0),h.value?(O(),D("div",a8,q(h.value),1)):be("",!0)]),g("button",{class:"btn btn-primary withdraw-btn",onClick:E,disabled:!u.value},[e.isLoading?(O(),D("span",c8,"Requesting...")):l.value?(O(),D("span",l8,"Request Withdrawal")):(O(),D("span",u8,"No shares to withdraw"))],8,i8),g("p",d8," You can finalize the claim "+q(d.value)+" to receive BERA. ",1),a.value?(O(),D("div",f8,[g("div",h8,q(p.value),1),b.value&&b.value!==p.value?(O(),D("details",p8,[y[7]||(y[7]=g("summary",null,"Technical details",-1)),g("pre",b8,q(b.value),1)])):be("",!0),g("button",{type:"button",class:"error-dismiss",onClick:y[2]||(y[2]=S=>a.value=null)},"Dismiss")])):be("",!0),i.value?(O(),D("div",m8,[y[8]||(y[8]=Xe(" Withdrawal requested! ",-1)),g("a",{href:e.explorerUrl+"/tx/"+i.value,target:"_blank",rel:"noopener"},"View tx",8,y8)])):be("",!0)],64)):(O(),D("div",Xx,[y[3]||(y[3]=g("p",{class:"text-secondary"},"Connect your wallet to request withdrawals",-1)),g("button",{class:"btn btn-primary",onClick:y[0]||(y[0]=S=>m.$emit("connect"))},"Connect Wallet")]))]))}},v8=lt(g8,[["__scopeId","data-v-326567b2"]]),w8={class:"card withdraw-queue"},x8={class:"queue-header"},E8=["disabled"],P8={key:0,class:"empty-state"},A8={key:1,class:"empty-state"},S8={key:2,class:"table-wrapper"},$8={class:"id-cell"},k8={class:"validator-cell"},B8={key:0,class:"validator-name"},I8={key:1,class:"text-muted"},C8={class:"amount-cell"},T8={class:"amount-value"},_8={key:0,class:"badge badge-success"},R8={key:1,class:"badge badge-warning"},N8={key:2,class:"badge badge-neutral"},F8=["onClick","disabled"],O8={key:1,class:"text-muted"},M8={key:3,class:"error-message"},L8={key:4,class:"success-message"},D8=["href"],z8={__name:"WithdrawQueue",props:{isConnected:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},requests:{type:Array,default:()=>[]},explorerUrl:{type:String,default:"https://berascan.com"}},emits:["finalize","finalizeMultiple"],setup(e,{emit:t}){const n=e,s=t,r=Q(null),o=Q(null),a=ce(()=>n.requests.filter(l=>l.isReady));async function i(l){r.value=null,o.value=null;try{const u=await new Promise((d,f)=>{s("finalize",l,{resolve:d,reject:f})});o.value=u.hash}catch(u){r.value=u.message||"Claim failed"}}async function c(){r.value=null,o.value=null;try{const l=a.value.map(d=>d.id),u=await new Promise((d,f)=>{s("finalizeMultiple",l,{resolve:d,reject:f})});o.value=u.hash}catch(l){r.value=l.message||"Claim failed"}}return(l,u)=>(O(),D("div",w8,[g("div",x8,[u[0]||(u[0]=g("h3",{class:"card-title"},"Withdrawals",-1)),a.value.length>1?(O(),D("button",{key:0,class:"btn btn-primary btn-sm",onClick:c,disabled:e.isLoading}," Claim All ("+q(a.value.length)+") ",9,E8)):be("",!0)]),e.isConnected?e.requests.length===0?(O(),D("div",A8,[...u[2]||(u[2]=[g("p",{class:"text-secondary"},"No withdrawal requests",-1)])])):(O(),D("div",S8,[g("table",null,[u[4]||(u[4]=g("thead",null,[g("tr",null,[g("th",null,"ID"),g("th",null,"Validator"),g("th",null,"Amount"),g("th",null,"Status"),g("th",null,"Action")])],-1)),g("tbody",null,[(O(!0),D(Re,null,_t(e.requests,d=>(O(),D("tr",{key:d.id},[g("td",$8,"#"+q(d.id),1),g("td",k8,[d.validatorName?(O(),D("span",B8,q(d.validatorName),1)):(O(),D("span",I8,""))]),g("td",null,[g("div",C8,[g("span",T8,q(ne(yu)(d.assetsRequested)),1),u[3]||(u[3]=g("span",{class:"amount-unit"},"BERA",-1))])]),g("td",null,[d.isReady?(O(),D("span",_8,"Ready")):d.estimatedTimeRemaining!==null&&d.estimatedTimeRemaining!==void 0?(O(),D("span",R8,q(ne(Kh)(d.estimatedTimeRemaining)),1)):(O(),D("span",N8,"Pending"))]),g("td",null,[d.isReady?(O(),D("button",{key:0,class:"btn btn-primary btn-sm",onClick:f=>i(d.id),disabled:e.isLoading}," Claim ",8,F8)):(O(),D("span",O8,""))])]))),128))])])])):(O(),D("div",P8,[...u[1]||(u[1]=[g("p",{class:"text-secondary"},"Connect wallet to view your withdrawals",-1)])])),r.value?(O(),D("div",M8,q(r.value),1)):be("",!0),o.value?(O(),D("div",L8,[u[5]||(u[5]=Xe(" Withdrawal claimed! ",-1)),g("a",{href:e.explorerUrl+"/tx/"+o.value,target:"_blank",rel:"noopener"},"View tx",8,D8)])):be("",!0)]))}},U8=lt(z8,[["__scopeId","data-v-d89490e7"]]),j8={class:"withdraw-view"},q8={class:"summary-row"},H8={__name:"WithdrawView",props:{poolName:{type:String,default:null},poolAddress:{type:String,default:null},validatorPubkey:{type:String,default:null},isConnected:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},explorerUrl:{type:String,default:"https://berascan.com"},hubBoostUrl:{type:String,default:null},finalizationDelayBlocks:{type:[BigInt,Number],default:null},secondsPerBlock:{type:Number,default:2},formattedTotalDelegation:{type:String,default:null},formattedTotalAssets:{type:String,default:null},exchangeRate:{type:Number,default:0},poolStatus:{type:String,default:null},incentiveCollector:{type:String,default:null},formattedIncentivePayoutAmount:{type:String,default:null},formattedIncentiveFeePercentage:{type:String,default:null},userShares:{type:BigInt,default:0n},formattedUserShares:{type:String,default:"0"},formattedUserAssets:{type:String,default:"0"},withdrawalRequests:{type:Array,default:()=>[]}},emits:["connect","requestRedeem","previewRedeem","finalize","finalizeMultiple"],setup(e){const t=e,n=ce(()=>t.withdrawalRequests.length>0);return(s,r)=>(O(),D("div",j8,[Ce(Jh,{title:e.poolName,"explorer-url":e.explorerUrl,"pool-address":e.poolAddress,"validator-pubkey":e.validatorPubkey,"hub-boost-url":e.hubBoostUrl,"formatted-total-delegation":e.formattedTotalDelegation,"formatted-total-assets":e.formattedTotalAssets,"exchange-rate":e.exchangeRate,"pool-status":e.poolStatus,"incentive-collector":e.incentiveCollector,"formatted-incentive-payout-amount":e.formattedIncentivePayoutAmount,"formatted-incentive-fee-percentage":e.formattedIncentiveFeePercentage},null,8,["title","explorer-url","pool-address","validator-pubkey","hub-boost-url","formatted-total-delegation","formatted-total-assets","exchange-rate","pool-status","incentive-collector","formatted-incentive-payout-amount","formatted-incentive-fee-percentage"]),g("div",q8,[Ce(Yh,{label:"Assets",value:e.formattedTotalAssets+" BERA",variant:"panel"},null,8,["value"]),Ce(Xh,{"is-connected":e.isConnected,"formatted-shares":e.formattedUserShares,"formatted-assets":e.formattedUserAssets},null,8,["is-connected","formatted-shares","formatted-assets"])]),g("div",{class:qe(["withdraw-main",{"with-queue":n.value}])},[Ce(v8,{"is-connected":e.isConnected,"is-loading":e.isLoading,"user-shares":e.userShares,"formatted-shares":e.formattedUserShares,"formatted-assets":e.formattedUserAssets,"explorer-url":e.explorerUrl,"finalization-delay-blocks":e.finalizationDelayBlocks,"seconds-per-block":e.secondsPerBlock,onConnect:r[0]||(r[0]=o=>s.$emit("connect")),onRequestRedeem:r[1]||(r[1]=(o,a,i)=>s.$emit("requestRedeem",o,a,i)),onPreviewRedeem:r[2]||(r[2]=(o,a)=>s.$emit("previewRedeem",o,a))},null,8,["is-connected","is-loading","user-shares","formatted-shares","formatted-assets","explorer-url","finalization-delay-blocks","seconds-per-block"]),n.value?(O(),Xt(U8,{key:0,"is-connected":e.isConnected,"is-loading":e.isLoading,requests:e.withdrawalRequests,"explorer-url":e.explorerUrl,onFinalize:r[3]||(r[3]=(o,a)=>s.$emit("finalize",o,a)),onFinalizeMultiple:r[4]||(r[4]=(o,a)=>s.$emit("finalizeMultiple",o,a))},null,8,["is-connected","is-loading","requests","explorer-url"])):be("",!0)],2)]))}},V8=lt(H8,[["__scopeId","data-v-79025a9d"]]),G8={class:"pool-list-view"},W8={key:0,class:"loading-state"},K8={key:1,class:"error-state"},Z8={class:"error-text"},Y8={key:2,class:"empty-state"},J8={key:3,class:"pools-sections"},X8={key:0,class:"pool-section"},Q8={class:"pools-grid"},e3=["onClick"],t3={class:"pool-header"},n3={class:"pool-info"},s3={class:"info-row"},r3={class:"value"},o3={key:0,class:"info-row"},a3={class:"value position-value"},i3={class:"position-assets"},c3={key:1,class:"pool-section"},u3={class:"pools-grid"},l3=["onClick"],d3={class:"pool-header"},f3={class:"pool-info"},h3={class:"info-row"},p3={class:"value"},b3={key:0,class:"info-row"},m3={class:"value position-value"},y3={class:"position-assets"},g3={key:2,class:"pool-section"},v3={class:"pools-grid"},w3=["onClick"],x3={class:"pool-header"},E3={class:"pool-info"},P3={class:"info-row"},A3={class:"value"},S3={key:0,class:"info-row"},$3={class:"value position-value"},k3={class:"position-assets"},B3={key:3,class:"pool-section"},I3={class:"pools-grid"},C3=["onClick"],T3={class:"pool-header"},_3={class:"pool-info"},R3={class:"info-row"},N3={class:"value"},F3={key:0,class:"info-row"},O3={class:"value position-value"},M3={class:"position-assets"},L3={__name:"PoolListView",props:{pools:{type:Array,default:()=>[]},isLoading:{type:Boolean,default:!1},error:{type:String,default:null}},emits:["select-pool","retry"],setup(e){const t=e;function n(f){if((f==null?void 0:f.isDead)===!0)return!0;if(f!=null&&f.totalAssetsWei)try{return(f==null?void 0:f.isFullyExited)&&BigInt(f.totalAssetsWei)<Gn}catch{}if(!(f!=null&&f.isFullyExited))return!1;const h=Number(Gn)/1e18,p=parseFloat(f==null?void 0:f.totalAssets);return Number.isFinite(p)&&p<h}const s=ce(()=>t.pools.filter(f=>!n(f)&&!f.isFullyExited&&f.isActive)),r=ce(()=>t.pools.filter(f=>!n(f)&&!f.isFullyExited&&!f.isActive)),o=ce(()=>t.pools.filter(f=>!n(f)&&f.isFullyExited)),a=ce(()=>t.pools.filter(f=>n(f)));function i(f){const h=Number(Gn)/1e18,p=f==null?void 0:f.userAssetsWei;try{if(typeof p=="bigint")return p>=Gn;if(typeof p=="string")return BigInt(p)>=Gn}catch{}const b=Number(f==null?void 0:f.userAssets);return Number.isFinite(b)&&b>=h}function c(f){return n(f)?"Dead":f.isFullyExited?"Exited":f.isActive?"Active":"Inactive"}function l(f){return n(f)?"dead":f.isFullyExited?"exited":f.isActive?"active":"inactive"}function u(f){return n(f)?"View Dead Pool":f!=null&&f.isFullyExited?"View Exited Pool":"View Pool"}function d(f){return n(f)?"btn-secondary":"btn-primary"}return(f,h)=>(O(),D("div",G8,[h[16]||(h[16]=g("div",{class:"header-section"},[g("h1",null,"Discover Staking Pools"),g("p",{class:"text-secondary"},"Browse available staking pools from validators")],-1)),e.isLoading?(O(),D("div",W8,[...h[1]||(h[1]=[g("p",null,"Discovering pools...",-1),g("p",{class:"text-secondary"},"This may take a moment",-1)])])):e.error?(O(),D("div",K8,[g("p",Z8,q(e.error),1),h[2]||(h[2]=Hb('<div class="error-help" data-v-5a2a1b99><p class="text-secondary" data-v-5a2a1b99>Troubleshooting:</p><ul class="help-list" data-v-5a2a1b99><li data-v-5a2a1b99>Check that <code data-v-5a2a1b99>public/config.json</code> is configured correctly</li><li data-v-5a2a1b99>For discovery mode: ensure your RPC works; discovery uses <code data-v-5a2a1b99>api.berachain.com/graphql</code> + on-chain factory lookups</li><li data-v-5a2a1b99>For single mode: ensure a pool is configured in the <code data-v-5a2a1b99>pools</code> section</li><li data-v-5a2a1b99>See <code data-v-5a2a1b99>CONFIG_GUIDE.md</code> for detailed instructions</li></ul></div>',1)),g("button",{class:"btn btn-primary",onClick:h[0]||(h[0]=p=>f.$emit("retry"))},"Retry")])):e.pools.length===0?(O(),D("div",Y8,[...h[3]||(h[3]=[g("p",null,"No staking pools found",-1),g("p",{class:"text-secondary"},"Validators with staking pools will appear here",-1)])])):(O(),D("div",J8,[s.value.length>0?(O(),D("section",X8,[h[6]||(h[6]=g("h2",{class:"section-title"},"Active",-1)),g("div",Q8,[(O(!0),D(Re,null,_t(s.value,p=>{var b;return O(),D("div",{key:p.stakingPool,class:"pool-card card",onClick:B=>f.$emit("select-pool",p)},[g("div",t3,[g("h3",null,q(p.name||(((b=p.validator)==null?void 0:b.index)!=null?`Validator ${p.validator.index}`:"Staking Pool")),1),g("span",{class:qe(["status-badge",l(p)])},q(c(p)),3)]),g("div",n3,[g("div",s3,[h[4]||(h[4]=g("span",{class:"label"},"Assets:",-1)),g("span",r3,q(ne(yt)(p.totalAssets))+" BERA",1)]),i(p)?(O(),D("div",o3,[h[5]||(h[5]=g("span",{class:"label"},"Your Position:",-1)),g("span",a3,[g("span",i3,q(ne(yt)(p.userAssets))+" BERA",1)])])):be("",!0)]),g("button",{class:qe(["btn",d(p),"btn-block"])},q(u(p)),3)],8,e3)}),128))])])):be("",!0),r.value.length>0?(O(),D("section",c3,[h[9]||(h[9]=g("h2",{class:"section-title"},"Inactive",-1)),g("div",u3,[(O(!0),D(Re,null,_t(r.value,p=>{var b;return O(),D("div",{key:p.stakingPool,class:"pool-card card",onClick:B=>f.$emit("select-pool",p)},[g("div",d3,[g("h3",null,q(p.name||(((b=p.validator)==null?void 0:b.index)!=null?`Validator ${p.validator.index}`:"Staking Pool")),1),g("span",{class:qe(["status-badge",l(p)])},q(c(p)),3)]),g("div",f3,[g("div",h3,[h[7]||(h[7]=g("span",{class:"label"},"Assets:",-1)),g("span",p3,q(ne(yt)(p.totalAssets))+" BERA",1)]),i(p)?(O(),D("div",b3,[h[8]||(h[8]=g("span",{class:"label"},"Your Position:",-1)),g("span",m3,[g("span",y3,q(ne(yt)(p.userAssets))+" BERA",1)])])):be("",!0)]),g("button",{class:qe(["btn",d(p),"btn-block"])},q(u(p)),3)],8,l3)}),128))])])):be("",!0),o.value.length>0?(O(),D("section",g3,[h[12]||(h[12]=g("h2",{class:"section-title"},"Exited",-1)),g("div",v3,[(O(!0),D(Re,null,_t(o.value,p=>{var b;return O(),D("div",{key:p.stakingPool,class:"pool-card card",onClick:B=>f.$emit("select-pool",p)},[g("div",x3,[g("h3",null,q(p.name||(((b=p.validator)==null?void 0:b.index)!=null?`Validator ${p.validator.index}`:"Staking Pool")),1),g("span",{class:qe(["status-badge",l(p)])},q(c(p)),3)]),g("div",E3,[g("div",P3,[h[10]||(h[10]=g("span",{class:"label"},"Assets:",-1)),g("span",A3,q(ne(yt)(p.totalAssets))+" BERA",1)]),i(p)?(O(),D("div",S3,[h[11]||(h[11]=g("span",{class:"label"},"Your Position:",-1)),g("span",$3,[g("span",k3,q(ne(yt)(p.userAssets))+" BERA",1)])])):be("",!0)]),g("button",{class:qe(["btn",d(p),"btn-block"])},q(u(p)),3)],8,w3)}),128))])])):be("",!0),a.value.length>0?(O(),D("section",B3,[h[15]||(h[15]=g("h2",{class:"section-title"},"Dead",-1)),g("div",I3,[(O(!0),D(Re,null,_t(a.value,p=>{var b;return O(),D("div",{key:p.stakingPool,class:qe(["pool-card","card","dead"]),onClick:B=>f.$emit("select-pool",p)},[g("div",T3,[g("h3",null,q(p.name||(((b=p.validator)==null?void 0:b.index)!=null?`Validator ${p.validator.index}`:"Staking Pool")),1),g("span",{class:qe(["status-badge",l(p)])},q(c(p)),3)]),g("div",_3,[g("div",R3,[h[13]||(h[13]=g("span",{class:"label"},"Assets:",-1)),g("span",N3,q(ne(yt)(p.totalAssets))+" BERA",1)]),i(p)?(O(),D("div",F3,[h[14]||(h[14]=g("span",{class:"label"},"Your Position:",-1)),g("span",O3,[g("span",M3,q(ne(yt)(p.userAssets))+" BERA",1)])])):be("",!0)]),g("button",{class:qe(["btn",d(p),"btn-block"])},q(u(p)),3)],8,C3)}),128))])])):be("",!0)]))]))}},D3=lt(L3,[["__scopeId","data-v-5a2a1b99"]]),id=1e4,z3=1e3,U3=1e4,j3=1e3,q3=15e3,ar=15e6,cd=5n*10n**15n,Qh="nosy-mode",H3=1,Ko="pools",ts="events",qs="scannedRanges";function ui(e){return!e||typeof e!="string"?"":e.toLowerCase()}function V3(e){if(!Array.isArray(e)||e.length===0)return[];const t=[...e].sort((a,i)=>(a.blockNumber||0)-(i.blockNumber||0)),n=new Map;function s(a){const i=ui(a);return i?(n.has(i)||n.set(i,{acquired:0n,disposed:0n,firstBlock:null,zeroedBlock:null}),n.get(i)):null}function r(a){if(a==null||a===void 0)return 0n;if(typeof a=="bigint")return a;if(typeof a=="number"&&Number.isFinite(a))return BigInt(Math.floor(a));if(typeof a=="string"){if(a.startsWith("0x"))return BigInt(a);const i=Number(a);return Number.isFinite(i)?BigInt(Math.floor(i)):0n}return 0n}for(const a of t){const i=a.blockNumber??0,c=a.args||{};switch(a.eventName){case"SharesMinted":{const l=c.to,u=r(c.amount);if(l&&u>0n){const d=s(l);d&&(d.acquired+=u,d.firstBlock==null&&(d.firstBlock=i))}break}case"SharesBurned":{const l=c.from,u=r(c.amount);if(l&&u>0n){const d=s(l);d&&(d.disposed+=u,d.acquired-d.disposed<cd&&(d.zeroedBlock=i))}break}case"Transfer":{const l=c.from,u=c.to,d=r(c.value),f="0x0000000000000000000000000000000000000000",h=!l||ui(l)===f,p=!u||ui(u)===f;if(d>0n&&!h&&!p){const b=s(l);b&&(b.disposed+=d,b.acquired-b.disposed<cd&&(b.zeroedBlock=i));const B=s(u);B&&(B.acquired+=d,B.firstBlock==null&&(B.firstBlock=i))}break}}}const o=[];for(const[a,i]of n.entries()){const c=i.acquired-i.disposed;o.push({address:a.startsWith("0x")?a:"0x"+a,sharesAcquired:i.acquired,sharesDisposed:i.disposed,currentShares:c,firstBlock:i.firstBlock,zeroedBlock:i.zeroedBlock})}return o}function Le(e){if(e==null||e===void 0)return"";const t=Number(He(e));return Wh(t)??""}function G3(e,t=1){if(e==null||e===void 0)return"";const n=Number(He(e));return yt(n,t)}function W3(e){var r;if(!e)return"";const t=e.bgtBalanceOfSmartOperator??((r=e.bgtFeeState)==null?void 0:r.currentBalance),n=e.rebaseableBgtAmount;if(t==null||n==null)return"";const s=t-n;return s<=0n?"":"("+Le(s)+")"}function li(e){if(!e||typeof e!="string")return"";const t=e.startsWith("0x")?e.slice(2):e;return t.length<=12?e:"0x"+t.slice(0,6)+""+t.slice(-4)}function K3(e){return e?e.bufferedAssets+e.stakingRewardsVaultBalance:0n}function Z3(e,t){if(!e)return null;const n=e.allocatedWithdrawalsAmount;return n===0n?null:Number(t*10000n/n)/100}function Y3(e){return e==null?"":e<100?"risk-warning":e<150?"risk-amber":""}function J3(e){if(!e)return null;const t=e.totalDeposits,n=e.minEffectiveBalance;return t<=n?0n:t-n}function X3(e){if(!e)return null;const t=e.totalDeposits;if(t===0n)return null;const n=e.minEffectiveBalance;return t<=n?0:Number((t-n)*10000n/t)/100}function Q3(e){return e==null?"":e<5?"risk-warning":e<15?"risk-amber":""}function eE(e){return(e||[]).some(t=>t.eventName==="BGTRedeemed")}const ep={address:"Address",currentShares:"Current shares",sharesAcquired:"Acquired",sharesDisposed:"Disposed",firstBlock:"First block",zeroedBlock:"Zeroed block"},tE=new Set(["currentShares","sharesAcquired","sharesDisposed"]);function nE(e,t,n){if(!e.length)return e;const s=n==="asc"?1:-1;return[...e].sort((r,o)=>{let a=0;if(t==="address")a=(r.address||"").toLowerCase().localeCompare((o.address||"").toLowerCase());else if(tE.has(t)){const i=r[t]??0n,c=o[t]??0n;a=i<c?-1:i>c?1:0}else{const i=r[t]??-1,c=o[t]??-1;a=i<c?-1:i>c?1:0}return a*s})}function sE(e,t,n){return e===n?{column:n,direction:t==="asc"?"desc":"asc"}:{column:n,direction:n==="address"?"asc":"desc"}}function rE(e,t,n){return`${ep[e]||e}, sort ${t===e?n==="asc"?"ascending":"descending":"none"}. Click to sort.`}function oE(e,t,n){const s=ep[e]||e;return t!==e?s:n==="asc"?`${s} `:`${s} `}const aE={class:"risk-card"},iE={class:"risk-label-row"},cE={class:"risk-label"},uE=["aria-expanded","aria-controls","aria-label"],lE={class:"risk-hint"},dE=["id"],fE={class:"mono info-pop-body"},hE={__name:"RiskCard",props:{label:{type:String,required:!0},hint:{type:String,default:""},math:{type:String,default:""},mathId:{type:String,required:!0},showMath:{type:Boolean,default:!1}},emits:["toggle-math"],setup(e){return(t,n)=>(O(),D("div",aE,[g("div",iE,[g("span",cE,q(e.label),1),g("button",{type:"button",class:"info-btn","aria-expanded":e.showMath,"aria-controls":e.mathId,"aria-label":"Show "+e.label.toLowerCase()+" math",onClick:n[0]||(n[0]=s=>t.$emit("toggle-math"))},"  ",8,uE)]),So(t.$slots,"default",{},void 0),g("span",lE,q(e.hint),1),e.showMath?(O(),D("div",{key:0,id:e.mathId,class:"info-pop",role:"note"},[n[1]||(n[1]=g("div",{class:"info-pop-title"},"Math",-1)),g("div",fE,q(e.math),1)],8,dE)):be("",!0)]))}},xo=lt(hE,[["__scopeId","data-v-8e8a7b21"]]),pE={class:"accordion"},bE=["aria-expanded","aria-controls","id"],mE={class:"accordion-trigger-text"},yE={key:0,class:"accordion-trigger-count"},gE=["id","aria-labelledby","hidden"],vE={__name:"AccordionItem",props:{id:{type:String,required:!0},open:{type:Boolean,default:!0}},emits:["toggle"],setup(e){return(t,n)=>(O(),D("div",pE,[g("button",{type:"button",class:"accordion-trigger","aria-expanded":e.open,"aria-controls":"accordion-"+e.id,id:"accordion-"+e.id+"-trigger",onClick:n[0]||(n[0]=s=>t.$emit("toggle"))},[g("span",mE,[So(t.$slots,"title",{},void 0)]),t.$slots.badge?(O(),D("span",yE,[So(t.$slots,"badge",{},void 0)])):be("",!0)],8,bE),g("div",{id:"accordion-"+e.id,class:"accordion-panel",role:"region","aria-labelledby":"accordion-"+e.id+"-trigger",hidden:!e.open},[So(t.$slots,"default",{},void 0)],8,gE)]))}},Hn=lt(vE,[["__scopeId","data-v-81df9e44"]]),wE={class:"drawer-panel",tabindex:"-1"},xE={class:"drawer-header"},EE={class:"drawer-address mono"},PE={key:0,class:"drawer-events","aria-label":"Events for this address"},AE={class:"event-name"},SE={class:"event-meta"},$E=["href"],kE={key:1,class:"placeholder-text"},BE={__name:"ShareholderDrawer",props:{address:{type:String,default:null},events:{type:Array,default:()=>[]},explorerUrl:{type:String,default:""}},emits:["close"],setup(e){const t=e,n=Q(null),s=Q(null);Nt(()=>t.address,o=>{o&&setTimeout(()=>{var a;return(a=s.value)==null?void 0:a.focus()},0)});function r(o){var i;if(!t.address||!n.value)return;const a=o.relatedTarget;a&&n.value.contains(a)||(i=s.value)==null||i.focus()}return(o,a)=>e.address?(O(),D("div",{key:0,ref_key:"overlayRef",ref:n,class:"drawer-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"drawer-title",onKeydown:a[1]||(a[1]=ys(i=>o.$emit("close"),["esc"])),onFocusout:r},[g("div",wE,[g("div",xE,[a[2]||(a[2]=g("h3",{id:"drawer-title",class:"drawer-title"},"Shareholder detail",-1)),g("button",{ref_key:"closeRef",ref:s,type:"button",class:"drawer-close","aria-label":"Close drawer",onClick:a[0]||(a[0]=i=>o.$emit("close"))},"  ",512)]),g("p",EE,q(e.address),1),a[3]||(a[3]=g("h4",{class:"drawer-subtitle"},"Transaction history",-1)),e.events.length>0?(O(),D("ul",PE,[(O(!0),D(Re,null,_t(e.events,(i,c)=>(O(),D("li",{key:c,class:"drawer-event-item"},[g("span",AE,q(i.eventName),1),g("span",SE,"Block "+q(i.blockNumber),1),i.transactionHash&&e.explorerUrl?(O(),D("a",{key:0,href:`${e.explorerUrl}/tx/${i.transactionHash}`,target:"_blank",rel:"noopener noreferrer",class:"event-tx-link"}," View tx ",8,$E)):be("",!0)]))),128))])):(O(),D("p",kE,"No events for this address in cache."))])],544)):be("",!0)}},IE=lt(BE,[["__scopeId","data-v-8dbe18ce"]]),CE={class:"nosy-view"},TE={class:"nosy-header"},_E={class:"nosy-header-main"},RE={class:"nosy-header-left"},NE={key:0,class:"status-pills-inline"},FE={class:"status-pill-group"},OE={class:"status-pill-group"},ME={class:"nosy-header-actions"},LE=["disabled"],DE={key:0,class:"nosy-subheader"},zE={class:"scan-error-inline",role:"alert"},UE={key:1,class:"scan-pill-row"},jE={class:"scan-pill",role:"status","aria-live":"polite"},qE={class:"scan-pill-text"},HE={key:0,class:"risk-dashboard","aria-labelledby":"risk-heading"},VE={key:0,class:"risk-error",role:"alert"},GE={class:"risk-value-pct"},WE={class:"risk-value"},KE={class:"risk-value"},ZE={class:"risk-hint"},YE={class:"accordions"},JE={key:0,class:"metric-list"},XE={key:0,class:"bgt-layout"},QE={class:"bgt-left"},eP={class:"bgt-hero-metric"},tP={class:"bgt-hero-value"},nP={class:"metric-list bgt-secondary"},sP={class:"has-info"},rP={key:0,class:"info-popup"},oP={class:"bgt-right"},aP={class:"rebase-calc"},iP={class:"calc-value"},cP={class:"calc-label"},uP={class:"calc-value calc-negative"},lP={class:"calc-total"},dP={class:"calc-label has-info"},fP={class:"calc-value"},hP={key:0,class:"info-popup"},pP={class:"incentive-layout"},bP={key:0,class:"metric-list incentive-metrics"},mP={key:1,class:"incentive-token-section","aria-labelledby":"incentive-token-heading"},yP={class:"token-balance-dl"},gP={key:0,class:"metric-list"},vP={class:"metric-list"},wP={key:0,class:"placeholder-text"},xP={class:"shareholders-wrap"},EP={class:"shareholders-table","aria-label":"Shareholders"},PP=["aria-sort","aria-label","onClick"],AP=["onClick","onKeydown"],SP={class:"mono"},$P={class:"shareholders-cards"},kP=["onClick","onKeydown"],BP={class:"card-address mono"},IP={class:"event-name"},CP={class:"event-meta"},TP=["href"],_P={key:1,class:"placeholder-text"},RP={class:"nosy-footer",role:"contentinfo"},NP={class:"footer-row"},FP={class:"footer-status"},OP=["disabled"],MP={key:0,class:"footer-reset-status",role:"status","aria-live":"polite"},ir=52,LP=320,DP={__name:"NosyView",props:{poolAddress:{type:String,default:null},explorerUrl:{type:String,default:"https://berascan.com"},scanStatus:{type:String,default:"idle"},scanError:{type:String,default:null},events:{type:Array,default:()=>[]},lastScannedBlock:{type:Number,default:null},scanStartBlock:{type:Number,default:null},tipWatcherActive:{type:Boolean,default:!1},tipBlocksScanned:{type:Number,default:0},canScan:{type:Boolean,default:!1},nosyData:{type:Object,default:null},hasReset:{type:Boolean,default:!1}},emits:["start-scan","stop-scan","start-tip-watcher","reset"],setup(e,{emit:t}){const n=e,s=t,r=ce(()=>{var P,z,te,me,w,k,M,K,V,W,se,G,ee,J,de,ae,ie,fe,we,$e,Ae,Se,ke,Ze,Ge,nt,ze;const x=n.nosyData;return x?{isLoading:((P=x.isLoading)==null?void 0:P.value)??!1,error:((z=x.error)==null?void 0:z.value)??null,totalAssets:((te=x.totalAssets)==null?void 0:te.value)??0n,totalSupply:((me=x.totalSupply)==null?void 0:me.value)??0n,bufferedAssets:((w=x.bufferedAssets)==null?void 0:w.value)??0n,totalDeposits:((k=x.totalDeposits)==null?void 0:k.value)??0n,minEffectiveBalance:((M=x.minEffectiveBalance)==null?void 0:M.value)??0n,poolPaused:((K=x.poolPaused)==null?void 0:K.value)??!1,isActive:((V=x.isActive)==null?void 0:V.value)??!1,isFullyExited:((W=x.isFullyExited)==null?void 0:W.value)??!1,stakingRewardsVaultBalance:((se=x.stakingRewardsVaultBalance)==null?void 0:se.value)??0n,protocolFeePercentage:((G=x.protocolFeePercentage)==null?void 0:G.value)??0n,rebaseableBgtAmount:((ee=x.rebaseableBgtAmount)==null?void 0:ee.value)??0n,unboostedBalance:((J=x.unboostedBalance)==null?void 0:J.value)??0n,bgtFeeState:((de=x.bgtFeeState)==null?void 0:de.value)??null,bgtBalanceOfSmartOperator:((ae=x.bgtBalanceOfSmartOperator)==null?void 0:ae.value)??null,payoutAmount:((ie=x.payoutAmount)==null?void 0:ie.value)??0n,queuedPayoutAmount:((fe=x.queuedPayoutAmount)==null?void 0:fe.value)??0n,feePercentage:((we=x.feePercentage)==null?void 0:we.value)??0n,incentiveTokenBalances:(($e=x.incentiveTokenBalances)==null?void 0:$e.value)??[],allocatedWithdrawalsAmount:((Ae=x.allocatedWithdrawalsAmount)==null?void 0:Ae.value)??0n,withdrawalVaultTotalSupply:((Se=x.withdrawalVaultTotalSupply)==null?void 0:Se.value)??0n,withdrawalRequestFee:((ke=x.withdrawalRequestFee)==null?void 0:ke.value)??0n,withdrawalVaultPaused:((Ze=x.withdrawalVaultPaused)==null?void 0:Ze.value)??!1,delegatedAmount:((Ge=x.delegatedAmount)==null?void 0:Ge.value)??0n,delegatedAmountAvailable:((nt=x.delegatedAmountAvailable)==null?void 0:nt.value)??0n,delegatedFundsPendingWithdrawal:((ze=x.delegatedFundsPendingWithdrawal)==null?void 0:ze.value)??0n}:null}),o=ce(()=>n.scanStatus==="scanning"),a=ce(()=>{const x=n.scanStartBlock,P=n.lastScannedBlock;return x==null||P==null||x<=0?null:Math.min(100,(x-P)/x*100)}),i=ce(()=>Math.min(100,Math.max(0,a.value??0))+"%");wc(()=>{n.canScan&&n.scanStatus!=="complete"&&n.scanStatus!=="scanning"?s("start-scan"):n.scanStatus==="complete"&&!n.tipWatcherActive&&s("start-tip-watcher")}),Nt(()=>n.scanStatus,x=>{x==="complete"&&!n.tipWatcherActive&&s("start-tip-watcher")});const c=ce(()=>K3(r.value)),l=ce(()=>Z3(r.value,c.value)),u=ce(()=>Y3(l.value)),d=ce(()=>J3(r.value)),f=ce(()=>X3(r.value)),h=ce(()=>Q3(f.value)),p=ce(()=>eE(n.events)),b=Q(null);function B(x){b.value=b.value===x?null:x}function E(){b.value=null}const v=Q(!1),m=Q(!1),y=ce(()=>V3(n.events||[])),S=[{key:"address"},{key:"currentShares"},{key:"sharesAcquired"},{key:"sharesDisposed"},{key:"firstBlock"},{key:"zeroedBlock"}],$=Q("currentShares"),I=Q("desc"),T=ce(()=>nE(y.value,$.value,I.value));function _(x){const P=sE($.value,I.value,x);$.value=P.column,I.value=P.direction}function L(x){return rE(x,$.value,I.value)}function N(x){return oE(x,$.value,I.value)}const U=Q(new Set);function j(x){return!U.value.has(x)}function X(x){const P=new Set(U.value);P.has(x)?P.delete(x):P.add(x),U.value=P}const A=Q(0),C=ce(()=>{const x=n.events||[],P=x.length;if(P===0)return{start:0,end:0,events:[]};const z=Math.max(0,Math.floor(A.value/ir)),te=Math.min(P-1,Math.ceil((A.value+LP)/ir)-1);return{start:z,end:te,events:x.slice(z,te+1)}}),F=ce(()=>{var x;return(((x=n.events)==null?void 0:x.length)||0)*ir}),R=ce(()=>C.value.start*ir);function H(x){var P;A.value=((P=x.target)==null?void 0:P.scrollTop)??0}const Y=Q(null);function oe(x){return!x||typeof x!="string"?"":x.toLowerCase()}const ue=ce(()=>{const x=Y.value;if(!x)return[];const P=x.toLowerCase();return[...(n.events||[]).filter(te=>{const me=te.args||{};switch(te.eventName){case"DepositSubmitted":return oe(me.receiver)===P;case"WithdrawalRequested":return oe(me.user)===P;case"Transfer":return oe(me.from)===P||oe(me.to)===P;default:return!1}})].sort((te,me)=>(te.blockNumber||0)-(me.blockNumber||0))}),ye=Q(!1),re=Q(null);async function pe(){if(!(!n.hasReset||!(!(typeof window<"u")||window.confirm("Reset Nosy browser state? This deletes the nosy-mode IndexedDB cache for all pools in this browser.")))){ye.value=!0,re.value=null;try{Y.value=null,U.value=new Set,s("reset"),re.value="Nosy state cleared."}catch(P){re.value=(P==null?void 0:P.message)??"Reset failed."}finally{ye.value=!1}}}const ve=ce(()=>{var P;const x=n.tipBlocksScanned>0?`  ${n.tipBlocksScanned} tip blocks`:"";return n.scanStatus==="scanning"?"Scanning":n.scanStatus==="complete"?`${((P=n.events)==null?void 0:P.length)??0} events cached${x}`:n.scanError?"Error":"Nosy Mode  event cache for this pool"});return(x,P)=>(O(),D("div",CE,[g("header",TE,[g("div",_E,[g("div",RE,[P[18]||(P[18]=g("h2",{class:"nosy-title",id:"nosy-heading"},"Nosy Mode",-1)),r.value?(O(),D("div",NE,[g("div",FE,[P[16]||(P[16]=g("span",{class:"status-pill-label"},"Pool",-1)),g("span",{class:qe(["pill pill-sm",r.value.poolPaused?"pill-warning":"pill-ok"])},q(r.value.poolPaused?"Paused":r.value.isFullyExited?"Exited":r.value.isActive?"Active":"Inactive"),3)]),g("div",OE,[P[17]||(P[17]=g("span",{class:"status-pill-label"},"Vault",-1)),g("span",{class:qe(["pill pill-sm",r.value.withdrawalVaultPaused?"pill-warning":"pill-ok"])},q(r.value.withdrawalVaultPaused?"Paused":"Active"),3)])])):be("",!0)]),g("div",ME,[o.value?(O(),D("button",{key:0,type:"button",class:"btn btn-sm btn-secondary","aria-label":"Stop scan",onClick:P[0]||(P[0]=z=>s("stop-scan"))}," Stop ")):e.scanStatus!=="complete"?(O(),D("button",{key:1,type:"button",class:"btn btn-sm btn-primary",disabled:!e.canScan,onClick:P[1]||(P[1]=z=>s("start-scan"))}," Scan ",8,LE)):be("",!0)])]),e.scanError?(O(),D("div",DE,[g("span",zE,q(e.scanError),1)])):o.value?(O(),D("div",UE,[g("span",jE,[g("span",{class:"scan-pill-bar",style:Wn({width:i.value})},null,4),g("span",qE,q(a.value!=null?Math.round(a.value)+"%":""),1)])])):be("",!0)]),r.value?(O(),D("section",HE,[P[19]||(P[19]=g("h3",{id:"risk-heading",class:"risk-heading"},"Risk Dashboard",-1)),r.value.error?(O(),D("p",VE,q(r.value.error),1)):(O(),D("div",{key:1,class:"risk-grid",onKeydown:ys(E,["esc"])},[Ce(xo,{label:"Liquidity coverage","math-id":"math-liquidity-coverage",hint:"Can the pool pay finalized withdrawals right now without operator action?",math:"(bufferedAssets + stakingRewardsVault.balance) / allocatedWithdrawalsAmount(pubkey)","show-math":b.value==="liquidityCoverage",onToggleMath:P[2]||(P[2]=z=>B("liquidityCoverage"))},{default:We(()=>[g("span",{class:qe(["risk-value",u.value])},q(l.value!=null?l.value.toFixed(1)+"%":""),3)]),_:1},8,["show-math"]),Ce(xo,{label:"Stake headroom","math-id":"math-floor-headroom",hint:"How much room before deposits drop below the validator's effective-balance floor?",math:"(totalDeposits - minEffectiveBalance) / totalDeposits","show-math":b.value==="floorHeadroom",onToggleMath:P[3]||(P[3]=z=>B("floorHeadroom"))},{default:We(()=>[g("span",{class:qe(["risk-value",h.value])},[Xe(q(d.value!=null?ne(G3)(d.value):"")+" BERA ",1),g("span",GE,q(f.value!=null?"("+f.value.toFixed(1)+"%)":""),1)],2)]),_:1},8,["show-math"]),Ce(xo,{label:"Available liquidity","math-id":"math-liquidity-sources",hint:"Liquid BERA available for withdrawals immediately.",math:"bufferedAssets + stakingRewardsVault.balance","show-math":b.value==="liquiditySources",onToggleMath:P[4]||(P[4]=z=>B("liquiditySources"))},{default:We(()=>[g("span",WE,q(ne(Le)(c.value))+" BERA",1)]),_:1},8,["show-math"]),Ce(xo,{label:"Potential liquidity (BGT)","math-id":"math-potential-liquidity",hint:"",math:"SmartOperator.unboostedBalance()","show-math":b.value==="potentialLiquidity",onToggleMath:P[5]||(P[5]=z=>B("potentialLiquidity"))},{default:We(()=>[g("span",KE,q(ne(Le)(r.value.unboostedBalance))+" BERA",1),g("span",ZE,"BGT worth BERA but trapped behind manual redemption. "+q(p.value?"BGT has been redeemed.":"Never redeemed."),1)]),_:1},8,["show-math"])],32))])):be("",!0),g("div",YE,[Ce(Hn,{id:"pool",open:j("pool"),onToggle:P[6]||(P[6]=z=>X("pool"))},{title:We(()=>[...P[20]||(P[20]=[Xe("Pool Financials",-1)])]),default:We(()=>[r.value?(O(),D("dl",JE,[P[21]||(P[21]=g("dt",null,"Total assets",-1)),g("dd",null,q(ne(Le)(r.value.totalAssets))+" BERA",1),P[22]||(P[22]=g("dt",null,"Total supply (shares)",-1)),g("dd",null,q(ne(Le)(r.value.totalSupply)),1),P[23]||(P[23]=g("dt",null,"Buffered assets",-1)),g("dd",null,q(ne(Le)(r.value.bufferedAssets))+" BERA",1),P[24]||(P[24]=g("dt",null,"Total deposits",-1)),g("dd",null,q(ne(Le)(r.value.totalDeposits))+" BERA",1),P[25]||(P[25]=g("dt",null,"Min effective balance",-1)),g("dd",null,q(ne(Le)(r.value.minEffectiveBalance))+" BERA",1)])):be("",!0)]),_:1},8,["open"]),Ce(Hn,{id:"bgt",open:j("bgt"),onToggle:P[9]||(P[9]=z=>X("bgt"))},{title:We(()=>[...P[26]||(P[26]=[Xe("BGT & Rewards",-1)])]),default:We(()=>{var z;return[r.value?(O(),D("div",XE,[g("div",QE,[g("div",eP,[g("span",tP,q(ne(Le)(r.value.unboostedBalance)),1),P[27]||(P[27]=g("span",{class:"bgt-hero-label"},"Redeemable BGT (unboosted)",-1))]),g("dl",nP,[g("dt",sP,[P[28]||(P[28]=Xe("Staking rewards vault ",-1)),g("button",{type:"button",class:"info-btn",onClick:P[7]||(P[7]=te=>m.value=!m.value),"aria-label":"What is the staking rewards vault?"},"?")]),g("dd",null,q(ne(Le)(r.value.stakingRewardsVaultBalance))+" BERA",1)]),m.value?(O(),D("p",rP," Receives redeemed BGT (converted to BERA) and incentive payouts. The validator must configure their CL client's fee recipient to point here for tips/MEV to flow to shareholders. Balance is included in total assets. ")):be("",!0)]),g("div",oP,[g("table",aP,[g("tbody",null,[g("tr",null,[P[29]||(P[29]=g("td",{class:"calc-label"},"BGT held",-1)),g("td",iP,q(ne(Le)(r.value.bgtBalanceOfSmartOperator??((z=r.value.bgtFeeState)==null?void 0:z.currentBalance))),1)]),g("tr",null,[g("td",cP,"Less: protocol fee ("+q(r.value.protocolFeePercentage!=null?Number(r.value.protocolFeePercentage)/100+"%":"")+")",1),g("td",uP,q(ne(W3)(r.value)),1)]),g("tr",lP,[g("td",dP,[P[30]||(P[30]=Xe("Equals: Rebaseable BGT ",-1)),g("button",{type:"button",class:"info-btn",onClick:P[8]||(P[8]=te=>v.value=!v.value),"aria-label":"What is Rebaseable BGT?"},"?")]),g("td",fP,q(ne(Le)(r.value.rebaseableBgtAmount)),1)])])]),v.value?(O(),D("p",hP,` BGT held by the SmartOperator minus the protocol fee. This amount is included in the pool's total assets calculation, meaning it "rebases" into the value of stBERA shares. `)):be("",!0)])])):be("",!0)]}),_:1},8,["open"]),Ce(Hn,{id:"incentive",open:j("incentive"),onToggle:P[10]||(P[10]=z=>X("incentive"))},{title:We(()=>[...P[31]||(P[31]=[Xe("Incentive Collector",-1)])]),default:We(()=>{var z,te;return[g("div",pP,[r.value?(O(),D("dl",bP,[P[32]||(P[32]=g("dt",null,"Payout amount",-1)),g("dd",null,q(ne(Le)(r.value.payoutAmount))+" BERA",1),P[33]||(P[33]=g("dt",null,"Queued payout amount",-1)),g("dd",null,q(ne(Le)(r.value.queuedPayoutAmount))+" BERA",1),P[34]||(P[34]=g("dt",null,"Fee percentage",-1)),g("dd",null,q(r.value.feePercentage!=null?Number(r.value.feePercentage)/100+"%":""),1)])):be("",!0),(te=(z=r.value)==null?void 0:z.incentiveTokenBalances)!=null&&te.length?(O(),D("section",mP,[P[35]||(P[35]=g("h4",{id:"incentive-token-heading",class:"incentive-token-heading"},"Token balances",-1)),g("dl",yP,[(O(!0),D(Re,null,_t(r.value.incentiveTokenBalances,me=>(O(),D(Re,{key:me.address},[g("dt",null,q(me.name||me.symbol||ne(li)(me.address)),1),g("dd",null,q(ne(Le)(me.balance)),1)],64))),128))])])):be("",!0)])]}),_:1},8,["open"]),Ce(Hn,{id:"withdrawal",open:j("withdrawal"),onToggle:P[11]||(P[11]=z=>X("withdrawal"))},{title:We(()=>[...P[36]||(P[36]=[Xe("Withdrawal Queue",-1)])]),default:We(()=>[r.value?(O(),D("dl",gP,[P[37]||(P[37]=g("dt",null,"Allocated withdrawals (this pool)",-1)),g("dd",null,q(ne(Le)(r.value.allocatedWithdrawalsAmount))+" BERA",1),P[38]||(P[38]=g("dt",null,"Request NFTs (total supply)",-1)),g("dd",null,q(r.value.withdrawalVaultTotalSupply!=null?String(r.value.withdrawalVaultTotalSupply):""),1),P[39]||(P[39]=g("dt",null,"Withdrawal request fee",-1)),g("dd",null,q(ne(Le)(r.value.withdrawalRequestFee))+" BERA",1),P[40]||(P[40]=g("dt",null,"Vault paused",-1)),g("dd",null,q(r.value.withdrawalVaultPaused?"Yes":"No"),1)])):be("",!0)]),_:1},8,["open"]),r.value&&(r.value.delegatedAmount>0n||r.value.delegatedAmountAvailable>0n)?(O(),Xt(Hn,{key:0,id:"delegation",open:j("delegation"),onToggle:P[12]||(P[12]=z=>X("delegation"))},{title:We(()=>[...P[41]||(P[41]=[Xe("Delegation",-1)])]),default:We(()=>[g("dl",vP,[P[42]||(P[42]=g("dt",null,"Delegated amount",-1)),g("dd",null,q(ne(Le)(r.value.delegatedAmount))+" BERA",1),P[43]||(P[43]=g("dt",null,"Delegated amount available",-1)),g("dd",null,q(ne(Le)(r.value.delegatedAmountAvailable))+" BERA",1),P[44]||(P[44]=g("dt",null,"Delegated funds pending withdrawal",-1)),g("dd",null,q(ne(Le)(r.value.delegatedFundsPendingWithdrawal))+" BERA",1)])]),_:1},8,["open"])):be("",!0),Ce(Hn,{id:"shareholders",open:j("shareholders"),onToggle:P[13]||(P[13]=z=>X("shareholders"))},{title:We(()=>[...P[45]||(P[45]=[Xe("Shareholders",-1)])]),default:We(()=>[y.value.length?(O(),D(Re,{key:1},[g("div",xP,[g("table",EP,[g("thead",null,[g("tr",null,[(O(),D(Re,null,_t(S,z=>g("th",{key:z.key,scope:"col"},[g("button",{type:"button",class:"th-sort","aria-sort":$.value===z.key?I.value==="asc"?"ascending":"descending":void 0,"aria-label":L(z.key),onClick:te=>_(z.key)},q(N(z.key)),9,PP)])),64))])]),g("tbody",null,[(O(!0),D(Re,null,_t(T.value,z=>(O(),D("tr",{key:z.address,class:"shareholder-row",tabindex:"0",role:"button",onClick:te=>Y.value=z.address,onKeydown:[ys(te=>Y.value=z.address,["enter"]),ys(rl(te=>Y.value=z.address,["prevent"]),["space"])]},[g("td",null,[g("span",SP,q(ne(li)(z.address)),1)]),g("td",null,q(ne(Le)(z.currentShares)),1),g("td",null,q(ne(Le)(z.sharesAcquired)),1),g("td",null,q(ne(Le)(z.sharesDisposed)),1),g("td",null,q(z.firstBlock!=null?z.firstBlock.toLocaleString():""),1),g("td",null,q(z.zeroedBlock!=null?z.zeroedBlock.toLocaleString():""),1)],40,AP))),128))])])]),g("div",$P,[(O(!0),D(Re,null,_t(T.value,z=>(O(),D("div",{key:"card-"+z.address,class:"shareholder-card",tabindex:"0",role:"button",onClick:te=>Y.value=z.address,onKeydown:[ys(te=>Y.value=z.address,["enter"]),ys(rl(te=>Y.value=z.address,["prevent"]),["space"])]},[g("div",BP,q(ne(li)(z.address)),1),g("dl",null,[P[46]||(P[46]=g("dt",null,"Current shares",-1)),g("dd",null,q(ne(Le)(z.currentShares)),1),P[47]||(P[47]=g("dt",null,"Acquired",-1)),g("dd",null,q(ne(Le)(z.sharesAcquired)),1),P[48]||(P[48]=g("dt",null,"Disposed",-1)),g("dd",null,q(ne(Le)(z.sharesDisposed)),1),P[49]||(P[49]=g("dt",null,"First block",-1)),g("dd",null,q(z.firstBlock!=null?z.firstBlock.toLocaleString():""),1),P[50]||(P[50]=g("dt",null,"Zeroed block",-1)),g("dd",null,q(z.zeroedBlock!=null?z.zeroedBlock.toLocaleString():""),1)])],40,kP))),128))])],64)):(O(),D("p",wP,"No shareholders from cached events. Run a scan to backfill."))]),_:1},8,["open"]),Ce(Hn,{id:"activity",open:j("activity"),onToggle:P[14]||(P[14]=z=>X("activity"))},{title:We(()=>[...P[51]||(P[51]=[Xe("Activity Log",-1)])]),badge:We(()=>[Xe(q(e.events.length)+" events",1)]),default:We(()=>[e.events.length>0?(O(),D("div",{key:0,class:"activity-virtual-wrap",onScroll:H},[g("div",{class:"activity-virtual-inner",style:Wn({minHeight:F.value+"px"})},[g("div",{class:"activity-virtual-window",style:Wn({transform:"translateY("+R.value+"px)"})},[(O(!0),D(Re,null,_t(C.value.events,(z,te)=>(O(),D("div",{key:z.id??C.value.start+te,class:"event-item event-item-fixed",style:Wn({height:ir+"px"})},[g("span",IP,q(z.eventName),1),g("span",CP,"Block "+q(z.blockNumber),1),z.transactionHash&&e.explorerUrl?(O(),D("a",{key:0,href:`${e.explorerUrl}/tx/${z.transactionHash}`,target:"_blank",rel:"noopener noreferrer",class:"event-tx-link"}," View tx ",8,TP)):be("",!0)],4))),128))],4)],4)],32)):(O(),D("p",_P,"No events cached. Start a scan to backfill."))]),_:1},8,["open"])]),Ce(IE,{address:Y.value,events:ue.value,"explorer-url":e.explorerUrl,onClose:P[15]||(P[15]=z=>Y.value=null)},null,8,["address","events","explorer-url"]),g("footer",RP,[g("div",NP,[g("span",FP,q(ve.value),1),e.hasReset?(O(),D("button",{key:0,type:"button",class:"btn btn-secondary btn-reset",disabled:ye.value,onClick:pe},q(ye.value?"Resetting":"Reset Nosy state"),9,OP)):be("",!0)]),re.value?(O(),D("p",MP,q(re.value),1)):be("",!0)])]))}},zP=lt(DP,[["__scopeId","data-v-70a03b16"]]);function UP(e,t,n=null,s=null,r=null){const o=Q([]),a=Q([]),i=Q(!1),c=Q(null);function l(v){if(!v||typeof v!="string")return"Staking Pool";const m=v.toLowerCase();return!m.startsWith("0x")||m.length<6?"Staking Pool":`Staking Pool ${m.slice(-4)}`}async function u(){i.value=!0,c.value=null;const v=Be(n),m=Be(s);let y=!1;if(m==="single"||m==="discovery"?y=m==="single":v&&typeof v=="object"&&Object.keys(v).length>0&&(y=Object.entries(v).filter(([$,I])=>I&&I.enabled).map(([$,I])=>({key:$,...I})).length>0),y){if(!v||typeof v!="object"||Object.keys(v).length===0){c.value='Single pool mode requires pools in config.json. Add a pool to the "pools" section, or set mode to "discovery" to use multi-pool mode.',i.value=!1;return}const S=Object.entries(v).filter(([$,I])=>I&&I.enabled).map(([$,I])=>({key:$,...I}));if(S.length===0){c.value='No enabled pools found in config.json. Set "enabled": true for at least one pool, or set mode to "discovery" to use multi-pool mode.',i.value=!1;return}await f(S)}else await h()}async function d(){i.value=!0,c.value=null;try{await h()}finally{i.value=!1}}async function f(v){try{const m=Be(e),y=await Promise.all(v.map(async S=>{try{let $="0",I=null,T="1.0",_=!1,L=!1,N=!1,U="0",j="0",X=0n,A=0n;if(S.stakingPool&&m)try{const C=await m.readContract({address:S.stakingPool,abi:Ne,functionName:"totalAssets"}),F=await m.readContract({address:S.stakingPool,abi:Ne,functionName:"totalSupply"}),R=await m.readContract({address:S.stakingPool,abi:Ne,functionName:"isActive"});L=await m.readContract({address:S.stakingPool,abi:Ne,functionName:"isFullyExited"}),_=R&&!L,F>0n&&(T=rc(C,F).toFixed(4)),$=He(C);const H=typeof C=="bigint"?C:0n;I=typeof C=="bigint"?C.toString():null,N=L&&H<Gn;const Y=(()=>{const oe=Be(r);return typeof oe=="string"?oe:null})();if(Y){const oe=await m.readContract({address:S.stakingPool,abi:Ne,functionName:"balanceOf",args:[Y]});X=oe,F>0n&&(A=C*oe/F),U=He(oe),j=He(A)}}catch(C){console.warn(`Failed to fetch metadata for config pool ${S.stakingPool}:`,C)}return{validator:{index:null,pubkey:S.validatorPubkey||"0x",balance:null,status:null},stakingPool:S.stakingPool,smartOperator:S.smartOperator,stakingRewardsVault:S.stakingRewardsVault,incentiveCollector:S.incentiveCollector,totalAssets:$,totalAssetsWei:I,userShares:U,userAssets:j,userSharesWei:X,userAssetsWei:A,exchangeRate:T,isActive:_,isFullyExited:L,isDead:N,name:S.name||l(S.stakingPool),fromConfig:!0}}catch($){return console.warn("Failed to process config pool:",$),null}}));a.value=y.filter(S=>S!==null)}catch(m){c.value=m.message||"Failed to load pools from config",console.error("Config pool loading error:",m)}finally{i.value=!1}}async function h(){try{const v=Be(t),m=Be(e);if(!v||!m){c.value="Public client and chain ID required";return}const y=await E(v,m);if(y.length>0){a.value=y;return}c.value=`No pools discovered from API for chain ${v}`}catch(v){c.value=v.message||"Failed to discover pools",console.error("Pool discovery error:",v)}finally{i.value=!1}}async function p(v,m,y){var _,L;const S=ft(v),$=S==null?void 0:S.graphqlEndpoint;if(!$)throw new Error(`No GraphQL endpoint for chain ID ${v}`);const I=await fetch($,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({query:m,variables:y})});if(!I.ok)throw new Error(`GraphQL request failed: ${I.status} ${I.statusText}`);const T=await I.json();if((_=T.errors)!=null&&_.length)throw new Error(((L=T.errors[0])==null?void 0:L.message)||"GraphQL error");return T.data}function b(v,m){const y=[];for(let S=0;S<v.length;S+=m)y.push(v.slice(S,S+m));return y}async function B(v,m){var _;const y=`
      query Validators($chain: GqlChain!, $first: Int!, $skip: Int!) {
        polGetValidators(chain: $chain, first: $first, skip: $skip) {
          pagination { currentPage pageSize totalCount totalPages }
          validators {
            id
            pubkey
            operator
            metadata { name logoURI website twitter }
            dynamicData { apy stakedBeraAmount }
          }
        }
      }
    `;let $=0;const I=[];let T=0;for(;T++<100;){const L=await p(v,y,{chain:m,first:200,skip:$}),N=L==null?void 0:L.polGetValidators,U=(N==null?void 0:N.validators)||[];if(I.push(...U),U.length<200)break;$+=200;const j=(_=N==null?void 0:N.pagination)==null?void 0:_.totalCount;if(typeof j=="number"&&I.length>=j)break}return I}async function E(v,m){var C,F,R,H,Y,oe,ue,ye;const y=ft(v);if(!y)throw new Error(`Unsupported chainId for API discovery: ${v}`);const{chainEnum:S,stakingPoolFactoryAddress:$}=y;if(!$)throw new Error(`Factory address not found for chain ID ${v}`);const I=await B(v,S);if(o.value=I,!I.length)return[];const T=I.map(re=>{var ve;const pe=(ve=re.pubkey)!=null&&ve.startsWith("0x")?re.pubkey:`0x${re.pubkey||""}`;return{address:$,abi:Es,functionName:"getCoreContracts",args:[pe]}}),_=[];for(const re of b(T,200)){const pe=await m.multicall({contracts:re,allowFailure:!0});_.push(...pe)}const L=[];for(let re=0;re<I.length;re++){const pe=I[re],ve=_[re],x=ve==null?void 0:ve.result;if(!x)continue;const P=(x[1]||"").toLowerCase();if(!P||i2(P))continue;const z=((C=pe.metadata)==null?void 0:C.name)||l(P);L.push({validator:{index:null,pubkey:pe.pubkey,balance:null,status:null,operator:pe.operator,metadata:pe.metadata||null,dynamicData:pe.dynamicData||null},stakingPool:P,smartOperator:x[0],stakingRewardsVault:x[2],incentiveCollector:x[3],totalAssets:"0",exchangeRate:"1.0",isActive:!1,isFullyExited:!1,isDead:!1,name:z,polApy:((F=pe.dynamicData)==null?void 0:F.apy)??null,polStakedBeraAmount:((R=pe.dynamicData)==null?void 0:R.stakedBeraAmount)??null})}if(!L.length)return[];const N=[];for(const re of L)N.push({address:re.stakingPool,abi:Ne,functionName:"totalAssets"}),N.push({address:re.stakingPool,abi:Ne,functionName:"totalSupply"}),N.push({address:re.stakingPool,abi:Ne,functionName:"isActive"}),N.push({address:re.stakingPool,abi:Ne,functionName:"isFullyExited"});const U=[];for(const re of b(N,400)){const pe=await m.multicall({contracts:re,allowFailure:!0});U.push(...pe)}const j=(()=>{const re=Be(r);return typeof re=="string"?re:null})();console.log("[usePoolDiscovery] loadPoolsFromApi: account =",j,"pools =",L.length);const X=[];if(j)for(const re of L)X.push({address:re.stakingPool,abi:Ne,functionName:"balanceOf",args:[j]});const A=[];for(const re of b(X,400)){const pe=await m.multicall({contracts:re,allowFailure:!0});A.push(...pe)}for(let re=0;re<L.length;re++){const pe=re*4,ve=((H=U[pe])==null?void 0:H.result)??0n,x=((Y=U[pe+1])==null?void 0:Y.result)??0n,P=!!(((oe=U[pe+2])==null?void 0:oe.result)??!1),z=!!(((ue=U[pe+3])==null?void 0:ue.result)??!1);if(L[re].isFullyExited=z,L[re].isActive=P&&!z,L[re].totalAssetsWei=typeof ve=="bigint"?ve.toString():null,L[re].isDead=z&&typeof ve=="bigint"&&ve<Gn,typeof ve=="bigint"&&typeof x=="bigint"&&(x>0n&&(L[re].exchangeRate=rc(ve,x).toFixed(4)),L[re].totalAssets=He(ve)),j){const te=((ye=A[re])==null?void 0:ye.result)??0n;if(L[re].userSharesWei=te,L[re].userShares=typeof te=="bigint"?He(te):"0",typeof te=="bigint"&&typeof ve=="bigint"&&typeof x=="bigint"&&x>0n){const me=ve*te/x;L[re].userAssetsWei=me,L[re].userAssets=He(me),me>0n&&console.log(`[Discovery] Pool ${L[re].stakingPool}: ${He(te)} shares = ${He(me)} BERA`)}else L[re].userAssetsWei=0n,L[re].userAssets="0"}}return L.sort((re,pe)=>(re.stakingPool||"").localeCompare(pe.stakingPool||""))}return{validators:o,pools:a,isLoading:i,error:c,discoverPools:u,discoverPoolsFromApi:d}}function jP(){return new Promise((e,t)=>{const n=indexedDB.open(Qh,H3);n.onerror=()=>t(n.error),n.onsuccess=()=>e(n.result),n.onupgradeneeded=s=>{const r=s.target.result;if(r.objectStoreNames.contains(Ko)||r.createObjectStore(Ko,{keyPath:"poolKey"}).createIndex("byChain","chainId",{unique:!1}),!r.objectStoreNames.contains(ts)){const o=r.createObjectStore(ts,{keyPath:"id",autoIncrement:!0});o.createIndex("byPool",["chainId","poolAddress"],{unique:!1}),o.createIndex("byPoolBlock",["chainId","poolAddress","blockNumber"],{unique:!1})}r.objectStoreNames.contains(qs)||r.createObjectStore(qs,{keyPath:"poolKey"})}})}function qP(){return new Promise((e,t)=>{const n=indexedDB.deleteDatabase(Qh);n.onerror=()=>t(n.error),n.onblocked=()=>e("blocked"),n.onsuccess=()=>e("success")})}function Eo(e,t){const n=typeof t=="string"?t.toLowerCase():"";return`${e}:${n}`}function HP(e,t,n){return new Promise((s,r)=>{const a=e.transaction(Ko,"readwrite").objectStore(Ko),i={poolKey:t,...n,createdAt:Date.now()},c=a.put(i);c.onsuccess=()=>s(),c.onerror=()=>r(c.error)})}function ud(e,t,n,s=null){return new Promise((r,o)=>{const a=e.transaction(ts,"readonly"),i=a.objectStore(ts).index("byPool"),c=n.toLowerCase();if(s){const l=a.objectStore(ts).index("byPoolBlock"),u=IDBKeyRange.bound([t,c,s.fromBlock],[t,c,s.toBlock],!1,!1),d=l.getAll(u);d.onsuccess=()=>r(d.result||[]),d.onerror=()=>o(d.error)}else{const l=IDBKeyRange.only([t,c]),u=i.getAll(l);u.onsuccess=()=>r(u.result||[]),u.onerror=()=>o(u.error)}})}function cr(e,t){return new Promise((n,s)=>{const o=e.transaction(qs,"readonly").objectStore(qs).get(t);o.onsuccess=()=>n(o.result),o.onerror=()=>s(o.error)})}function VP(e,t){const n=[...e,{fromBlock:t.fromBlock,toBlock:t.toBlock}];n.sort((r,o)=>r.fromBlock-o.fromBlock);const s=[];for(const r of n){if(s.length===0){s.push({...r});continue}const o=s[s.length-1];r.fromBlock<=o.toBlock+1?o.toBlock=Math.max(o.toBlock,r.toBlock):s.push({...r})}return s}function GP(e,t,n,s,r,o){return new Promise((a,i)=>{const c=e.transaction([ts,qs],"readwrite"),l=c.objectStore(ts),u=c.objectStore(qs);for(const f of t)l.add(f);const d={poolKey:n,chainId:s,poolAddress:r.toLowerCase(),ranges:o,updatedAt:Date.now()};u.put(d),c.oncomplete=()=>a(),c.onerror=()=>i(c.error)})}const WP=e=>new Promise(t=>setTimeout(t,e));function KP(e,t,n){const s={};if(e.args&&typeof e.args=="object")for(const[r,o]of Object.entries(e.args))typeof r=="string"&&!/^\d+$/.test(r)&&(s[r]=o);return{chainId:t,poolAddress:n.toLowerCase(),blockNumber:Number(e.blockNumber),transactionHash:e.transactionHash||"",eventName:e.eventName||"Unknown",sourceAddress:(e.address||"").toLowerCase(),args:s}}async function ZP(e,t,n,s){const r=BigInt(t),o=BigInt(n);if(Number(o-r+1n)<=id)return e.getLogs({address:s,events:sc,fromBlock:r,toBlock:o});const i=[],c=BigInt(id);let l=r;for(;l<=o;){const u=l+c-1n>o?o:l+c-1n,d=await e.getLogs({address:s,events:sc,fromBlock:l,toBlock:u});i.push(...d),l=u+1n,l<=o&&await WP(z3)}return i}const YP=e=>new Promise(t=>setTimeout(t,e));function JP(e,t,n,s,r,o){const a=Q("idle"),i=Q(null),c=Q([]),l=Q([]),u=Q(null),d=Q(null),f=Q(!1),h=Q(0);let p=null,b=null,B=!1;async function E(){return p||(p=await jP(),p)}async function v(_,L,N,U,j,X,A,C){var ve,x;const F=[N,U,j,X].filter(Boolean).map(P=>P.toLowerCase());if(F.length===0)return!1;const R=await ZP(_,A,C,F);let H=!1;const Y=[];for(const P of R)P.eventName==="Initialized"&&((ve=P.address)==null?void 0:ve.toLowerCase())===N.toLowerCase()&&(H=!0),!(P.eventName==="Initialized"&&((x=P.address)==null?void 0:x.toLowerCase())!==N.toLowerCase())&&Y.push(KP(P,L,N));const oe=await E(),ue=Eo(L,N),ye=await cr(oe,ue),re=(ye==null?void 0:ye.ranges)||[],pe=VP(re,{fromBlock:A,toBlock:C});return await GP(oe,Y,ue,L,N,pe),H}async function m(){const _=Be(e),L=Be(t),N=Be(n),U=Be(s),j=Be(r),X=Be(o);if(!_||L==null||!N){i.value="Missing public client, chain ID, or pool address",a.value="error";return}if(!U||!j||!X){i.value="Smart operator, withdrawal vault, and factory addresses required for scan",a.value="error";return}B=!1,i.value=null,a.value="scanning";try{await E();const A=Eo(L,N);await HP(p,A,{chainId:L,poolAddress:N.toLowerCase(),smartOperatorAddress:U.toLowerCase(),withdrawalVaultAddress:j.toLowerCase()});const C=await ud(p,L,N);if(C.some(ue=>{var ye;return ue.eventName==="Initialized"&&((ye=ue.sourceAddress)==null?void 0:ye.toLowerCase())===N.toLowerCase()})){a.value="complete",d.value=null,l.value=C.sort((ye,re)=>ye.blockNumber-re.blockNumber);const ue=await cr(p,A);c.value=(ue==null?void 0:ue.ranges)||[];return}let H=Number(await _.getBlockNumber());const Y=await cr(p,A),oe=(Y==null?void 0:Y.ranges)||[];if(oe.length>0&&(H=Math.min(...oe.map(ye=>ye.fromBlock))-1,H<ar)){a.value="complete",u.value=ar,d.value=null,await y();return}for(d.value=H,u.value=H;!B&&H>=ar;){const ue=Math.max(ar,H-U3+1),ye=await v(_,L,N,U,j,X,ue,H);if(u.value=ue,ye){a.value="complete",d.value=null,await y();return}H=ue-1,await YP(j3)}H<ar&&(a.value="complete"),d.value=null,await y()}catch(A){i.value=(A==null?void 0:A.message)||"Scan failed",a.value="error",d.value=null,console.error("[usePoolEventScan]",A)}}async function y(){const _=Be(t),L=Be(n);if(!(_==null||!L))try{const N=await E(),U=Eo(_,L),[j,X]=await Promise.all([ud(N,_,L),cr(N,U)]);j.sort((C,F)=>C.blockNumber-F.blockNumber),l.value=j,c.value=(X==null?void 0:X.ranges)||[],j.some(C=>{var F;return C.eventName==="Initialized"&&((F=C.sourceAddress)==null?void 0:F.toLowerCase())===L.toLowerCase()})&&a.value==="idle"&&(a.value="complete")}catch(N){console.error("[usePoolEventScan] loadEventsFromDb",N)}}async function S(){const _=Be(e),L=Be(t),N=Be(n),U=Be(s),j=Be(r);if(!(!_||L==null||!N||!U||!j))try{const X=await E(),A=Eo(L,N),C=Number(await _.getBlockNumber()),F=await cr(X,A),R=(F==null?void 0:F.ranges)||[],H=R.length>0?Math.max(...R.map(ue=>ue.toBlock)):0;if(C<=H)return;const Y=H+1,oe=C;await v(_,L,N,U,j,Y,oe),h.value+=oe-Y+1,await y()}catch(X){console.warn("[usePoolEventScan] tip scan failed",X)}}function $(){b||(f.value=!0,b=setInterval(S,q3))}function I(){B=!0,b&&(clearInterval(b),b=null),f.value=!1,a.value==="scanning"&&(a.value="idle")}function T(){var _;I(),i.value=null,a.value="idle",c.value=[],l.value=[],u.value=null,d.value=null,h.value=0;try{(_=p==null?void 0:p.close)==null||_.call(p)}catch{}p=null}return Nt([t,n],()=>{y()},{immediate:!0}),cs(()=>{I()}),{scanStatus:a,scanError:i,scannedRanges:c,events:l,lastScannedBlock:u,scanStartBlock:d,tipWatcherActive:f,tipBlocksScanned:h,startScan:m,stopScan:I,resetState:T,loadEventsFromDb:y,startTipWatcher:$}}const XP=15e3;function QP(e,t,n,s,r,o,a,i,c,l=Q(!0)){const u=Q(!1),d=Q(null),f=Q(0n),h=Q(0n),p=Q(0n),b=Q(0n),B=Q(0n),E=Q(!1),v=Q(!1),m=Q(!1),y=Q(0n),S=Q(0n),$=Q(0n),I=Q(0n),T=Q(null),_=Q(null),L=Q(0n),N=Q(0n),U=Q(0n),j=Q([]),X=Q(0n),A=Q(0n),C=Q(0n),F=Q(!1),R=Q(0n),H=Q(0n),Y=Q(0n);let oe=null;async function ue(){var W,se,G,ee,J,de,ae,ie,fe,we,$e,Ae,Se,ke,Ze,Ge,nt,ze,Fe,st,Qs,er,vu,wu,xu,Eu;const pe=Be(e),ve=Be(t),x=Be(n),P=Be(s),z=Be(r),te=Be(o),me=Be(a),w=Be(i),k=Be(c);if(!pe||!x)return;u.value=!0,d.value=null;const M=ve!=null?ft(ve):null,K=(M==null?void 0:M.bgtAddress)??null,V=(M==null?void 0:M.knownIncentiveTokenAddresses)??[];try{const Ie=[];Ie.push({address:x,abi:Ne,functionName:"totalAssets"}),Ie.push({address:x,abi:Ne,functionName:"totalSupply"}),Ie.push({address:x,abi:Ne,functionName:"bufferedAssets"}),Ie.push({address:x,abi:Ne,functionName:"totalDeposits"}),Ie.push({address:x,abi:Ne,functionName:"minEffectiveBalance"}),Ie.push({address:x,abi:Ne,functionName:"paused"}),Ie.push({address:x,abi:Ne,functionName:"isActive"}),Ie.push({address:x,abi:Ne,functionName:"isFullyExited"});let ka=0,Pu=0,Au=0,Su=0;if(P&&(Ie.push({address:P,abi:vo,functionName:"protocolFeePercentage"}),Ie.push({address:P,abi:vo,functionName:"rebaseableBgtAmount"}),Ie.push({address:P,abi:vo,functionName:"unboostedBalance"}),Ie.push({address:P,abi:vo,functionName:"getEarnedBGTFeeState"}),ka=4,K&&(Ie.push({address:K,abi:sd,functionName:"balanceOf",args:[P]}),ka+=1)),te&&k){const rt=k.startsWith("0x")?k:"0x"+k;Ie.push({address:te,abi:Jt,functionName:"allocatedWithdrawalsAmount",args:[rt]}),Ie.push({address:te,abi:Jt,functionName:"totalSupply"}),Ie.push({address:te,abi:Jt,functionName:"getWithdrawalRequestFee"}),Ie.push({address:te,abi:Jt,functionName:"paused"}),Pu=4}if(me&&(Ie.push({address:me,abi:yr,functionName:"payoutAmount"}),Ie.push({address:me,abi:yr,functionName:"queuedPayoutAmount"}),Ie.push({address:me,abi:yr,functionName:"feePercentage"}),Au=3,V.length))for(const rt of V)Ie.push({address:rt,abi:rd,functionName:"name"}),Ie.push({address:rt,abi:rd,functionName:"symbol"}),Ie.push({address:rt,abi:sd,functionName:"balanceOf",args:[me]});w&&(Ie.push({address:w,abi:Co,functionName:"delegatedAmount"}),Ie.push({address:w,abi:Co,functionName:"delegatedAmountAvailable"}),Ie.push({address:w,abi:Co,functionName:"delegatedFundsPendingWithdrawal"}),Su=3);const Me=await pe.multicall({contracts:Ie,allowFailure:!0});let ge=0;if(f.value=((W=Me[ge])==null?void 0:W.result)??0n,ge++,h.value=((se=Me[ge])==null?void 0:se.result)??0n,ge++,p.value=((G=Me[ge])==null?void 0:G.result)??0n,ge++,b.value=((ee=Me[ge])==null?void 0:ee.result)??0n,ge++,B.value=((J=Me[ge])==null?void 0:J.result)??0n,ge++,E.value=!!(((de=Me[ge])==null?void 0:de.result)??!1),ge++,v.value=!!(((ae=Me[ge])==null?void 0:ae.result)??!1),ge++,m.value=!!(((ie=Me[ge])==null?void 0:ie.result)??!1),ge++,ka){S.value=((fe=Me[ge])==null?void 0:fe.result)??0n,ge++,$.value=((we=Me[ge])==null?void 0:we.result)??0n,ge++,I.value=(($e=Me[ge])==null?void 0:$e.result)??0n,ge++;const rt=(Ae=Me[ge])==null?void 0:Ae.result;ge++,T.value=rt&&Array.isArray(rt)?{currentBalance:rt[0],bgtBalanceAlreadyCharged:rt[1],chargeableBalance:rt[2],protocolFeePercentage:rt[3]}:null,K?(_.value=((Se=Me[ge])==null?void 0:Se.result)??null,ge++):_.value=null}else S.value=0n,$.value=0n,I.value=0n,T.value=null,_.value=null;Pu?(X.value=((ke=Me[ge])==null?void 0:ke.result)??0n,ge++,A.value=((Ze=Me[ge])==null?void 0:Ze.result)??0n,ge++,C.value=((Ge=Me[ge])==null?void 0:Ge.result)??0n,ge++,F.value=!!(((nt=Me[ge])==null?void 0:nt.result)??!1),ge++):(X.value=0n,A.value=0n,C.value=0n,F.value=!1),Au?(L.value=((ze=Me[ge])==null?void 0:ze.result)??0n,ge++,N.value=((Fe=Me[ge])==null?void 0:Fe.result)??0n,ge++,U.value=((st=Me[ge])==null?void 0:st.result)??0n,ge++):(L.value=0n,N.value=0n,U.value=0n);const $u=[];if(V.length)for(let rt=0;rt<V.length;rt++){const np=((Qs=Me[ge])==null?void 0:Qs.result)??null;ge++;const sp=((er=Me[ge])==null?void 0:er.result)??null;ge++;const rp=((vu=Me[ge])==null?void 0:vu.result)??0n;ge++,$u.push({address:V[rt],name:np,symbol:sp,balance:rp})}j.value=$u,Su?(R.value=((wu=Me[ge])==null?void 0:wu.result)??0n,ge++,H.value=((xu=Me[ge])==null?void 0:xu.result)??0n,ge++,Y.value=((Eu=Me[ge])==null?void 0:Eu.result)??0n,ge++):(R.value=0n,H.value=0n,Y.value=0n),z?y.value=await pe.getBalance({address:z}):y.value=0n}catch(Ie){console.error("[useNosyData] fetch failed:",Ie),d.value=(Ie==null?void 0:Ie.message)??"Failed to load Nosy data"}finally{u.value=!1}}function ye(){oe&&(clearInterval(oe),oe=null)}function re(){ye(),ue(),oe=setInterval(ue,XP)}return Nt([e,t,n,l],([pe,ve,x,P])=>{if(!P||!pe||ve==null||!x){ye();return}re()},{immediate:!0}),cs(ye),{isLoading:u,error:d,fetch:ue,startPolling:re,stopPolling:ye,totalAssets:f,totalSupply:h,bufferedAssets:p,totalDeposits:b,minEffectiveBalance:B,poolPaused:E,isActive:v,isFullyExited:m,stakingRewardsVaultBalance:y,protocolFeePercentage:S,rebaseableBgtAmount:$,unboostedBalance:I,bgtFeeState:T,bgtBalanceOfSmartOperator:_,payoutAmount:L,queuedPayoutAmount:N,feePercentage:U,incentiveTokenBalances:j,allocatedWithdrawalsAmount:X,withdrawalVaultTotalSupply:A,withdrawalRequestFee:C,withdrawalVaultPaused:F,delegatedAmount:R,delegatedAmountAvailable:H,delegatedFundsPendingWithdrawal:Y}}const eA={class:"app"},tA={class:"header"},nA={class:"header-content"},sA={class:"logo"},rA=["src"],oA={class:"logo-text"},aA={class:"main"},iA={class:"container"},cA={key:0,class:"loading"},uA={key:1,class:"error-state"},lA={key:1,class:"error-state"},dA={key:5,class:"nosy-disabled-notice"},fA={__name:"App",setup(e){const t=Q(null),n=Q(null),s=Q(!0),r=Q(null),o=Q("0"),a=Q("stake"),i=Q(!1),c=ce(()=>{var x,P,z;return((z=ft((P=(x=t.value)==null?void 0:x.network)==null?void 0:P.chainId))==null?void 0:z.explorerUrl)||"https://berascan.com"}),l=ce(()=>{var x,P,z;return((z=ft((P=(x=t.value)==null?void 0:x.network)==null?void 0:P.chainId))==null?void 0:z.stakingPoolFactoryAddress)??null}),u=ce(()=>{var te,me,w;const x=(te=n.value)==null?void 0:te.validatorPubkey,P=(w=(me=t.value)==null?void 0:me.network)==null?void 0:w.chainId;if(!x||typeof x!="string")return null;const z=ft(P);return z!=null&&z.hubBaseUrl?`${z.hubBaseUrl}/boost/${encodeURIComponent(x)}`:null}),d=ce(()=>{var x;return((x=t.value)==null?void 0:x.nosyMode)===!0}),f=ce(()=>{var me;const x=T.pendingCount.value,P=(a.value==="stake"||a.value==="withdraw")&&m.value&&x>0,z=((me=t.value)==null?void 0:me.mode)||"single",te=[{id:"discover",label:"Discover",icon:""},{id:"stake",label:"Stake",icon:""},{id:"withdraw",label:"Withdraw",icon:"",badge:P?x:null},...d.value?[{id:"nosy",label:"Nosy",icon:""}]:[]];return z==="single"?te.filter(w=>w.id!=="discover"):te});function h(x){var z;return(((z=t.value)==null?void 0:z.mode)||"single")==="single"&&x==="discover"||x==="nosy"&&!d.value?"stake":x==="discover"||x==="stake"||x==="withdraw"||x==="nosy"?x:null}function p(){const x=new URLSearchParams(window.location.search),P=h(x.get("tab")),z=x.get("pool"),te=x.get("pubkey");return{tab:P,pool:z,pubkey:te}}function b(x){if(!x||typeof x!="string")return"Staking Pool";const P=x.toLowerCase();return!P.startsWith("0x")||P.length<6?"Staking Pool":`Staking Pool ${P.slice(-4)}`}function B(x,P="push"){const z=new URLSearchParams(window.location.search);x.tab?z.set("tab",x.tab):z.delete("tab"),x.pool?z.set("pool",x.pool):z.delete("pool"),x.pubkey?z.set("pubkey",x.pubkey):z.delete("pubkey");const te=z.toString(),me=te?`${window.location.pathname}?${te}`:window.location.pathname;P==="replace"?window.history.replaceState({},"",me):window.history.pushState({},"",me)}async function E(x){var P,z,te,me,w,k,M;i.value=!0;try{x.tab&&(a.value=x.tab);const K=x.pool&&o2(x.pool),V=x.pubkey&&a2(x.pubkey);if(K&&V){if(m.value=x.pool,n.value={name:((P=n.value)==null?void 0:P.name)||b(x.pool),validatorPubkey:x.pubkey,stakingPool:x.pool,enabled:!0},v.publicClient.value)try{const W=ft((te=(z=t.value)==null?void 0:z.network)==null?void 0:te.chainId),se=W==null?void 0:W.stakingPoolFactoryAddress;if(!se)throw new Error("Chain not configured");const G=await v.publicClient.value.readContract({address:se,abi:Es,functionName:"getCoreContracts",args:[x.pubkey]});G&&(n.value={...n.value,smartOperator:G[0]||((me=n.value)==null?void 0:me.smartOperator),stakingRewardsVault:G[2]||((w=n.value)==null?void 0:w.stakingRewardsVault),...G[3]&&{incentiveCollector:G[3]}})}catch{}if(v.publicClient.value)try{const W=ft((M=(k=t.value)==null?void 0:k.network)==null?void 0:M.chainId),se=W==null?void 0:W.delegationHandlerFactoryAddress;if(!se)throw new Error("Chain not configured");const G=await v.publicClient.value.readContract({address:se,abi:ii,functionName:"delegationHandlers",args:[x.pubkey]});y.value=G&&G!=="0x0000000000000000000000000000000000000000"?G:null}catch{y.value=null}await $.loadPoolData(),v.isConnected.value&&await $.loadUserData()}}finally{i.value=!1}}const v=c2(),m=Q(null),y=Q(null),S=ce(()=>{var x;return((x=n.value)==null?void 0:x.incentiveCollector)||null}),$=u2(v.publicClient,v.walletClient,m,v.account,y,S),I=Q(null),T=p2(v.publicClient,v.walletClient,I,m,ce(()=>{var x;return((x=n.value)==null?void 0:x.validatorPubkey)||null}),v.account,ce(()=>{var x,P;return((P=(x=t.value)==null?void 0:x.network)==null?void 0:P.chainId)||null})),_=JP(v.publicClient,ce(()=>{var x,P;return((P=(x=t.value)==null?void 0:x.network)==null?void 0:P.chainId)??null}),m,ce(()=>{var x;return((x=n.value)==null?void 0:x.smartOperator)??null}),I,l),L=ce(()=>{var x;return!!m.value&&!!((x=n.value)!=null&&x.smartOperator)&&!!I.value}),N=ce(()=>a.value==="nosy"&&!!m.value),U=QP(v.publicClient,ce(()=>{var x,P;return((P=(x=t.value)==null?void 0:x.network)==null?void 0:P.chainId)??null}),m,ce(()=>{var x;return((x=n.value)==null?void 0:x.smartOperator)??null}),ce(()=>{var x;return((x=n.value)==null?void 0:x.stakingRewardsVault)??null}),I,S,y,ce(()=>{var x;return((x=n.value)==null?void 0:x.validatorPubkey)??null}),N);async function j(){var x,P,z;try{(x=_.resetState)==null||x.call(_),await qP(),await((P=_.loadEventsFromDb)==null?void 0:P.call(_)),await((z=U.fetch)==null?void 0:z.call(U))}catch(te){throw console.warn("[App] resetNosyBrowserState failed:",te),te}}const X=UP(v.publicClient,ce(()=>{var x,P;return(P=(x=t.value)==null?void 0:x.network)==null?void 0:P.chainId}),ce(()=>{var x;return(x=t.value)==null?void 0:x.pools}),ce(()=>{var x;return(x=t.value)==null?void 0:x.mode}),v.account);async function A(){var x,P,z,te,me,w,k,M,K,V,W,se;s.value=!0,r.value=null;try{let G=await t2();const ee=(x=G.network)==null?void 0:x.chainId;if(ee!=null&&typeof ee=="number"){const Se=ft(ee);Se&&(G={...G,network:{name:((P=G.network)==null?void 0:P.name)??Se.name,chainId:ee,rpcUrl:((z=G.network)==null?void 0:z.rpcUrl)??Se.rpcUrl,explorerUrl:((te=G.network)==null?void 0:te.explorerUrl)??Se.explorerUrl,...G.network}})}t.value=G,(me=G.branding)!=null&&me.theme&&n2(G.branding.theme),await v.initializeChain(G),await v.reconnect();const de=(G.mode||"single")==="discovery",ie=Object.entries(G.pools||{}).filter(([Se,ke])=>ke.enabled).map(([Se,ke])=>({key:Se,...ke}))[0]||null;if(!de){if(!ie)throw new Error('Single pool mode requires at least one enabled pool in config.json. Add a pool to the "pools" section, or set "mode": "discovery" to use multi-pool mode.');n.value=ie;const Se=ie.validatorPubkey;if(!Se||typeof Se!="string"||Se.length!==98)throw new Error("Single pool mode requires a valid validatorPubkey (98 hex chars) in the pool config.");let ke=ie.stakingPool,Ze=ie.incentiveCollector;if(!ke||ke==="0x0000000000000000000000000000000000000000"){let ze;try{const st=ft((w=G.network)==null?void 0:w.chainId);ze=await v.publicClient.value.readContract({address:st.stakingPoolFactoryAddress,abi:Es,functionName:"getCoreContracts",args:[Se]})}catch{throw new Error("Could not resolve staking pool from chain. Check RPC and chain ID (80069 or 80094).")}const Fe=(ze==null?void 0:ze.stakingPool)??(ze==null?void 0:ze[1]);if(!Fe||Fe==="0x0000000000000000000000000000000000000000")throw new Error("No staking pool found for this validator. Ensure the pool is deployed on this chain.");ke=Fe,Ze=(ze==null?void 0:ze.incentiveCollector)??(ze==null?void 0:ze[3])??null}let Ge=ie.smartOperator,nt=ie.stakingRewardsVault;if((!Ge||!nt)&&v.publicClient.value)try{const ze=ft((k=G.network)==null?void 0:k.chainId),Fe=await v.publicClient.value.readContract({address:ze.stakingPoolFactoryAddress,abi:Es,functionName:"getCoreContracts",args:[ie.validatorPubkey]});Ge=(Fe==null?void 0:Fe[0])??Ge,nt=(Fe==null?void 0:Fe[2])??nt}catch{}m.value=ke,n.value={...ie,stakingPool:ke,incentiveCollector:Ze||ie.incentiveCollector,smartOperator:Ge||ie.smartOperator,stakingRewardsVault:nt||ie.stakingRewardsVault}}let fe=(M=G.contracts)==null?void 0:M.withdrawalVault;if(!fe||fe==="0x0000000000000000000000000000000000000000")try{const Se=ft((K=G.network)==null?void 0:K.chainId);if(fe=await v.publicClient.value.readContract({address:Se.stakingPoolFactoryAddress,abi:Es,functionName:"withdrawalVault"}),!fe||fe==="0x0000000000000000000000000000000000000000")throw new Error("Withdrawal vault not found on chain.")}catch{throw new Error("Could not resolve withdrawal vault from factory. Check RPC and chain ID.")}I.value=fe;let we=(V=G.contracts)==null?void 0:V.delegationHandler;const $e=ie==null?void 0:ie.validatorPubkey;if((!we||we==="0x0000000000000000000000000000000000000000")&&$e&&v.publicClient.value)try{const Se=ft((W=G.network)==null?void 0:W.chainId),ke=Se==null?void 0:Se.delegationHandlerFactoryAddress;if(!ke)throw new Error("Delegation handler factory address not configured for this chain.");we=await v.publicClient.value.readContract({address:ke,abi:ii,functionName:"delegationHandlers",args:[$e]})}catch{throw new Error("Could not resolve delegation handler from factory. Check RPC and chain ID.")}y.value=we&&we!=="0x0000000000000000000000000000000000000000"?we:null;const Ae=p();de&&(Ae.pool||Ae.pubkey)?await E(Ae):Ae.tab&&(a.value=Ae.tab),B({tab:a.value==="stake"?null:a.value,pool:de?m.value:null,pubkey:de?(se=n.value)==null?void 0:se.validatorPubkey:null},"replace"),m.value&&await $.loadPoolData()}catch(G){console.error("Initialization failed:",G),r.value=G.message||"Failed to initialize"}finally{s.value=!1}}async function C(){if(!v.isConnected.value||!v.publicClient.value){o.value="0";return}try{const x=await v.publicClient.value.getBalance({address:v.account.value});o.value=parseFloat(He(x)).toFixed(4)}catch(x){console.error("Failed to load balance:",x),o.value="0"}}async function F(x,{resolve:P,reject:z}){try{const te=await $.stake(x);await C(),P(te)}catch(te){z(te)}}async function R(x,P){const z=await $.previewDeposit(x);P(z)}async function H(x,P,{resolve:z,reject:te}){var me;try{const w=await T.requestRedeem(x,((me=n.value)==null?void 0:me.validatorPubkey)||"0x",P);await $.loadUserData(),z(w)}catch(w){te(w)}}async function Y(x,P){const z=await $.previewRedeem(x);P(z.success?z.assets:0n)}async function oe(x,{resolve:P,reject:z}){try{const te=await T.finalizeWithdrawal(x);await C(),P(te)}catch(te){z(te)}}async function ue(x,{resolve:P,reject:z}){try{const te=await T.finalizeMultiple(x);await C(),P(te)}catch(te){z(te)}}Nt(()=>v.isConnected.value,async x=>{x&&await Promise.all([C(),$.loadUserData(),T.loadWithdrawalRequests(),a.value==="discover"?X.discoverPoolsFromApi():X.discoverPools()])}),Nt(a,async x=>{x==="discover"?await X.discoverPoolsFromApi():v.isConnected.value&&(x==="stake"||x==="withdraw")&&await T.loadWithdrawalRequests()}),Nt([a,m,()=>{var x;return(x=n.value)==null?void 0:x.validatorPubkey}],([x,P,z])=>{var w;if(i.value)return;const me=(((w=t.value)==null?void 0:w.mode)||"single")==="discovery";B(x==="discover"?{tab:"discover",pool:null,pubkey:null}:me?{tab:x,pool:P,pubkey:z}:{tab:x==="stake"?null:x,pool:null,pubkey:null},"push")});async function ye(x){var P,z;if(m.value=x.stakingPool,n.value={name:x.name||"Staking Pool",validatorPubkey:x.validator.pubkey,stakingPool:x.stakingPool,smartOperator:x.smartOperator,stakingRewardsVault:x.stakingRewardsVault,incentiveCollector:x.incentiveCollector,enabled:!0},x.validator.pubkey&&v.publicClient.value)try{const te=ft((z=(P=t.value)==null?void 0:P.network)==null?void 0:z.chainId),me=te==null?void 0:te.delegationHandlerFactoryAddress;if(!me)y.value=null;else{const w=await v.publicClient.value.readContract({address:me,abi:ii,functionName:"delegationHandlers",args:[x.validator.pubkey]});y.value=w&&w!=="0x0000000000000000000000000000000000000000"?w:null}}catch{y.value=null}await $.loadPoolData(),v.isConnected.value&&(await $.loadUserData(),await T.loadWithdrawalRequests()),a.value="stake"}let re=null,pe=null;async function ve(){document.visibilityState!=="hidden"&&m.value&&(await $.loadPoolData(),v.isConnected.value&&(await $.loadUserData(),a.value==="withdraw"&&await T.loadWithdrawalRequests()))}return wc(()=>{A(),window.addEventListener("popstate",async()=>{if(!t.value)return;const x=p();await E(x)}),pe=()=>{document.visibilityState==="visible"&&ve()},document.addEventListener("visibilitychange",pe),re=setInterval(ve,f2)}),cs(()=>{re&&clearInterval(re),pe&&document.removeEventListener("visibilitychange",pe)}),(x,P)=>{var z,te,me,w,k,M,K,V,W,se,G,ee,J,de,ae,ie,fe,we;return O(),D("div",eA,[g("header",tA,[g("div",nA,[g("div",sA,[(te=(z=t.value)==null?void 0:z.branding)!=null&&te.logo?(O(),D("img",{key:0,src:t.value.branding.logo,alt:"Logo",class:"logo-img"},null,8,rA)):be("",!0),g("span",oA,q(((w=(me=t.value)==null?void 0:me.branding)==null?void 0:w.name)||"Staking Pool"),1)]),Ce(x2,{"is-connected":ne(v).isConnected.value,"is-connecting":ne(v).isConnecting.value,"short-address":ne(v).shortAddress.value,error:ne(v).error.value,onConnect:ne(v).connect,onDisconnect:ne(v).disconnect},null,8,["is-connected","is-connecting","short-address","error","onConnect","onDisconnect"])])]),g("main",aA,[g("div",iA,[s.value?(O(),D("div",cA," Loading... ")):r.value?(O(),D("div",uA,[g("p",null,q(r.value),1),g("button",{class:"btn btn-primary",onClick:A},"Retry")])):(O(),D(Re,{key:2},[Ce(k2,{modelValue:a.value,"onUpdate:modelValue":P[0]||(P[0]=$e=>a.value=$e),tabs:f.value},null,8,["modelValue","tabs"]),a.value==="discover"?(O(),Xt(D3,{key:0,pools:ne(X).pools.value,"is-loading":ne(X).isLoading.value,error:ne(X).error.value,onSelectPool:ye,onRetry:ne(X).discoverPools},null,8,["pools","is-loading","error","onRetry"])):!m.value&&a.value!=="discover"?(O(),D("div",lA,[P[2]||(P[2]=g("p",null,"No pool selected",-1)),P[3]||(P[3]=g("p",{class:"text-secondary"},"Go to the Discover tab to select a pool",-1)),g("button",{class:"btn btn-primary",onClick:P[1]||(P[1]=$e=>a.value="discover")},"Discover Pools")])):a.value==="stake"&&m.value?(O(),Xt(Yx,{key:2,"pool-name":(k=n.value)==null?void 0:k.name,"pool-address":m.value,"validator-pubkey":(M=n.value)==null?void 0:M.validatorPubkey,"is-connected":ne(v).isConnected.value,"is-loading":ne($).isLoading.value,"wallet-balance":o.value,"explorer-url":c.value,"hub-boost-url":u.value,"incentive-collector":(K=n.value)==null?void 0:K.incentiveCollector,"formatted-total-assets":ne($).formattedTotalAssets.value,"formatted-incentive-payout-amount":ne($).formattedIncentivePayoutAmount.value,"formatted-incentive-fee-percentage":ne($).formattedIncentiveFeePercentage.value,"exchange-rate":ne($).exchangeRate.value,"pool-status":ne($).poolStatus.value,"is-fully-exited":ne($).isFullyExited.value,"formatted-user-shares":ne($).formattedUserShares.value,"formatted-user-assets":ne($).formattedUserAssets.value,"formatted-total-delegation":ne($).formattedTotalDelegation.value,onConnect:ne(v).connect,onStake:F,onPreviewDeposit:R},null,8,["pool-name","pool-address","validator-pubkey","is-connected","is-loading","wallet-balance","explorer-url","hub-boost-url","incentive-collector","formatted-total-assets","formatted-incentive-payout-amount","formatted-incentive-fee-percentage","exchange-rate","pool-status","is-fully-exited","formatted-user-shares","formatted-user-assets","formatted-total-delegation","onConnect"])):a.value==="withdraw"&&m.value?(O(),Xt(V8,{key:3,"pool-name":(V=n.value)==null?void 0:V.name,"pool-address":m.value,"validator-pubkey":(W=n.value)==null?void 0:W.validatorPubkey,"is-connected":ne(v).isConnected.value,"is-loading":ne(T).isLoading.value,"explorer-url":c.value,"hub-boost-url":u.value,"finalization-delay-blocks":ne(T).finalizationDelayBlocks.value,"seconds-per-block":ne(T).SECONDS_PER_BLOCK,"formatted-total-delegation":ne($).formattedTotalDelegation.value,"formatted-total-assets":ne($).formattedTotalAssets.value,"incentive-collector":(se=n.value)==null?void 0:se.incentiveCollector,"formatted-incentive-payout-amount":ne($).formattedIncentivePayoutAmount.value,"formatted-incentive-fee-percentage":ne($).formattedIncentiveFeePercentage.value,"exchange-rate":ne($).exchangeRate.value,"pool-status":ne($).poolStatus.value,"user-shares":ne($).userShares.value,"formatted-user-shares":ne($).formattedUserShares.value,"formatted-user-assets":ne($).formattedUserAssets.value,"withdrawal-requests":ne(T).withdrawalRequests.value,onConnect:ne(v).connect,onRequestRedeem:H,onPreviewRedeem:Y,onFinalize:oe,onFinalizeMultiple:ue},null,8,["pool-name","pool-address","validator-pubkey","is-connected","is-loading","explorer-url","hub-boost-url","finalization-delay-blocks","seconds-per-block","formatted-total-delegation","formatted-total-assets","incentive-collector","formatted-incentive-payout-amount","formatted-incentive-fee-percentage","exchange-rate","pool-status","user-shares","formatted-user-shares","formatted-user-assets","withdrawal-requests","onConnect"])):a.value==="nosy"&&m.value&&d.value?(O(),Xt(zP,{key:4,"pool-address":m.value,"explorer-url":c.value,"nosy-data":ne(U),"scan-status":(G=ne(_).scanStatus)==null?void 0:G.value,"scan-error":(ee=ne(_).scanError)==null?void 0:ee.value,events:((J=ne(_).events)==null?void 0:J.value)??[],"last-scanned-block":(de=ne(_).lastScannedBlock)==null?void 0:de.value,"scan-start-block":(ae=ne(_).scanStartBlock)==null?void 0:ae.value,"tip-watcher-active":(ie=ne(_).tipWatcherActive)==null?void 0:ie.value,"tip-blocks-scanned":((fe=ne(_).tipBlocksScanned)==null?void 0:fe.value)??0,"can-scan":((we=L.value)==null?void 0:we.value)??L.value,"has-reset":!0,onStartScan:ne(_).startScan,onStopScan:ne(_).stopScan,onStartTipWatcher:ne(_).startTipWatcher,onReset:j},null,8,["pool-address","explorer-url","nosy-data","scan-status","scan-error","events","last-scanned-block","scan-start-block","tip-watcher-active","tip-blocks-scanned","can-scan","onStartScan","onStopScan","onStartTipWatcher"])):a.value==="nosy"&&!d.value?(O(),D("div",dA,[...P[4]||(P[4]=[g("p",null,"Nosy Mode is disabled.",-1)])])):be("",!0)],64))])])])}}},hA=lt(fA,[["__scopeId","data-v-411cdf09"]]),tp=Bm(hA);tp.config.errorHandler=(e,t,n)=>{var r,o,a;const s=gu(e);console.error("[Vue error]",s.summary||s.message,{component:((r=t==null?void 0:t.$options)==null?void 0:r.name)??((a=(o=t==null?void 0:t.$)==null?void 0:o.type)==null?void 0:a.__name),info:n})};tp.mount("#app");export{Z as B,mr as H,Dv as a,ut as b,va as c,qy as d,us as e,nn as f,Oc as g,no as i,Pa as l,Ye as s};
